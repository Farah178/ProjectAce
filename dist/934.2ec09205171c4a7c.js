"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[934],{3934:(He,A,l)=>{l.r(A),l.d(A,{AppliedApprovedLeavesModule:()=>$e});var s=l(6895),x=l(9299),d=l(4006),v=l(2340),e=l(4650),h=l(4165),f=l(1693),b=l(9079),C=l(1377),u=l(3640),_=l(8304),g=l(8567);const T=function(o){return{"active-size":o}};function D(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableSizeChange(i))}),e._uU(1),e.qZA()}if(2&o){const t=a.$implicit,n=e.oxw();e.Q6J("value",t)("ngClass",e.VKq(3,T,n.tableSize===t)),e.xp6(1),e.Oqu(t)}}function L(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"span")(1,"button",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.open(i))}),e._UZ(2,"i",31),e.qZA()()}}function q(o,a){if(1&o&&(e.ynx(0),e.YNc(1,L,3,0,"span",14),e.BQk()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","DELETE"==t)}}function E(o,a){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",29),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",29),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"td",29),e._uU(11),e.qZA(),e.TgZ(12,"td",29),e._uU(13),e.qZA(),e.TgZ(14,"td",29),e._uU(15),e.qZA(),e.TgZ(16,"td",29),e._uU(17),e.ALo(18,"titlecase"),e.qZA(),e.TgZ(19,"td",29),e.YNc(20,q,2,1,"ng-container",27),e.qZA()()),2&o){const t=a.$implicit,n=a.index,i=e.oxw(2);e.xp6(2),e.Oqu(i.getContinuousIndex(n)),e.xp6(2),e.Oqu(t.your_applied_leave_from_date),e.xp6(2),e.Oqu(t.your_applied_leave_to_date),e.xp6(2),e.Oqu(e.lcZ(9,9,t.applied_days)),e.xp6(3),e.Oqu(t.alloted_leaves),e.xp6(2),e.Oqu(t.used_leaves),e.xp6(2),e.Oqu(t.applied_date),e.xp6(2),e.Oqu(e.lcZ(18,11,t.status)),e.xp6(3),e.Q6J("ngForOf",i.accessConfig)}}function y(o,a){1&o&&(e.TgZ(0,"tr",32)(1,"td"),e._uU(2," No records found !"),e.qZA()())}function M(o,a){if(1&o&&(e.ynx(0),e.YNc(1,E,21,13,"tr",27),e.ALo(2,"paginate"),e.YNc(3,y,3,0,"tr",28),e.BQk()),2&o){const t=a.ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,t,n.paginationConfig)),e.xp6(2),e.Q6J("ngIf",0===t.length)}}function k(o,a){if(1&o&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function w(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"span",49)(1,"button",50),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.open(i))}),e._UZ(2,"i",51),e.qZA()()}}function I(o,a){if(1&o&&(e.ynx(0),e.YNc(1,w,3,0,"span",48),e.BQk()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","DELETE"==t)}}function U(o,a){if(1&o&&(e.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",8)(5,"div",40)(6,"h6",41),e._uU(7,"Status"),e.qZA()()(),e.TgZ(8,"div",8)(9,"div",42),e._uU(10),e.ALo(11,"titlecase"),e.qZA()()(),e.TgZ(12,"div",43),e.YNc(13,I,2,1,"ng-container",27),e.qZA()(),e.TgZ(14,"div",44)(15,"div",45)(16,"div",8)(17,"div",46)(18,"div",8)(19,"div",40)(20,"h6",41),e._uU(21,"From date"),e.qZA()()(),e.TgZ(22,"div",8)(23,"div",47),e._uU(24),e.qZA()()(),e.TgZ(25,"div",46)(26,"div",8)(27,"div",40)(28,"h6",41),e._uU(29,"To date"),e.qZA()()(),e.TgZ(30,"div",8)(31,"div",47),e._uU(32),e.qZA()()()(),e.TgZ(33,"div",8)(34,"div",46)(35,"div",8)(36,"div",40)(37,"h6",41),e._uU(38,"Applied Days"),e.qZA()()(),e.TgZ(39,"div",8)(40,"div",47),e._uU(41),e.ALo(42,"titlecase"),e.qZA()()(),e.TgZ(43,"div",46)(44,"div",8)(45,"div",40)(46,"h6",41),e._uU(47,"Alloted Days"),e.qZA()()(),e.TgZ(48,"div",8)(49,"div",47),e._uU(50),e.qZA()()()(),e.TgZ(51,"div",8)(52,"div",46)(53,"div",8)(54,"div",40)(55,"h6",41),e._uU(56,"Used Leaves"),e.qZA()()(),e.TgZ(57,"div",8)(58,"div",47),e._uU(59),e.qZA()()(),e.TgZ(60,"div",46)(61,"div",8)(62,"div",40)(63,"h6",41),e._uU(64,"Applied Date"),e.qZA()()(),e.TgZ(65,"div",8)(66,"div",47),e._uU(67),e.qZA()()()()()()()()),2&o){const t=a.$implicit,n=e.oxw(2);e.xp6(10),e.hij(" ",t.approved_state?t.approved_state:e.lcZ(11,8,"Yet to Approve")," "),e.xp6(3),e.Q6J("ngForOf",n.accessConfig),e.xp6(11),e.hij(" ",t.your_applied_leave_from_date," "),e.xp6(8),e.hij(" ",t.your_applied_leave_to_date," "),e.xp6(9),e.hij(" ",e.lcZ(42,10,t.applied_days)," "),e.xp6(9),e.hij(" ",t.alloted_leaves," "),e.xp6(9),e.hij(" ",t.used_leaves," "),e.xp6(8),e.hij(" ",t.applied_date," ")}}function S(o,a){1&o&&(e.TgZ(0,"div",40)(1,"div",52)(2,"div",45)(3,"p"),e._uU(4,"No records found"),e.qZA()()()())}function z(o,a){if(1&o&&(e.ynx(0),e.YNc(1,U,68,12,"div",34),e.ALo(2,"paginate"),e.YNc(3,S,5,0,"div",35),e.BQk()),2&o){const t=a.ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,t,n.paginationConfig)),e.xp6(2),e.Q6J("ngIf",0===t.length)}}function N(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onTableSizeChange(i))}),e._uU(1),e.qZA()}if(2&o){const t=a.$implicit,n=e.oxw(2);e.Q6J("value",t)("ngClass",e.VKq(3,T,n.tableSize===t)),e.xp6(1),e.Oqu(t)}}function Y(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",15)(2,"div",54)(3,"pagination-controls",17),e.NdJ("pageChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(i))}),e.qZA(),e.TgZ(4,"div"),e.YNc(5,N,2,5,"button",6),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.tableSizes)}}let F=(()=>{class o{constructor(t,n,i,r,p,c){this.builder=t,this.api=n,this.modalService=i,this.cdr=r,this.common_service=p,this.cdref=c,this.buttonClick=new e.vpe,this.filter=new e.vpe,this.list=[],this.term="",this.page=1,this.tableSize=10,this.tableSizes=[10,25,50,100],this.count=0,this.permissions=[],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(t){t.data.currentValue&&(this.data=t.data.currentValue),t.totalCount.currentValue&&(this.paginationConfig.totalItems=t.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=t.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=t.totalCount.currentValue.currentPage,this.count=t.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&pagination=TRUE&organization_id=${this.orgId}`).subscribe(t=>{"401"!==t.status_code?this.common_service.permission.next(t.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(t=>{t.length>0&&t.forEach((i,r)=>{i["APPLIED/APPROVIED_LEAVES"]&&(this.accessConfig=i["APPLIED/APPROVIED_LEAVES"])})})}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(t){this.page=t,this.buttonClick.emit({page:t,tableSize:this.tableSize,search_key:this.term})}onTableSizeChange(t){this.tableSize=Number(t.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})}delete(t){this.api.deletePeopleLeaves(t.id,{module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"DELETE",user_id:this.user_id}).subscribe(i=>{this.api.showWarning("Yet to approve leave deleted successfully!"),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})},i=>{this.api.showError(i.error.error.message)})}open(t){if(t){const n=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});n.componentInstance.status.subscribe(i=>{"ok"==i&&this.delete(t),n.close()})}}openDialogue(t,n){if(t){const i="DECLINED"===n?"decline":"approve",r="APPROVED"===n?"Approve":"Decline",p=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});p.componentInstance.title=`Are you sure do you want to ${i}`,p.componentInstance.message=`${r} confirmation`,p.componentInstance.status.subscribe(c=>{"ok"==c&&this.updateStatus(t,n),p.close()})}}updateStatus(t,n){this.user_id=JSON.parse(sessionStorage.getItem("user_id"));let i=new Date,r=("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear();this.api.leaveApplicationState({user_id:this.user_id,module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"APPROVED"===n?"APPROVE":"REJECT",id:t,approved_state:n,approved_by_id:this.user_id,approved_date:r}).subscribe(O=>{this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})})}getContinuousIndex(t){return(this.page-1)*this.tableSize+t+1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.qu),e.Y36(h.O),e.Y36(_.FF),e.Y36(e.sBO),e.Y36(f.R),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-yet-to-approve"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[e.TTD],decls:46,vars:5,consts:[[1,"container-fluid","webView","pt-2"],[1,"row","p-20"],[1,"col-sm-4","search-div","px-0"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],["id","i-cr"],[4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-12","col-md-6","col-lg-2","px-0"],["aria-label","Default select example",1,"form-select","page-set",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[1,"text-center"],[2,"border","none","background-color","inherit",3,"click"],["container","body","ngbTooltip","Delete",1,"fas","fa-trash-alt",2,"color","red"],[1,"nodata"],[3,"ngValue"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],["style","float: right;",4,"ngIf"],[2,"float","right"],["type","button",1,"toolbar-btn",3,"click"],[1,"bi","bi-trash",2,"color","red","font-size","24px"],[1,"card"],[1,"row","mobile-pagination"],[1,"mobile-pagination-content"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2)(3,"div",3),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,D,2,5,"button",6),e.qZA()()(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"table",10)(11,"thead")(12,"tr")(13,"th",11),e._uU(14,"S.No"),e.qZA(),e.TgZ(15,"th",12),e._uU(16,"From Date"),e.qZA(),e.TgZ(17,"th",12),e._uU(18,"To Date"),e.qZA(),e.TgZ(19,"th",12),e._uU(20,"Applied Days"),e.qZA(),e.TgZ(21,"th",12),e._uU(22,"Alloted Leaves"),e.qZA(),e.TgZ(23,"th",12),e._uU(24,"Used Leaves"),e.qZA(),e.TgZ(25,"th",12),e._uU(26,"Applied Date"),e.qZA(),e.TgZ(27,"th",12),e._uU(28,"Status"),e.qZA(),e.TgZ(29,"th",12),e._uU(30,"Action"),e.qZA()()(),e.TgZ(31,"tbody",13),e.YNc(32,M,4,5,"ng-container",14),e.qZA()()()()(),e.TgZ(33,"div",8)(34,"div",15)(35,"div",16)(36,"pagination-controls",17),e.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),e.qZA()()()()(),e.TgZ(37,"div",18)(38,"div",19)(39,"div",20)(40,"select",21),e.NdJ("change",function(r){return n.onTableSizeChange(r)}),e.YNc(41,k,2,2,"option",22),e.qZA()(),e._UZ(42,"div",23),e.TgZ(43,"div",24),e.YNc(44,z,4,5,"ng-container",14),e.qZA(),e.YNc(45,Y,6,1,"div",25),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.tableSizes),e.xp6(26),e.Q6J("ngIf",n.data),e.xp6(9),e.Q6J("ngForOf",n.tableSizes),e.xp6(3),e.Q6J("ngIf",n.list),e.xp6(1),e.Q6J("ngIf",0!==n.list.length))},dependencies:[s.mk,s.sg,s.O5,d.YN,d.Kr,g.LS,_._L,s.rS,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}#search-icon-tab[_ngcontent-%COMP%]{top:10px!important}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:5px;border-radius:5px;margin:0!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:40px;margin-bottom:4px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}#i-cr[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 2px!important;margin:0!important}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #FFAF13;padding:10px 0;zoom:90%;background:#FFFCF3;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const Z=function(o){return{"active-size":o}};function V(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableSizeChange(i))}),e._uU(1),e.qZA()}if(2&o){const t=a.$implicit,n=e.oxw();e.Q6J("value",t)("ngClass",e.VKq(3,Z,n.tableSize===t)),e.xp6(1),e.Oqu(t)}}function J(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"span")(1,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.open(i))}),e._UZ(2,"i",30),e.qZA()()}}function R(o,a){if(1&o&&(e.ynx(0),e.YNc(1,J,3,0,"span",14),e.BQk()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","DELETE"==t)}}function Q(o,a){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",28),e._uU(4),e.qZA(),e.TgZ(5,"td",28),e._uU(6),e.qZA(),e.TgZ(7,"td",28),e._uU(8),e.qZA(),e.TgZ(9,"td",28),e._uU(10),e.qZA(),e.TgZ(11,"td",28),e._uU(12),e.qZA(),e.TgZ(13,"td",28),e._uU(14),e.ALo(15,"titlecase"),e.qZA(),e.TgZ(16,"td",28),e._uU(17),e.qZA(),e.TgZ(18,"td",28),e._uU(19),e.ALo(20,"titlecase"),e.qZA(),e.TgZ(21,"td",28),e.YNc(22,R,2,1,"ng-container",26),e.qZA()()),2&o){const t=a.$implicit,n=a.index,i=e.oxw(2);e.xp6(2),e.Oqu(i.getContinuousIndex(n)),e.xp6(2),e.Oqu(t.your_applied_leave_from_date),e.xp6(2),e.Oqu(t.your_applied_leave_to_date),e.xp6(2),e.Oqu(t.applied_days),e.xp6(2),e.Oqu(t.used_leaves),e.xp6(2),e.Oqu(t.applied_date),e.xp6(2),e.Oqu(e.lcZ(15,10,t.approved_by_name)),e.xp6(3),e.Oqu(t.approved_date),e.xp6(2),e.Oqu(e.lcZ(20,12,t.status)),e.xp6(3),e.Q6J("ngForOf",i.accessConfig)}}function $(o,a){1&o&&(e.TgZ(0,"tr",31)(1,"td"),e._uU(2," No records found!"),e.qZA()())}function H(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Q,23,14,"tr",26),e.ALo(2,"paginate"),e.YNc(3,$,3,0,"tr",27),e.BQk()),2&o){const t=a.ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,t,n.paginationConfig)),e.xp6(2),e.Q6J("ngIf",0===t.length)}}function j(o,a){if(1&o&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function K(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"span",48)(1,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.open(i))}),e._UZ(2,"i",50),e.qZA()()}}function B(o,a){if(1&o&&(e.ynx(0),e.YNc(1,K,3,0,"span",47),e.BQk()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","DELETE"==t)}}function G(o,a){if(1&o&&(e.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",8)(5,"div",39)(6,"h6",40),e._uU(7,"Status"),e.qZA()()(),e.TgZ(8,"div",8)(9,"div",41),e._uU(10),e.qZA()()(),e.TgZ(11,"div",42),e.YNc(12,B,2,1,"ng-container",26),e.qZA()(),e.TgZ(13,"div",43)(14,"div",44)(15,"div",8)(16,"div",45)(17,"div",8)(18,"div",39)(19,"h6",40),e._uU(20,"From date"),e.qZA()()(),e.TgZ(21,"div",8)(22,"div",46),e._uU(23),e.qZA()()(),e.TgZ(24,"div",45)(25,"div",8)(26,"div",39)(27,"h6",40),e._uU(28,"To date"),e.qZA()()(),e.TgZ(29,"div",8)(30,"div",46),e._uU(31),e.qZA()()()(),e.TgZ(32,"div",8)(33,"div",45)(34,"div",8)(35,"div",39)(36,"h6",40),e._uU(37,"Applied Days"),e.qZA()()(),e.TgZ(38,"div",8)(39,"div",46),e._uU(40),e.ALo(41,"titlecase"),e.qZA()()(),e.TgZ(42,"div",45)(43,"div",8)(44,"div",39)(45,"h6",40),e._uU(46,"Alloted Days"),e.qZA()()(),e.TgZ(47,"div",8)(48,"div",46),e._uU(49),e.qZA()()()(),e.TgZ(50,"div",8)(51,"div",45)(52,"div",8)(53,"div",39)(54,"h6",40),e._uU(55,"Used Leaves"),e.qZA()()(),e.TgZ(56,"div",8)(57,"div",46),e._uU(58),e.qZA()()(),e.TgZ(59,"div",45)(60,"div",8)(61,"div",39)(62,"h6",40),e._uU(63,"Applied Date"),e.qZA()()(),e.TgZ(64,"div",8)(65,"div",46),e._uU(66),e.qZA()()()(),e.TgZ(67,"div",8)(68,"div",45)(69,"div",8)(70,"div",39)(71,"h6",40),e._uU(72,"Approved By"),e.qZA()()(),e.TgZ(73,"div",8)(74,"div",46),e._uU(75),e.ALo(76,"titlecase"),e.qZA()()(),e.TgZ(77,"div",45)(78,"div",8)(79,"div",39)(80,"h6",40),e._uU(81,"Approved Date"),e.qZA()()(),e.TgZ(82,"div",8)(83,"div",46),e._uU(84),e.qZA()()()()()()()()),2&o){const t=a.$implicit,n=e.oxw(2);e.xp6(10),e.hij(" ",t.status?t.status:"NA"," "),e.xp6(2),e.Q6J("ngForOf",n.accessConfig),e.xp6(11),e.hij(" ",t.your_applied_leave_from_date," "),e.xp6(8),e.hij(" ",t.your_applied_leave_to_date," "),e.xp6(9),e.hij(" ",e.lcZ(41,10,t.applied_days)," "),e.xp6(9),e.hij(" ",t.alloted_leaves," "),e.xp6(9),e.hij(" ",t.used_leaves," "),e.xp6(8),e.hij(" ",t.applied_date," "),e.xp6(9),e.hij(" ",e.lcZ(76,12,t.approved_by_name)," "),e.xp6(9),e.hij(" ",t.approved_date," ")}}function W(o,a){1&o&&(e.TgZ(0,"div",39)(1,"div",51)(2,"div",44)(3,"p"),e._uU(4,"No records found !"),e.qZA()()()())}function X(o,a){if(1&o&&(e.ynx(0),e.YNc(1,G,85,14,"div",33),e.ALo(2,"paginate"),e.YNc(3,W,5,0,"div",34),e.BQk()),2&o){const t=a.ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,t,n.paginationConfig)),e.xp6(2),e.Q6J("ngIf",0===t.length)}}function ee(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onTableSizeChange(i))}),e._uU(1),e.qZA()}if(2&o){const t=a.$implicit,n=e.oxw(2);e.Q6J("value",t)("ngClass",e.VKq(3,Z,n.tableSize===t)),e.xp6(1),e.Oqu(t)}}function te(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",52)(1,"div",53)(2,"div",54)(3,"pagination-controls",16),e.NdJ("pageChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(i))}),e.qZA(),e.TgZ(4,"div"),e.YNc(5,ee,2,5,"button",6),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.tableSizes)}}let ne=(()=>{class o{constructor(t,n,i,r,p){this.builder=t,this.api=n,this.modalService=i,this.common_service=r,this.cdref=p,this.buttonClick=new e.vpe,this.filter=new e.vpe,this.list=[],this.term="",this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(t){t.data.currentValue&&(this.data=t.data.currentValue),t.totalCount.currentValue&&(this.paginationConfig.totalItems=t.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=t.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=t.totalCount.currentValue.currentPage,this.count=t.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&pagination=TRUE&organization_id=${this.orgId}`).subscribe(t=>{"401"!==t.status_code?this.common_service.permission.next(t.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(t=>{t.length>0&&t.forEach((i,r)=>{i["APPLIED/APPROVIED_LEAVES"]&&(this.accessConfig=i["APPLIED/APPROVIED_LEAVES"])})})}delete(t){this.api.deletePeopleLeaves(t.id,{module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"DELETE",user_id:this.user_id}).subscribe(i=>{this.api.showWarning("Approved leave deleted successfully!"),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})},i=>{this.api.showError(i.error.error.message)})}openDialogue(t,n){if(t){const i="APPROVED"===n?"approve":"decline",r="APPROVED"===n?"Approve":"Decline",p=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});p.componentInstance.title=`Are you sure do you want to ${i}`,p.componentInstance.message=`${r} confirmation`,p.componentInstance.status.subscribe(c=>{"ok"==c&&this.updateStatus(t,n),p.close()})}}updateStatus(t,n){this.user_id=JSON.parse(sessionStorage.getItem("user_id"));let i=new Date,r=("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear();this.api.leaveApplicationState({user_id:this.user_id,module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"APPROVED"===n?"APPROVE":"REJECT",id:t,approved_state:n,approved_by_id:this.user_id,approved_date:r}).subscribe(O=>{this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})})}open(t){if(t){const n=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});n.componentInstance.status.subscribe(i=>{"ok"==i&&this.delete(t),n.close()})}}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(t){this.page=t,this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})}onTableSizeChange(t){this.tableSize=Number(t.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})}getContinuousIndex(t){return(this.page-1)*this.tableSize+t+1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.qu),e.Y36(h.O),e.Y36(_.FF),e.Y36(f.R),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-approved"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[e.TTD],decls:48,vars:5,consts:[[1,"container-fluid","webView","pt-2"],[1,"row","p-20"],[1,"col-sm-4","search-div","px-0"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col"],[1,"table","table-hover"],["scope","col"],["scope","col",1,"text-center"],["id","i-cr"],[4,"ngIf"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-12","col-md-6","col-lg-2","px-0"],["aria-label","Default select example",1,"form-select","page-set",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[1,"text-center"],[2,"border","none","background-color","inherit",3,"click"],["container","body","ngbTooltip","Delete",1,"fas","fa-trash-alt",2,"color","red"],[1,"nodata"],[3,"ngValue"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],["style","float: right;",4,"ngIf"],[2,"float","right"],["type","button",1,"toolbar-btn",3,"click"],[1,"bi","bi-trash",2,"color","red","font-size","24px"],[1,"card"],[1,"row","mobile-pagination"],[1,"col-sm-12"],[1,"mobile-pagination-content"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2)(3,"div",3),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,V,2,5,"button",6),e.qZA()()(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"table",10)(11,"thead")(12,"tr")(13,"th",11),e._uU(14,"S.No"),e.qZA(),e.TgZ(15,"th",12),e._uU(16,"From Date"),e.qZA(),e.TgZ(17,"th",12),e._uU(18,"To Date"),e.qZA(),e.TgZ(19,"th",12),e._uU(20,"Applied Days"),e.qZA(),e.TgZ(21,"th",12),e._uU(22,"Used Leaves"),e.qZA(),e.TgZ(23,"th",12),e._uU(24,"Applied Date"),e.qZA(),e.TgZ(25,"th",12),e._uU(26,"Approved By"),e.qZA(),e.TgZ(27,"th",12),e._uU(28,"Approved Date"),e.qZA(),e.TgZ(29,"th",12),e._uU(30,"Status"),e.qZA(),e.TgZ(31,"th",12),e._uU(32,"Action"),e.qZA()()(),e.TgZ(33,"tbody",13),e.YNc(34,H,4,5,"ng-container",14),e.qZA()()()()(),e.TgZ(35,"div",8)(36,"div",3)(37,"div",15)(38,"pagination-controls",16),e.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),e.qZA()()()()(),e.TgZ(39,"div",17)(40,"div",18)(41,"div",19)(42,"select",20),e.NdJ("change",function(r){return n.onTableSizeChange(r)}),e.YNc(43,j,2,2,"option",21),e.qZA()(),e._UZ(44,"div",22),e.TgZ(45,"div",23),e.YNc(46,X,4,5,"ng-container",14),e.qZA(),e.YNc(47,te,6,1,"div",24),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.tableSizes),e.xp6(28),e.Q6J("ngIf",n.data),e.xp6(9),e.Q6J("ngForOf",n.tableSizes),e.xp6(3),e.Q6J("ngIf",n.list),e.xp6(1),e.Q6J("ngIf",0!==n.list.length))},dependencies:[s.mk,s.sg,s.O5,d.YN,d.Kr,g.LS,_._L,s.rS,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}#search-icon-tab[_ngcontent-%COMP%]{top:10px!important}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:5px;border-radius:5px;margin:0!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:40px;margin-bottom:4px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}#i-cr[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 2px!important;margin:0!important}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #13FF2B;padding:10px 0;zoom:90%;background:#F3FFF5;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const P=function(o){return{"active-size":o}};function oe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableSizeChange(i))}),e._uU(1),e.qZA()}if(2&o){const t=a.$implicit,n=e.oxw();e.Q6J("value",t)("ngClass",e.VKq(3,P,n.tableSize===t)),e.xp6(1),e.Oqu(t)}}function ie(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"span")(1,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.open(i))}),e._UZ(2,"i",30),e.qZA()()}}function ae(o,a){if(1&o&&(e.ynx(0),e.YNc(1,ie,3,0,"span",14),e.BQk()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","DELETE"==t)}}function re(o,a){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",28),e._uU(4),e.qZA(),e.TgZ(5,"td",28),e._uU(6),e.qZA(),e.TgZ(7,"td",28),e._uU(8),e.qZA(),e.TgZ(9,"td",28),e._uU(10),e.qZA(),e.TgZ(11,"td",28),e._uU(12),e.qZA(),e.TgZ(13,"td",28),e._uU(14),e.qZA(),e.TgZ(15,"td",28),e._uU(16),e.qZA(),e.TgZ(17,"td",28),e._uU(18),e.ALo(19,"titlecase"),e.qZA(),e.TgZ(20,"td",28),e.YNc(21,ae,2,1,"ng-container",26),e.qZA()()),2&o){const t=a.$implicit,n=a.index,i=e.oxw(2);e.xp6(2),e.Oqu(i.getContinuousIndex(n)),e.xp6(2),e.Oqu(t.your_applied_leave_from_date),e.xp6(2),e.Oqu(t.your_applied_leave_to_date),e.xp6(2),e.Oqu(t.applied_days),e.xp6(2),e.Oqu(t.alloted_leaves),e.xp6(2),e.Oqu(t.used_leaves),e.xp6(2),e.Oqu(t.applied_date),e.xp6(2),e.Oqu(t.modified_date),e.xp6(2),e.Oqu(e.lcZ(19,10,t.status)),e.xp6(3),e.Q6J("ngForOf",i.accessConfig)}}function pe(o,a){1&o&&(e.TgZ(0,"tr",31)(1,"td"),e._uU(2," No records found !"),e.qZA()())}function de(o,a){if(1&o&&(e.ynx(0),e.YNc(1,re,22,12,"tr",26),e.ALo(2,"paginate"),e.YNc(3,pe,3,0,"tr",27),e.BQk()),2&o){const t=a.ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,t,n.paginationConfig)),e.xp6(2),e.Q6J("ngIf",0===t.length)}}function le(o,a){if(1&o&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function se(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"span",48)(1,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.open(i))}),e._UZ(2,"i",50),e.qZA()()}}function ce(o,a){if(1&o&&(e.ynx(0),e.YNc(1,se,3,0,"span",47),e.BQk()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","DELETE"==t)}}function _e(o,a){if(1&o&&(e.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",8)(5,"div",39)(6,"h6",40),e._uU(7,"Status"),e.qZA()()(),e.TgZ(8,"div",8)(9,"div",41),e._uU(10),e.ALo(11,"titlecase"),e.qZA()()(),e.TgZ(12,"div",42),e.YNc(13,ce,2,1,"ng-container",26),e.qZA()(),e.TgZ(14,"div",43)(15,"div",44)(16,"div",8)(17,"div",45)(18,"div",8)(19,"div",39)(20,"h6",40),e._uU(21,"From date"),e.qZA()()(),e.TgZ(22,"div",8)(23,"div",46),e._uU(24),e.qZA()()(),e.TgZ(25,"div",45)(26,"div",8)(27,"div",39)(28,"h6",40),e._uU(29,"To date"),e.qZA()()(),e.TgZ(30,"div",8)(31,"div",46),e._uU(32),e.qZA()()()(),e.TgZ(33,"div",8)(34,"div",45)(35,"div",8)(36,"div",39)(37,"h6",40),e._uU(38,"Applied Days"),e.qZA()()(),e.TgZ(39,"div",8)(40,"div",46),e._uU(41),e.ALo(42,"titlecase"),e.qZA()()(),e.TgZ(43,"div",45)(44,"div",8)(45,"div",39)(46,"h6",40),e._uU(47,"Alloted Days"),e.qZA()()(),e.TgZ(48,"div",8)(49,"div",46),e._uU(50),e.qZA()()()(),e.TgZ(51,"div",8)(52,"div",45)(53,"div",8)(54,"div",39)(55,"h6",40),e._uU(56,"Used Leaves"),e.qZA()()(),e.TgZ(57,"div",8)(58,"div",46),e._uU(59),e.qZA()()(),e.TgZ(60,"div",45)(61,"div",8)(62,"div",39)(63,"h6",40),e._uU(64,"Applied Date"),e.qZA()()(),e.TgZ(65,"div",8)(66,"div",46),e._uU(67),e.qZA()()()(),e.TgZ(68,"div",8)(69,"div",45)(70,"div",8)(71,"div",39)(72,"h6",40),e._uU(73,"Approved By"),e.qZA()()(),e.TgZ(74,"div",8)(75,"div",46),e._uU(76),e.qZA()()(),e.TgZ(77,"div",45)(78,"div",8)(79,"div",39)(80,"h6",40),e._uU(81,"Rejected Date"),e.qZA()()(),e.TgZ(82,"div",8)(83,"div",46),e._uU(84),e.qZA()()()()()()()()),2&o){const t=a.$implicit,n=e.oxw(2);e.xp6(10),e.hij(" ",t.status?t.status:e.lcZ(11,10,"NA")," "),e.xp6(3),e.Q6J("ngForOf",n.accessConfig),e.xp6(11),e.hij(" ",t.your_applied_leave_from_date," "),e.xp6(8),e.hij(" ",t.your_applied_leave_to_date," "),e.xp6(9),e.hij(" ",e.lcZ(42,12,t.applied_days)," "),e.xp6(9),e.hij(" ",t.alloted_leaves," "),e.xp6(9),e.hij(" ",t.used_leaves," "),e.xp6(8),e.hij(" ",t.applied_date," "),e.xp6(9),e.hij(" ",t.approved_by_name," "),e.xp6(8),e.hij(" ",t.approved_date," ")}}function ge(o,a){1&o&&(e.TgZ(0,"div",39)(1,"div",51)(2,"div",44)(3,"p"),e._uU(4,"No records found !"),e.qZA()()()())}function ue(o,a){if(1&o&&(e.ynx(0),e.YNc(1,_e,85,14,"div",33),e.ALo(2,"paginate"),e.YNc(3,ge,5,0,"div",34),e.BQk()),2&o){const t=a.ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,t,n.paginationConfig)),e.xp6(2),e.Q6J("ngIf",0===t.length)}}function me(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onTableSizeChange(i))}),e._uU(1),e.qZA()}if(2&o){const t=a.$implicit,n=e.oxw(2);e.Q6J("value",t)("ngClass",e.VKq(3,P,n.tableSize===t)),e.xp6(1),e.Oqu(t)}}function ve(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",52)(1,"div",53)(2,"div",54)(3,"pagination-controls",16),e.NdJ("pageChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(i))}),e.qZA(),e.TgZ(4,"div"),e.YNc(5,me,2,5,"button",6),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.tableSizes)}}let he=(()=>{class o{constructor(t,n,i,r,p){this.builder=t,this.api=n,this.modalService=i,this.common_service=r,this.cdref=p,this.buttonClick=new e.vpe,this.filter=new e.vpe,this.list=[],this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.term="",this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(t){t.data.currentValue&&(this.data=t.data.currentValue),t.totalCount.currentValue&&(this.paginationConfig.totalItems=t.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=t.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=t.totalCount.currentValue.currentPage,this.count=t.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&pagination=TRUE&organization_id=${this.orgId}`).subscribe(t=>{"401"!==t.status_code?this.common_service.permission.next(t.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(t=>{t.length>0&&t.forEach((i,r)=>{i["APPLIED/APPROVIED_LEAVES"]&&(this.accessConfig=i["APPLIED/APPROVIED_LEAVES"])})})}delete(t){this.api.deletePeopleLeaves(t.id,{module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"DELETE",user_id:this.user_id}).subscribe(i=>{this.api.showWarning("Declined leave deleted successfully!"),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})},i=>{this.api.showError(i.error.error.message)})}open(t){if(t){const n=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});n.componentInstance.status.subscribe(i=>{"ok"==i&&this.delete(t),n.close()})}}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(t){this.page=t,this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})}onTableSizeChange(t){this.tableSize=Number(t.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})}openDialogue(t,n){if(t){const i="APPROVED"===n?"approve":"decline",r="APPROVED"===n?"Approve":"Decline",p=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});p.componentInstance.title=`Are you sure do you want to ${i}`,p.componentInstance.message=`${r} confirmation`,p.componentInstance.status.subscribe(c=>{"ok"==c&&this.updateStatus(t,n),p.close()})}}updateStatus(t,n){this.user_id=JSON.parse(sessionStorage.getItem("user_id"));let i=new Date,r=("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear();this.api.leaveApplicationState({user_id:this.user_id,module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"APPROVED"===n?"APPROVE":"REJECT",id:t,approved_state:n,approved_by_id:this.user_id,approved_date:r}).subscribe(O=>{this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})})}getContinuousIndex(t){return(this.page-1)*this.tableSize+t+1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.qu),e.Y36(h.O),e.Y36(_.FF),e.Y36(f.R),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-declined"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[e.TTD],decls:48,vars:5,consts:[[1,"container-fluid","webView","pt-2"],[1,"row","p-20"],[1,"col-sm-4","search-div","px-0"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],["id","i-cr"],[4,"ngIf"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-12","col-md-6","col-lg-2","px-0"],["aria-label","Default select example",1,"form-select","page-set",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[1,"text-center"],[2,"border","none","background-color","inherit",3,"click"],["container","body","ngbTooltip","Delete",1,"fas","fa-trash-alt",2,"color","red"],[1,"nodata"],[3,"ngValue"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],["style","float: right;",4,"ngIf"],[2,"float","right"],["mat-raised-button","","type","button",1,"toolbar-btn",3,"click"],[1,"bi","bi-trash",2,"color","red","font-size","24px"],[1,"card"],[1,"row","mobile-pagination"],[1,"col-sm-12"],[1,"mobile-pagination-content"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2)(3,"div",3),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,oe,2,5,"button",6),e.qZA()()(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"table",10)(11,"thead")(12,"tr")(13,"th",11),e._uU(14,"S.No"),e.qZA(),e.TgZ(15,"th",12),e._uU(16,"From Date"),e.qZA(),e.TgZ(17,"th",12),e._uU(18,"To Date"),e.qZA(),e.TgZ(19,"th",12),e._uU(20,"Applied Days"),e.qZA(),e.TgZ(21,"th",12),e._uU(22,"Alloted Leaves"),e.qZA(),e.TgZ(23,"th",12),e._uU(24,"Used Leaves"),e.qZA(),e.TgZ(25,"th",12),e._uU(26,"Applied Date"),e.qZA(),e.TgZ(27,"th",12),e._uU(28,"Rejected Date"),e.qZA(),e.TgZ(29,"th",12),e._uU(30,"Status"),e.qZA(),e.TgZ(31,"th",12),e._uU(32,"Action"),e.qZA()()(),e.TgZ(33,"tbody",13),e.YNc(34,de,4,5,"ng-container",14),e.qZA()()()()(),e.TgZ(35,"div",8)(36,"div",3)(37,"div",15)(38,"pagination-controls",16),e.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),e.qZA()()()()(),e.TgZ(39,"div",17)(40,"div",18)(41,"div",19)(42,"select",20),e.NdJ("change",function(r){return n.onTableSizeChange(r)}),e.YNc(43,le,2,2,"option",21),e.qZA()(),e._UZ(44,"div",22),e.TgZ(45,"div",23),e.YNc(46,ue,4,5,"ng-container",14),e.qZA(),e.YNc(47,ve,6,1,"div",24),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.tableSizes),e.xp6(28),e.Q6J("ngIf",n.data),e.xp6(9),e.Q6J("ngForOf",n.tableSizes),e.xp6(3),e.Q6J("ngIf",n.list),e.xp6(1),e.Q6J("ngIf",0!==n.list.length))},dependencies:[s.mk,s.sg,s.O5,d.YN,d.Kr,g.LS,_._L,C.lW,s.rS,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}#search-icon-tab[_ngcontent-%COMP%]{top:10px!important}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:5px;border-radius:5px;margin:0!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:40px;margin-bottom:4px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}#i-cr[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 2px!important;margin:0!important}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #FF1313;padding:10px 0;zoom:90%;background:#FFF3F3;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const fe=["tabset"];function be(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"From date is required"),e.qZA())}function Ae(o,a){if(1&o&&(e.TgZ(0,"div",36),e.YNc(1,be,2,0,"p",35),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.from_date.errors.required)}}function xe(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"To date is required"),e.qZA())}function Ce(o,a){if(1&o&&(e.TgZ(0,"div",36),e.YNc(1,xe,2,0,"p",35),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.to_date.errors.required)}}function Te(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"app-yet-to-approve",37),e.NdJ("filter",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.searchFiter(i))})("buttonClick",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.buttonClick(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("data",t.AllListData)("totalCount",t.totalCount)}}function Ze(o,a){1&o&&(e.TgZ(0,"div",38),e._uU(1,"No records found "),e.qZA())}function Pe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"app-approved",37),e.NdJ("filter",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.searchFiter(i))})("buttonClick",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.buttonClick(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("data",t.AllListData)("totalCount",t.totalCount)}}function Oe(o,a){1&o&&(e.TgZ(0,"div",38),e._uU(1,"No records found "),e.qZA())}function De(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"app-declined",37),e.NdJ("filter",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.searchFiter(i))})("buttonClick",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.buttonClick(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("data",t.AllListData)("totalCount",t.totalCount)}}function Le(o,a){1&o&&(e.TgZ(0,"div",38),e._uU(1,"No records found "),e.qZA())}function qe(o,a){1&o&&(e.TgZ(0,"span")(1,"b"),e._uU(2,"-"),e.qZA()())}function Ee(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"From date is required"),e.qZA())}function ye(o,a){if(1&o&&(e.TgZ(0,"div",36),e.YNc(1,Ee,2,0,"p",35),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.from_date.errors.required)}}function Me(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"To date is required"),e.qZA())}function ke(o,a){if(1&o&&(e.TgZ(0,"div",36),e.YNc(1,Me,2,0,"p",35),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.to_date.errors.required)}}function we(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"app-yet-to-approve",37),e.NdJ("filter",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.searchFiter(i))})("buttonClick",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.buttonClick(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("data",t.AllListData)("totalCount",t.totalCount)}}function Ie(o,a){1&o&&(e.TgZ(0,"div",38),e._uU(1,"No records found "),e.qZA())}function Ue(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"app-approved",37),e.NdJ("filter",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.searchFiter(i))})("buttonClick",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.buttonClick(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("data",t.AllListData)("totalCount",t.totalCount)}}function Se(o,a){1&o&&(e.TgZ(0,"div",38),e._uU(1,"No records found "),e.qZA())}function ze(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"app-declined",37),e.NdJ("filter",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.searchFiter(i))})("buttonClick",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.buttonClick(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("data",t.AllListData)("totalCount",t.totalCount)}}function Ne(o,a){1&o&&(e.TgZ(0,"div",38),e._uU(1,"No records found "),e.qZA())}const Ye=[{path:"",component:(()=>{class o{constructor(t,n,i,r,p,c){this.api=t,this.datepipe=n,this._fb=i,this.location=r,this.common_service=p,this.cdref=c,this.BreadCrumbsTitle="Applied approved leaves",this.AllCardData=[],this.selectedTab="",this.AllListData=[],this.changes=!1,this.yetToApprove=[],this.approved=[],this.declined={},this.user_id=sessionStorage.getItem("user_id")}goBack(t){t.preventDefault(),this.location.back()}initForm(){this.appliedLeaveForm=this._fb.group({from_date:["",d.kI.required],to_date:["",d.kI.required]})}ngOnInit(){this.common_service.setTitle(this.BreadCrumbsTitle),this.orgId=sessionStorage.getItem("org_id"),this.initForm(),this.getByStatus({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:1,data_per_page:10,user_id:this.user_id,pagination:"TRUE",search_key:"",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED"})}searchFiter(t){t&&(this.cdref.detectChanges(),this.changes?this.getAppliedLeaves({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:t.page,data_per_page:t.tableSize,search_key:t.search_key,user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",leaveApplication_from_date:this.fromDate,leaveApplication_to_date:this.toDate}):this.getByStatus({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:t.page,data_per_page:t.tableSize,search_key:t.search_key,user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED"}))}buttonClick(t){t&&(this.cdref.detectChanges(),this.changes?this.getAppliedLeaves({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:t.page,data_per_page:t.tableSize,search_key:t.search_key,user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",leaveApplication_from_date:this.fromDate,leaveApplication_to_date:this.toDate}):this.getByStatus({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:t.page,data_per_page:t.tableSize,search_key:t.search_key,user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED"}))}get f(){return this.appliedLeaveForm.controls}getByStatus(t){this.api.getData(`${v.N.live_url}/${v.N.leave_application}?module=${t.module}&menu=${t.menu}&method=${t.method}&user_id=${t.user_id}&search_key=${t.search_key}&page_number=${t.page_number}&data_per_page=${t.data_per_page}&pagination=${t.pagination}&organization_id=${this.orgId}&approved_state=${t.approved_state}`).subscribe(n=>{n?(this.AllListData=n.result.data,this.AllCardData=n.result.leave_dashboard,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10},this.AllListData.length<=0&&this.api.showWarning("No records found")):this.AllListData.length<0&&this.api.showWarning("No records found")},n=>{this.api.showError(n.error.error.message)})}getAppliedLeaves(t){this.api.getData(`${v.N.live_url}/${v.N.leave_application}?module=${t.module}&menu=${t.menu}&method=${t.method}&user_id=${t.user_id}&search_key=${t.search_key}&page_number=${t.page_number}&data_per_page=${t.data_per_page}&pagination=${t.pagination}&organization_id=${this.orgId}&approved_state=${t.approved_state}&leaveApplication_from_date=${t.leaveApplication_from_date}&leaveApplication_to_date=${t.leaveApplication_to_date}`).subscribe(n=>{n&&(this.AllCardData=n.result.leave_dashboard,this.AllListData=n.result.data,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10},this.AllListData.length<=0&&this.api.showWarning("No records found"),this.month=n.result.data[0].your_applied_leave_to_date)},n=>{this.api.showError(n.error.error.message)})}changeFormat(){this.fromDate=this.datepipe.transform(this.appliedLeaveForm.value.from_date,"dd/MM/yyyy"),this.toDate=this.datepipe.transform(this.appliedLeaveForm.value.to_date,"dd/MM/yyyy"),this.changes=!0,this.appliedLeaveForm.value.to_date&&(this.month=this.appliedLeaveForm.value.to_date)}submit(){if(this.changes){let t={module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:1,data_per_page:10,user_id:this.user_id,search_key:"",pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",leaveApplication_from_date:this.fromDate,leaveApplication_to_date:this.toDate};this.appliedLeaveForm.invalid?this.appliedLeaveForm.markAllAsTouched():(this.getAppliedLeaves(t),this.tabset.tabs[0].active=!0)}else this.appliedLeaveForm.invalid&&this.appliedLeaveForm.markAllAsTouched()}tabState(t){if(this.selectedTab="Approved leaves"==t.heading?"APPROVED":"Yet to be approved"==t.heading?"YET_TO_APPROVED":"Declined leaves"==t.heading?"DECLINED":"YET_TO_APPROVED",this.changes){let n={module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:1,data_per_page:10,search_key:"",user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",leaveApplication_from_date:this.fromDate,leaveApplication_to_date:this.toDate};this.appliedLeaveForm.invalid?this.appliedLeaveForm.markAllAsTouched():this.getAppliedLeaves(n)}else this.getByStatus({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:1,data_per_page:10,search_key:"",user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.O),e.Y36(s.uU),e.Y36(d.qu),e.Y36(s.Ye),e.Y36(f.R),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-applied-approved-leaves"]],viewQuery:function(t,n){if(1&t&&e.Gf(fe,5),2&t){let i;e.iGM(i=e.CRH())&&(n.tabset=i.first)}},decls:153,vars:27,consts:[[1,"container-fluid","webView"],[1,"container-middle"],[1,"row","p-20"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-8"],[1,"bi","bi-check"],[1,"col-4","text-end"],[1,"v-align",2,"color","green"],[1,"bi","bi-lightning"],[1,"v-align",2,"color","#e6b539"],[1,"bi","bi-x"],[1,"v-align",2,"color","red"],[1,"col-12"],[1,"card","dt-card"],[3,"formGroup","ngSubmit"],[1,"col-sm-4","col-md-6","col-lg-4"],[1,"date-label"],["type","date","formControlName","from_date","placeholder","date",1,"form-control","date-input",3,"change"],["class","error-msg",4,"ngIf"],["type","date","formControlName","to_date","placeholder","date",1,"form-control","date-input",3,"min","change"],[1,"col-sm-2","col-md-6","col-lg-2","py-3","d-flex","align-items-center"],["mat-raised-button","",1,"proceedbtn","mat-btn-s"],[1,"animated","fadeIn","p-20"],[1,"col-md-12","mb-4"],["heading","Yet to approved",3,"selectTab"],[3,"data","totalCount","filter","buttonClick",4,"ngIf"],["class","text-center text-muted no-data py-2",4,"ngIf"],["heading","Approved leaves","aria-selected","true",3,"selectTab"],["heading","Declined leaves",3,"selectTab"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-1"],[1,"col-sm-7"],[4,"ngIf"],[1,"error-msg"],[3,"data","totalCount","filter","buttonClick"],[1,"text-center","text-muted","no-data","py-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",6)(8,"div",7)(9,"h6"),e._UZ(10,"i",8),e._uU(11," Approved "),e.qZA()(),e.TgZ(12,"div",9)(13,"h4",10),e._uU(14),e.qZA()()()()()()(),e.TgZ(15,"div",3)(16,"div",4)(17,"div",5)(18,"div",6)(19,"div",6)(20,"div",7)(21,"h6"),e._UZ(22,"i",11),e._uU(23," Request "),e.qZA()(),e.TgZ(24,"div",9)(25,"h4",12),e._uU(26),e.qZA()()()()()()(),e.TgZ(27,"div",3)(28,"div",4)(29,"div",5)(30,"div",6)(31,"div",6)(32,"div",7)(33,"h6"),e._UZ(34,"i",13),e._uU(35," Declined "),e.qZA()(),e.TgZ(36,"div",9)(37,"h4",14),e._uU(38),e.qZA()()()()()()()(),e.TgZ(39,"div",2)(40,"div",15)(41,"div",16)(42,"form",17),e.NdJ("ngSubmit",function(){return n.submit()}),e.TgZ(43,"div",6)(44,"div",18)(45,"label",19),e._uU(46,"From date "),e.TgZ(47,"span"),e._uU(48,"*"),e.qZA()(),e.TgZ(49,"input",20),e.NdJ("change",function(){return n.changeFormat()}),e.qZA(),e.YNc(50,Ae,2,1,"div",21),e.qZA(),e.TgZ(51,"div",18)(52,"label",19),e._uU(53,"To date "),e.TgZ(54,"span"),e._uU(55,"*"),e.qZA()(),e.TgZ(56,"input",22),e.NdJ("change",function(){return n.changeFormat()}),e.qZA(),e.YNc(57,Ce,2,1,"div",21),e.qZA(),e.TgZ(58,"div",23)(59,"button",24),e._uU(60,"Submit"),e.qZA()()()()()()(),e.TgZ(61,"div",25)(62,"div",6)(63,"div",26)(64,"tabset")(65,"tab",27),e.NdJ("selectTab",function(r){return n.tabState(r)}),e.YNc(66,Te,1,2,"app-yet-to-approve",28),e.YNc(67,Ze,2,0,"div",29),e.qZA(),e.TgZ(68,"tab",30),e.NdJ("selectTab",function(r){return n.tabState(r)}),e.YNc(69,Pe,1,2,"app-approved",28),e.YNc(70,Oe,2,0,"div",29),e.qZA(),e.TgZ(71,"tab",31),e.NdJ("selectTab",function(r){return n.tabState(r)}),e.YNc(72,De,1,2,"app-declined",28),e.YNc(73,Le,2,0,"div",29),e.qZA()()()()()()(),e.TgZ(74,"div",32)(75,"div",33)(76,"div",34)(77,"h1"),e._uU(78,"Applied approved leaves "),e.YNc(79,qe,3,0,"span",35),e.qZA()()(),e.TgZ(80,"div",1)(81,"div",2)(82,"div",3)(83,"div",4)(84,"div",5)(85,"div",6)(86,"div",6)(87,"div",7)(88,"h6"),e._UZ(89,"i",8),e._uU(90," Approved "),e.qZA()(),e.TgZ(91,"div",9)(92,"h4",10),e._uU(93),e.qZA()()()()()()(),e.TgZ(94,"div",3)(95,"div",4)(96,"div",5)(97,"div",6)(98,"div",6)(99,"div",7)(100,"h6"),e._UZ(101,"i",11),e._uU(102," Request "),e.qZA()(),e.TgZ(103,"div",9)(104,"h4",12),e._uU(105),e.qZA()()()()()()(),e.TgZ(106,"div",3)(107,"div",4)(108,"div",5)(109,"div",6)(110,"div",6)(111,"div",7)(112,"h6"),e._UZ(113,"i",13),e._uU(114," Declined "),e.qZA()(),e.TgZ(115,"div",9)(116,"h4",14),e._uU(117),e.qZA()()()()()()()(),e.TgZ(118,"div",2)(119,"div",15)(120,"div",16)(121,"form",17),e.NdJ("ngSubmit",function(){return n.submit()}),e.TgZ(122,"div",6)(123,"div",18)(124,"label",19),e._uU(125,"From date "),e.TgZ(126,"span"),e._uU(127,"*"),e.qZA()(),e.TgZ(128,"input",20),e.NdJ("change",function(){return n.changeFormat()}),e.qZA(),e.YNc(129,ye,2,1,"div",21),e.qZA(),e.TgZ(130,"div",18)(131,"label",19),e._uU(132,"To date "),e.TgZ(133,"span"),e._uU(134,"*"),e.qZA()(),e.TgZ(135,"input",22),e.NdJ("change",function(){return n.changeFormat()}),e.qZA(),e.YNc(136,ke,2,1,"div",21),e.qZA(),e.TgZ(137,"div",23)(138,"button",24),e._uU(139,"Submit"),e.qZA()()()()()()(),e.TgZ(140,"div",25)(141,"div",6)(142,"div",26)(143,"tabset")(144,"tab",27),e.NdJ("selectTab",function(r){return n.tabState(r)}),e.YNc(145,we,1,2,"app-yet-to-approve",28),e.YNc(146,Ie,2,0,"div",29),e.qZA(),e.TgZ(147,"tab",30),e.NdJ("selectTab",function(r){return n.tabState(r)}),e.YNc(148,Ue,1,2,"app-approved",28),e.YNc(149,Se,2,0,"div",29),e.qZA(),e.TgZ(150,"tab",31),e.NdJ("selectTab",function(r){return n.tabState(r)}),e.YNc(151,ze,1,2,"app-declined",28),e.YNc(152,Ne,2,0,"div",29),e.qZA()()()()()()()),2&t&&(e.xp6(14),e.Oqu(null==n.AllCardData?null:n.AllCardData.approved_count),e.xp6(12),e.Oqu(null==n.AllCardData?null:n.AllCardData.request_count),e.xp6(12),e.Oqu(null==n.AllCardData?null:n.AllCardData.declined_count),e.xp6(4),e.Q6J("formGroup",n.appliedLeaveForm),e.xp6(8),e.Q6J("ngIf",n.f.from_date.touched&&n.f.from_date.invalid),e.xp6(6),e.Q6J("min",n.appliedLeaveForm.value.from_date),e.xp6(1),e.Q6J("ngIf",n.f.to_date.touched&&n.f.to_date.invalid),e.xp6(9),e.Q6J("ngIf",n.AllListData&&"YET_TO_APPROVED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(1),e.Q6J("ngIf",n.AllListData&&"YET_TO_APPROVED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(2),e.Q6J("ngIf",n.AllListData&&"APPROVED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(1),e.Q6J("ngIf",n.AllListData&&"APPROVED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(2),e.Q6J("ngIf",n.AllListData&&"DECLINED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(1),e.Q6J("ngIf",n.AllListData&&"DECLINED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(6),e.Q6J("ngIf",n.month),e.xp6(14),e.Oqu(null==n.AllCardData?null:n.AllCardData.approved_count),e.xp6(12),e.Oqu(null==n.AllCardData?null:n.AllCardData.request_count),e.xp6(12),e.Oqu(null==n.AllCardData?null:n.AllCardData.declined_count),e.xp6(4),e.Q6J("formGroup",n.appliedLeaveForm),e.xp6(8),e.Q6J("ngIf",n.f.from_date.touched&&n.f.from_date.invalid),e.xp6(6),e.Q6J("min",n.appliedLeaveForm.value.from_date),e.xp6(1),e.Q6J("ngIf",n.f.to_date.touched&&n.f.to_date.invalid),e.xp6(9),e.Q6J("ngIf",n.AllListData&&"YET_TO_APPROVED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(1),e.Q6J("ngIf",n.AllListData&&"YET_TO_APPROVED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(2),e.Q6J("ngIf",n.AllListData&&"APPROVED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(1),e.Q6J("ngIf",n.AllListData&&"APPROVED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(2),e.Q6J("ngIf",n.AllListData&&"DECLINED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),e.xp6(1),e.Q6J("ngIf",n.AllListData&&"DECLINED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)))},dependencies:[s.O5,b.wW,b.AH,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,C.lW,F,ne,he],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%;padding:20px;border-radius:5px;overflow-x:auto!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:30px;margin-bottom:4px}p[_ngcontent-%COMP%]{color:gray;margin-bottom:5px}html[_ngcontent-%COMP%]{position:relative}h4[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{margin:5px 1px;border:none;box-shadow:0 1px 1px #0000000d}.card-body[_ngcontent-%COMP%]{padding:7px 15px}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:small;margin-bottom:5px}.card-body[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:gray}.card-body[_ngcontent-%COMP%]   .bi-bar-chart[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%]   .bi-lightning[_ngcontent-%COMP%]{font-size:12px!important}.v-align[_ngcontent-%COMP%]{line-height:1}.date-input[_ngcontent-%COMP%]{font-size:14px;background:#f6f6f6;border-radius:2px}.dt-card[_ngcontent-%COMP%]{padding:5px 17px 2px;font-size:14px}.container-middle[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden;background:#f8f8f8;padding-bottom:7rem!important}.no-data[_ngcontent-%COMP%]{font-style:italic;font-size:small;font-weight:500}.error-msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red!important}@media (max-width: 767px){.custom-scroll[_ngcontent-%COMP%]{height:60vh;overflow:scroll;overflow-x:hidden;padding:0}.s-padd[_ngcontent-%COMP%]{padding:0!important}.date-label[_ngcontent-%COMP%]{margin:10px 0!important}}@media (max-width: 1023px){.p-20[_ngcontent-%COMP%]{padding:5px 5px 0!important}}@media (min-width: 1024px){.p-20[_ngcontent-%COMP%]{padding:14px 12px 0!important}}"]}),o})()}];let Fe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.Bz.forChild(Ye),x.Bz]}),o})();var Ve=l(529),Je=l(7185),Re=l(3189),Qe=l(101);let $e=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[s.ez,Fe,b.P4.forRoot(),Ve.JF,d.UX,d.u5,Je.Rh.forRoot(),g.JX,Re.h,_.HK,Qe.m]}),o})()}}]);