"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[114],{6114:(Ln,Z,d)=>{d.r(Z),d.d(Z,{ApprovalTimesheetModule:()=>Fn});var s=d(6895),C=d(9299),p=d(4006),f=d(2340),t=d(4650),u=d(9899),m=d(4165),h=d(1693),M=d(1377);function D(o,a){1&o&&(t.TgZ(0,"div")(1,"p",27),t._uU(2,"Approval period is required."),t.qZA()())}function N(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,D,3,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.approval_period.errors&&e.f.approval_period.errors.required)}}function I(o,a){1&o&&(t.TgZ(0,"div")(1,"p",27),t._uU(2,"Grace days is required."),t.qZA()())}function U(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,I,3,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.grce_days_to_approve.errors&&e.f.grce_days_to_approve.errors.required)}}function J(o,a){1&o&&(t.TgZ(0,"div")(1,"p",27),t._uU(2,"Auto approve is required."),t.qZA()())}function z(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,J,3,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.tmd_auto_approved.errors&&e.f.tmd_auto_approved.errors.required)}}function Y(o,a){1&o&&(t.TgZ(0,"div")(1,"p",27),t._uU(2,"Status is required."),t.qZA()())}function F(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Y,3,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.status.errors&&e.f.status.errors.required)}}function Q(o,a){1&o&&(t.TgZ(0,"div")(1,"p",27),t._uU(2,"Approval period is required."),t.qZA()())}function L(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Q,3,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.approval_period.errors&&e.f.approval_period.errors.required)}}function R(o,a){1&o&&(t.TgZ(0,"div")(1,"p",27),t._uU(2,"Grace days is required."),t.qZA()())}function V(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,R,3,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.grce_days_to_approve.errors&&e.f.grce_days_to_approve.errors.required)}}function H(o,a){1&o&&(t.TgZ(0,"div")(1,"p",27),t._uU(2,"Auto approve is required."),t.qZA()())}function $(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,H,3,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.tmd_auto_approved.errors&&e.f.tmd_auto_approved.errors.required)}}function j(o,a){1&o&&(t.TgZ(0,"div")(1,"p",27),t._uU(2,"Status is required."),t.qZA()())}function B(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,j,3,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.status.errors&&e.f.status.errors.required)}}let G=(()=>{class o{constructor(e,n,i,r,c){this.builder=e,this.timesheetService=n,this.api=i,this.location=r,this.common_service=c,this.BreadCrumbsTitle="Approval configuration",this.allConfiguration=[],this.configData=[]}ngOnInit(){this.common_service.setTitle(this.BreadCrumbsTitle),this.initForm(),this.user_id=JSON.parse(sessionStorage.getItem("user_id")),this.orgId=JSON.parse(sessionStorage.getItem("org_id")),this.getConfiguration()}goBack(e){e.preventDefault(),this.location.back()}initForm(){this.configurationForm=this.builder.group({approval_period:["",p.kI.required],grce_days_to_approve:["",p.kI.required],tmd_auto_approved:["",[p.kI.required]],status:["",p.kI.required]})}get f(){return this.configurationForm.controls}addConfiguration(){if(this.configurationForm.invalid)this.api.showError("Invalid"),this.configurationForm.markAllAsTouched();else{let e=this.configurationForm.value;this.timesheetService.addApproval({module:"TIMESHEET",menu:"APPROVAL_CONFIGURATION",method:"ACCEPT",organization_id:this.orgId,user_id:this.user_id,approval_period:e.approval_period,grace_days_to_approve:e.grce_days_to_approve,auto_approve:"true"===e.tmd_auto_approved||1==e.tmd_auto_approved,active_status:e.status}).subscribe(i=>{i?(this.api.showSuccess("Configuration added successfully!!"),this.configurationForm.reset(),this.getConfiguration()):this.api.showError("Error")},i=>{this.api.showError(i.error.error.message)})}}getConfiguration(){this.api.getData(`${f.N.live_url}/${f.N.approval_config}?user_id=${this.user_id}&organization_id=${this.orgId}&method=VIEW&module=TIMESHEET&menu=MONTH_APPROVAL_TIMESHEET`).subscribe(e=>{e.result.data&&(this.configData=e.result.data,this.configurationForm.patchValue({approval_period:this.configData[0].approval_period,grce_days_to_approve:this.configData[0].grace_days_to_approve,tmd_auto_approved:this.configData[0].auto_approve,status:this.configData[0].active_status}))},e=>{this.api.showError(e.error.error.message)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.qu),t.Y36(u.r),t.Y36(m.O),t.Y36(s.Ye),t.Y36(h.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-approval-configuration"]],decls:140,vars:10,consts:[[1,"container-fluid","webView"],[1,"generic-form","bg","mx-1"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6"],["aria-label","Default select example","formControlName","approval_period",1,"form-select"],["value","","selected","","disabled",""],["value","DAILY"],["value","WEEKLY"],["value","MONTHLY"],[4,"ngIf"],["aria-label","Default select example","formControlName","grce_days_to_approve",1,"form-select"],["value","0"],["value","1"],["value","2"],["value","3"],["aria-label","Default select example","formControlName","tmd_auto_approved",1,"form-select"],["value","true"],["value","false"],["aria-label","Default select example","formControlName","status",1,"form-select"],["value","Activate"],["value","Suspend"],[1,"col-sm-2"],["mat-raised-button","","type","submit",1,"proceedbtn","mat-btn-s"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm"],[1,"error-msg"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.addConfiguration()}),t.TgZ(3,"div",3)(4,"div",4)(5,"p"),t._uU(6,"Approval period "),t.TgZ(7,"span"),t._uU(8,"*"),t.qZA()(),t.TgZ(9,"select",5)(10,"option",6),t._uU(11,"Select period"),t.qZA(),t.TgZ(12,"option",7),t._uU(13,"Daily"),t.qZA(),t.TgZ(14,"option",8),t._uU(15,"Weekly"),t.qZA(),t.TgZ(16,"option",9),t._uU(17,"Monthly"),t.qZA()(),t.YNc(18,N,2,1,"div",10),t.qZA()(),t.TgZ(19,"div",3)(20,"div",4)(21,"p"),t._uU(22,"Grace days to approve "),t.TgZ(23,"span"),t._uU(24,"*"),t.qZA()(),t.TgZ(25,"select",11)(26,"option",6),t._uU(27,"Select grace days"),t.qZA(),t.TgZ(28,"option",12),t._uU(29,"00"),t.qZA(),t.TgZ(30,"option",13),t._uU(31,"01"),t.qZA(),t.TgZ(32,"option",14),t._uU(33,"02"),t.qZA(),t.TgZ(34,"option",15),t._uU(35,"03"),t.qZA()(),t.YNc(36,U,2,1,"div",10),t.qZA()(),t.TgZ(37,"div",3)(38,"div",4)(39,"p"),t._uU(40,"Auto Approve "),t.TgZ(41,"span"),t._uU(42,"*"),t.qZA()(),t.TgZ(43,"select",16)(44,"option",6),t._uU(45,"Select an option"),t.qZA(),t.TgZ(46,"option",17),t._uU(47,"Yes"),t.qZA(),t.TgZ(48,"option",18),t._uU(49,"No"),t.qZA()(),t.YNc(50,z,2,1,"div",10),t.qZA()(),t.TgZ(51,"div",3)(52,"div",4)(53,"p"),t._uU(54,"Status "),t.TgZ(55,"span"),t._uU(56,"*"),t.qZA()(),t.TgZ(57,"select",19)(58,"option",6),t._uU(59,"Select status"),t.qZA(),t.TgZ(60,"option",20),t._uU(61,"Activate"),t.qZA(),t.TgZ(62,"option",21),t._uU(63,"Suspend"),t.qZA()(),t.YNc(64,F,2,1,"div",10),t.qZA()(),t.TgZ(65,"div",3)(66,"div",22)(67,"button",23),t._uU(68,"Submit"),t.qZA()()()()()(),t.TgZ(69,"div",24)(70,"div",25),t._UZ(71,"div",26),t.qZA(),t.TgZ(72,"div",1)(73,"form",2),t.NdJ("ngSubmit",function(){return n.addConfiguration()}),t.TgZ(74,"div",3)(75,"div",4)(76,"p"),t._uU(77,"Approval period "),t.TgZ(78,"span"),t._uU(79,"*"),t.qZA()(),t.TgZ(80,"select",5)(81,"option",6),t._uU(82,"Select period"),t.qZA(),t.TgZ(83,"option",7),t._uU(84,"Daily"),t.qZA(),t.TgZ(85,"option",8),t._uU(86,"Weekly"),t.qZA(),t.TgZ(87,"option",9),t._uU(88,"Monthly"),t.qZA()(),t.YNc(89,L,2,1,"div",10),t.qZA()(),t.TgZ(90,"div",3)(91,"div",4)(92,"p"),t._uU(93,"Grace days to approve "),t.TgZ(94,"span"),t._uU(95,"*"),t.qZA()(),t.TgZ(96,"select",11)(97,"option",6),t._uU(98,"Select grace days"),t.qZA(),t.TgZ(99,"option",12),t._uU(100,"00"),t.qZA(),t.TgZ(101,"option",13),t._uU(102,"01"),t.qZA(),t.TgZ(103,"option",14),t._uU(104,"02"),t.qZA(),t.TgZ(105,"option",15),t._uU(106,"03"),t.qZA()(),t.YNc(107,V,2,1,"div",10),t.qZA()(),t.TgZ(108,"div",3)(109,"div",4)(110,"p"),t._uU(111,"Auto Approve "),t.TgZ(112,"span"),t._uU(113,"*"),t.qZA()(),t.TgZ(114,"select",16)(115,"option",6),t._uU(116,"Select an option"),t.qZA(),t.TgZ(117,"option",17),t._uU(118,"Yes"),t.qZA(),t.TgZ(119,"option",18),t._uU(120,"No"),t.qZA()(),t.YNc(121,$,2,1,"div",10),t.qZA()(),t.TgZ(122,"div",3)(123,"div",4)(124,"p"),t._uU(125,"Status "),t.TgZ(126,"span"),t._uU(127,"*"),t.qZA()(),t.TgZ(128,"select",19)(129,"option",6),t._uU(130,"Select status"),t.qZA(),t.TgZ(131,"option",20),t._uU(132,"Activate"),t.qZA(),t.TgZ(133,"option",21),t._uU(134,"Suspend"),t.qZA()(),t.YNc(135,B,2,1,"div",10),t.qZA()(),t.TgZ(136,"div",3)(137,"div",22)(138,"button",23),t._uU(139,"Submit"),t.qZA()()()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.configurationForm),t.xp6(16),t.Q6J("ngIf",n.f.approval_period.touched&&n.f.approval_period.invalid),t.xp6(18),t.Q6J("ngIf",n.f.grce_days_to_approve.touched&&n.f.grce_days_to_approve.invalid),t.xp6(14),t.Q6J("ngIf",n.f.tmd_auto_approved.touched&&n.f.tmd_auto_approved.invalid),t.xp6(14),t.Q6J("ngIf",n.f.status.touched&&n.f.status.invalid),t.xp6(9),t.Q6J("formGroup",n.configurationForm),t.xp6(16),t.Q6J("ngIf",n.f.approval_period.touched&&n.f.approval_period.invalid),t.xp6(18),t.Q6J("ngIf",n.f.grce_days_to_approve.touched&&n.f.grce_days_to_approve.invalid),t.xp6(14),t.Q6J("ngIf",n.f.tmd_auto_approved.touched&&n.f.tmd_auto_approved.invalid),t.xp6(14),t.Q6J("ngIf",n.f.status.touched&&n.f.status.invalid))},dependencies:[s.O5,p._Y,p.YN,p.Kr,p.EJ,p.JJ,p.JL,p.sg,p.u,M.lW],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:59vh;width:100%;padding:20px;border-radius:5px}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%;height:50px;margin:1px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}"]}),o})(),K=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-approval-timesheet"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},dependencies:[C.lC]}),o})();var v=d(9079),T=d(1223),O=d(9722),A=d(8237),b=d(3640),_=d(8304),g=d(8567);const P=function(o){return{"active-size":o}};function W(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,P,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function X(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i.id,"APPROVED"))}),t._UZ(2,"i",32),t.qZA()()}}function tt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i.id,"DECLINED"))}),t._UZ(2,"i",33),t.qZA()()}}function et(o,a){if(1&o&&(t.ynx(0),t.YNc(1,X,3,0,"span",14),t.YNc(2,tt,3,0,"span",14),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","ACCEPT"==e),t.xp6(1),t.Q6J("ngIf","REJECT"==e)}}function nt(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"titlecase"),t.qZA(),t.TgZ(18,"td"),t.YNc(19,et,3,2,"ng-container",29),t.qZA()()),2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.getContinuousIndex(n)),t.xp6(2),t.Oqu(t.xi3(5,7,e.created_date_time,"mediumDate")),t.xp6(3),t.Oqu(e.created_by_name?e.created_by_name:t.lcZ(8,10,"NA")),t.xp6(3),t.Oqu(e.id?e.id:t.lcZ(11,12,"NA")),t.xp6(3),t.Oqu(t.lcZ(14,14,e.time_spent)),t.xp6(3),t.Oqu(t.lcZ(17,16,e.approved_state)),t.xp6(3),t.Q6J("ngForOf",i.accessConfig)}}function ot(o,a){1&o&&(t.TgZ(0,"tr",34)(1,"td"),t._uU(2," No records found!"),t.qZA()())}function it(o,a){if(1&o&&(t.ynx(0),t.YNc(1,nt,20,18,"tr",29),t.ALo(2,"paginate"),t.YNc(3,ot,3,0,"tr",30),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function at(o,a){if(1&o&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.hij(" ",e," ")}}function rt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",51)(1,"button",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i.id,"APPROVED"))}),t._UZ(2,"i",32),t.qZA()()}}function ct(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",51)(1,"button",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i.id,"DECLINED"))}),t._UZ(2,"i",33),t.qZA()()}}function pt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,rt,3,0,"span",50),t.YNc(2,ct,3,0,"span",50),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","ACCEPT"==e),t.xp6(1),t.Q6J("ngIf","REJECT"==e)}}function st(o,a){if(1&o&&(t.TgZ(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41)(4,"div",10)(5,"div",42)(6,"h6",43),t._uU(7,"Status"),t.qZA()()(),t.TgZ(8,"div",10)(9,"div",44),t._uU(10),t.ALo(11,"titlecase"),t.qZA()()(),t.TgZ(12,"div",45),t.YNc(13,pt,3,2,"ng-container",29),t.qZA()(),t.TgZ(14,"div",46)(15,"div",47)(16,"div",10)(17,"div",48)(18,"div",10)(19,"div",42)(20,"h6",43),t._uU(21,"Saved On"),t.qZA()()(),t.TgZ(22,"div",10)(23,"div",49),t._uU(24),t.ALo(25,"date"),t.qZA()()(),t.TgZ(26,"div",48)(27,"div",10)(28,"div",42)(29,"h6",43),t._uU(30,"Employee"),t.qZA()()(),t.TgZ(31,"div",10)(32,"div",49),t._uU(33),t.ALo(34,"titlecase"),t.qZA()()()(),t.TgZ(35,"div",10)(36,"div",48)(37,"div",10)(38,"div",42)(39,"h6",43),t._uU(40,"Timesheet Id"),t.qZA()()(),t.TgZ(41,"div",10)(42,"div",49),t._uU(43),t.ALo(44,"titlecase"),t.qZA()()(),t.TgZ(45,"div",48)(46,"div",10)(47,"div",42)(48,"h6",43),t._uU(49,"Time"),t.qZA()()(),t.TgZ(50,"div",10)(51,"div",49),t._uU(52),t.ALo(53,"titlecase"),t.qZA()()()()()()()()),2&o){const e=a.$implicit,n=t.oxw(2);t.xp6(10),t.hij(" ",e.approved_state?e.approved_state:t.lcZ(11,6,"Yet to Approve")," "),t.xp6(3),t.Q6J("ngForOf",n.accessConfig),t.xp6(11),t.hij(" ",t.xi3(25,8,e.created_date_time,"mediumDate")," "),t.xp6(9),t.hij(" ",e.created_by_name?e.created_by_name:t.lcZ(34,11,"NA")," "),t.xp6(10),t.hij(" ",e.id?e.id:t.lcZ(44,13,"NA")," "),t.xp6(9),t.hij(" ",t.lcZ(53,15,e.time_spent)," ")}}function lt(o,a){1&o&&(t.TgZ(0,"div",53)(1,"div",54)(2,"div",47)(3,"p"),t._uU(4,"No records found !"),t.qZA()()()())}function dt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,st,54,17,"div",36),t.ALo(2,"paginate"),t.YNc(3,lt,5,0,"div",37),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function _t(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,P,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function gt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",55)(1,"div",15)(2,"div",56)(3,"pagination-controls",17),t.NdJ("pageChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(i))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,_t,2,5,"button",8),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}let ut=(()=>{class o{constructor(e,n,i,r,c){this._timesheet=e,this.modalService=n,this.api=i,this.cdref=r,this.common_service=c,this.buttonClick=new t.vpe,this.filter=new t.vpe,this.term="",this.yetToApproveAll=[],this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.yetcount=0,this.accessConfig=[],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(e){e.data.currentValue&&(this.yetToApproveAll=e.data.currentValue),e.totalCount.currentValue&&(this.paginationConfig.totalItems=e.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=e.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=e.totalCount.currentValue.currentPage,this.count=e.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&organization_id=${this.orgId}&pagination=TRUE`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((i,r)=>{i.MONTH_APPROVAL_TIMESHEET&&(this.accessConfig=i.MONTH_APPROVAL_TIMESHEET)})})}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(e){this.page=e,this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}open(e,n){const i="APPROVED"===n?"approve":"decline",r="APPROVED"===n?"Approve":"Decline";if(e){const c=this.modalService.open(b.D,{size:"md",backdrop:!0,centered:!0});c.componentInstance.title=`Are you sure do you want to ${i}`,c.componentInstance.message=`${r} confirmation`,c.componentInstance.status.subscribe(l=>{"ok"==l&&this.updateStatus(e,n),c.close()})}}updateStatus(e,n){this._timesheet.updateStatus({user_id:this.user_id,update:"TRUE",approved_by_manager_id:this.user_id,module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"DECLINED"===n?"REJECT":"ACCEPT",time_sheet_id_list:[],time_sheet_id:e,approved_state:n}).subscribe(c=>{this.buttonClick.emit(this.page),c&&(this.api.showSuccess(`${n} updated successfully`),this.buttonClick.emit(this.page))})}getContinuousIndex(e){return(this.page-1)*this.tableSize+e+1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.r),t.Y36(_.FF),t.Y36(m.O),t.Y36(t.sBO),t.Y36(h.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-deadline-yetto-approve"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[t.TTD],decls:46,vars:7,consts:[[1,"container-fluid","webView"],[1,"row","mx-0","my-2"],[1,"col-md-7","col-lg-4","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","p-2","sizeinput",3,"ngModel","ngModelChange"],["id","search-icon-tab",1,"bi","bi-search",3,"click"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col"],[1,"table","table-hover"],["scope","col"],[4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-12","col-md-6","col-lg-2"],["aria-label","Default select example",1,"form-select","page-set",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","py-3","px-4",3,"ngModel","ngModelChange"],["id","search-icon",1,"bi","bi-search",3,"click"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[2,"border","none","background-color","inherit",3,"click"],["container","body","ngbTooltip","Approve",1,"bi","bi-check-circle",2,"color","green"],["container","body","ngbTooltip","Reject",1,"bi","bi-x-circle",2,"color","red"],[1,"nodata"],[3,"ngValue"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","mobileView col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],["style","float: right;",4,"ngIf"],[2,"float","right"],["type","button",1,"toolbar-btn",3,"click"],[1,"mobileView","col-12"],[1,"card"],[1,"row","mobile-pagination"],[1,"mobile-pagination-content"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(4,"i",4),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()(),t._UZ(5,"div",5),t.TgZ(6,"div",6)(7,"div",7),t.YNc(8,W,2,5,"button",8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"table",12)(13,"thead")(14,"tr")(15,"th",13),t._uU(16,"S.No"),t.qZA(),t.TgZ(17,"th",13),t._uU(18,"Saved On"),t.qZA(),t.TgZ(19,"th",13),t._uU(20,"Employee"),t.qZA(),t.TgZ(21,"th",13),t._uU(22,"Time Sheets"),t.qZA(),t.TgZ(23,"th",13),t._uU(24,"Time"),t.qZA(),t.TgZ(25,"th",13),t._uU(26,"Status"),t.qZA(),t.TgZ(27,"th",13),t._uU(28,"Action"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,it,4,5,"ng-container",14),t.qZA()()()()(),t.TgZ(31,"div",10)(32,"div",15)(33,"div",16)(34,"pagination-controls",17),t.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),t.qZA()()()()(),t.TgZ(35,"div",18)(36,"div",19)(37,"div",20)(38,"select",21),t.NdJ("change",function(r){return n.onTableSizeChange(r)}),t.YNc(39,at,2,2,"option",22),t.qZA()(),t.TgZ(40,"div",23)(41,"input",24),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(42,"i",25),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()()(),t.TgZ(43,"div",26),t.YNc(44,dt,4,5,"ng-container",14),t.qZA(),t.YNc(45,gt,6,1,"div",27),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngModel",n.term),t.xp6(5),t.Q6J("ngForOf",n.tableSizes),t.xp6(22),t.Q6J("ngIf",n.yetToApproveAll),t.xp6(9),t.Q6J("ngForOf",n.tableSizes),t.xp6(2),t.Q6J("ngModel",n.term),t.xp6(3),t.Q6J("ngIf",n.yetToApproveAll),t.xp6(1),t.Q6J("ngIf",0!==n.yetToApproveAll.length))},dependencies:[s.mk,s.sg,s.O5,p.YN,p.Kr,p.Fj,p.JJ,p.On,g.LS,_._L,s.rS,s.uU,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:10px;border-radius:5px;margin:0}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:40px;margin:2px 1px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #FFAF13;padding:10px 0;zoom:90%;background:#FFFCF3;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const mt=["tabset"];function ht(o,a){if(1&o&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ft(o,a){1&o&&(t.TgZ(0,"p",23),t._uU(1,"Month is required"),t.qZA())}function bt(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,ft,2,0,"p",22),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.fromMonth.errors.required)}}function vt(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-deadline-yetto-approve",24),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function xt(o,a){1&o&&(t.TgZ(0,"div",25),t._uU(1,"No records found ! "),t.qZA())}function Ct(o,a){if(1&o&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Tt(o,a){1&o&&(t.TgZ(0,"p",23),t._uU(1,"Month is required"),t.qZA())}function At(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Tt,2,0,"p",22),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.fromMonth.errors.required)}}function Zt(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-deadline-yetto-approve",26),t.NdJ("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function Mt(o,a){1&o&&(t.TgZ(0,"div",27)(1,"td"),t._uU(2," No records found !"),t.qZA()())}let Ot=(()=>{class o{constructor(e,n,i,r,c){this.fb=e,this.api=n,this.common_service=i,this.cdr=r,this.location=c,this.BreadCrumbsTitle="Deadline crossed",this.page=1,this.allDetails=[],this.accessConfig=[],this.c_params={},this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.changes=!1}ngOnInit(){this.common_service.setTitle(this.BreadCrumbsTitle),this.initForm(),this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getByStatus({module:"TIMESHEET",menu:"DEAD_LINE_CROSSED",method:"VIEW",organization_id:this.orgId,user_id:this.user_id,page_number:this.page,data_per_page:10,search_key:"",pagination:"TRUE"}),this.getUserControls()}goBack(e){e.preventDefault(),this.location.back()}initForm(){this.monthForm=this.fb.group({fromMonth:["",p.kI.required]})}get f(){return this.monthForm.controls}onChanges(){this.changes=!0}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&organization_id=${this.orgId}&pagination=TRUE`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")},e=>{this.api.showError(e.error.error.message)}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach(i=>{i.DEAD_LINE_CROSSED&&(this.accessConfig=i.DEAD_LINE_CROSSED)})})}getByStatus(e){this.api.getData(`${f.N.live_url}/${f.N.time_sheets_deadline_crossed}?user_id=${e.user_id}&organization_id=${e.organization_id}&module=${e.module}&menu=${e.menu}&method=${e.method}&search_key=${e.search_key}&page_number=${e.page_number}&data_per_page=${e.data_per_page}&pagination=${e.pagination}`).subscribe(n=>{n&&n.result.data.length>=1?(this.allDetails=n.result.data,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10}):this.api.showWarning("No records found")},n=>{this.api.showError(n.error.error.message)})}getAllTimeSheet(e){this.api.getData(`${f.N.live_url}/${f.N.time_sheets_deadline_crossed}?user_id=${e.user_id}&organization_id=${e.organization_id}&module=${e.module}&menu=${e.menu}&method=${e.method}&timesheets_from_date=${e.timesheets_from_date}&search_key=${e.search_key}&page_number=${e.page_number}&data_per_page=${e.data_per_page}&pagination=${e.pagination}`).subscribe(n=>{n&&n.result.data.length>=1?(this.allDetails=n.result.data,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10}):this.api.showWarning("No records found")},n=>{this.api.showError(n.error.error.message)})}submit(){this.monthForm.invalid?(this.monthForm.markAllAsTouched(),this.api.showWarning("Please select month")):(this.submited=!0,this.allDetails=[],this.handleMonthSelection(this.monthForm.value.fromMonth),this.getAllTimeSheet({module:"TIMESHEET",menu:"DEAD_LINE_CROSSED",method:"VIEW",organization_id:this.orgId,user_id:this.user_id,page_number:this.page,data_per_page:10,search_key:"",timesheets_from_date:this.formattedDate,pagination:"TRUE"}),this.tabset.tabs[0].active=!0)}buttonClick(e){this.handleMonthSelection(this.monthForm.value.fromMonth),e&&(this.changes?this.getAllTimeSheet({module:"TIMESHEET",menu:"DEAD_LINE_CROSSED",method:"VIEW",user_id:this.user_id,organization_id:this.orgId,page_number:e.page,data_per_page:e.tableSize,search_key:e.search_key,timesheets_from_date:this.formattedDate,pagination:"TRUE"}):this.getByStatus({module:"TIMESHEET",menu:"DEAD_LINE_CROSSED",method:"VIEW",user_id:this.user_id,organization_id:this.orgId,page_number:e.page,data_per_page:e.tableSize,search_key:e.search_key,pagination:"TRUE"}))}searchFiter(e){this.handleMonthSelection(this.monthForm.value.fromMonth),e&&(this.changes?this.getAllTimeSheet({module:"TIMESHEET",menu:"DEAD_LINE_CROSSED",method:"VIEW",user_id:this.user_id,organization_id:this.orgId,page_number:e.page,data_per_page:e.tableSize,search_key:e.search_key,timesheets_from_date:this.formattedDate,pagination:"TRUE"}):this.getByStatus({module:"TIMESHEET",menu:"DEAD_LINE_CROSSED",method:"VIEW",user_id:this.user_id,organization_id:this.orgId,page_number:e.page,search_key:e.search_key,data_per_page:e.tableSize,pagination:"TRUE"}))}handleMonthSelection(e){const n=(new Date).getFullYear(),r=("0"+(new Date(Date.parse(e+" 1, "+n)).getMonth()+1)).slice(-2);this.formattedDate="01/"+r+"/"+n}updateStatus(e){}tabState(e){this.selectedTab="Approved timesheets"==e.heading?"APPROVED":"Yet to be approved"==e.heading?"YET_TO_APPROVED":"Declined timesheets"==e.heading?"DECLINED":"Time Sheets"==e.heading?"TIMESHEET":"YET_TO_APPROVED",this.handleMonthSelection(this.monthForm.value.fromMonth);let n={module:"TIMESHEET",menu:"DEAD_LINE_CROSSED",method:"VIEW",user_id:this.user_id,organization_id:this.orgId,page_number:this.page,data_per_page:10,search_key:"",timesheets_from_date:this.formattedDate,pagination:"TRUE"};this.monthForm.invalid?(this.monthForm.markAllAsTouched(),this.api.showWarning("Please select month")):this.getAllTimeSheet(n)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.qu),t.Y36(m.O),t.Y36(h.R),t.Y36(t.sBO),t.Y36(s.Ye))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-deadline-crossed"]],viewQuery:function(e,n){if(1&e&&t.Gf(mt,5),2&e){let i;t.iGM(i=t.CRH())&&(n.tabset=i.first)}},decls:54,vars:10,consts:[[1,"container-fluid","webView"],[1,"container-middle"],[1,"p-20","pt-4"],[1,"card"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-8"],[3,"formGroup","ngSubmit"],[1,"col-sm-12","col-md-12","col-lg-4"],["formControlName","fromMonth",3,"change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-raised-button","",1,"proceedbtn","mat-btn-s"],[1,"row","p-20"],[1,"col-sm-12"],["tabset",""],["heading","Yet to approved",3,"selectTab"],["class","text-center text-muted no-data py-2",4,"ngIf"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-6"],["class","nodata text-muted",4,"ngIf"],[3,"value"],["class","feedback",4,"ngIf"],[1,"feedback"],[3,"data","totalCount","filter","buttonClick"],[1,"text-center","text-muted","no-data","py-2"],[3,"data","totalCount","buttonClick"],[1,"nodata","text-muted"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(7,"div",4)(8,"div",7)(9,"mat-form-field")(10,"mat-label"),t._uU(11,"Select month"),t.qZA(),t.TgZ(12,"mat-select",8),t.NdJ("change",function(){return n.onChanges()}),t.YNc(13,ht,2,2,"mat-option",9),t.qZA()(),t.YNc(14,bt,2,1,"div",10),t.qZA(),t.TgZ(15,"div",7)(16,"button",11),t._uU(17,"Submit"),t.qZA()()()()()()()(),t.TgZ(18,"div")(19,"div",12)(20,"div",13)(21,"tabset",null,14)(23,"tab",15),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(24,vt,2,2,"ng-container",10),t.qZA(),t.YNc(25,xt,2,0,"div",16),t.qZA()()()()()(),t.TgZ(26,"div",17)(27,"div",18),t._UZ(28,"div",19),t.qZA(),t.TgZ(29,"div",1)(30,"div",2)(31,"div",3)(32,"div",4)(33,"div",5)(34,"form",6),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(35,"div",4)(36,"div",7)(37,"mat-form-field")(38,"mat-label"),t._uU(39,"Select month"),t.qZA(),t.TgZ(40,"mat-select",8),t.NdJ("change",function(){return n.onChanges()}),t.YNc(41,Ct,2,2,"mat-option",9),t.qZA()(),t.YNc(42,At,2,1,"div",10),t.qZA(),t.TgZ(43,"div",7)(44,"button",11),t._uU(45,"Submit"),t.qZA()()()()()()()(),t.TgZ(46,"div")(47,"div",12)(48,"div",13)(49,"tabset",null,14)(51,"tab",15),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(52,Zt,2,2,"ng-container",10),t.qZA(),t.YNc(53,Mt,3,0,"div",20),t.qZA()()()()()()),2&e&&(t.xp6(6),t.Q6J("formGroup",n.monthForm),t.xp6(7),t.Q6J("ngForOf",n.monthNames),t.xp6(1),t.Q6J("ngIf",n.f.fromMonth.touched&&n.f.fromMonth.invalid),t.xp6(10),t.Q6J("ngIf",n.allDetails.length>0),t.xp6(1),t.Q6J("ngIf",0===n.allDetails.length),t.xp6(9),t.Q6J("formGroup",n.monthForm),t.xp6(7),t.Q6J("ngForOf",n.monthNames),t.xp6(1),t.Q6J("ngIf",n.f.fromMonth.touched&&n.f.fromMonth.invalid),t.xp6(10),t.Q6J("ngIf",n.allDetails.length>0),t.xp6(1),t.Q6J("ngIf",0===n.allDetails.length))},dependencies:[s.sg,s.O5,v.wW,v.AH,p._Y,p.JJ,p.JL,p.sg,p.u,T.KE,T.hX,M.lW,O.gD,A.ey,ut],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%!important;padding:20px;border-radius:5px;overflow-x:auto!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:41px;width:100%;color:#fff;margin:23px 0 19px}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;border:none!important;border-bottom:2px solid gray!important;border-radius:0!important}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%;height:30px}.align-items-lg-center[_ngcontent-%COMP%]{justify-content:end!important}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.card[_ngcontent-%COMP%]{margin:5px 1px;border:none;box-shadow:0 1px 1px #0000000d;padding:0 10px;font-size:14px}.p-c[_ngcontent-%COMP%]{padding:5px 10px;height:16vh;font-size:13px}p[_ngcontent-%COMP%]{margin-bottom:5px;color:#000}.date-input[_ngcontent-%COMP%]{font-size:13px;border-radius:2px;background:#f6f6f6}.feedback[_ngcontent-%COMP%]{color:red!important}mat-card[_ngcontent-%COMP%]{width:100%;position:absolute;top:4.4rem;background-color:#fff;box-shadow:0 1px 1px #0000000d;height:-moz-fit-content;height:fit-content}.set-position[_ngcontent-%COMP%]{position:relative}.myColor[_ngcontent-%COMP%]{background:lightgray}.no-data[_ngcontent-%COMP%]{font-style:italic;font-size:small;font-weight:500}.star-color[_ngcontent-%COMP%]{color:red}@media (max-width: 768px){.container-middle[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden;background:#f8f8f8;padding-bottom:7rem!important}}@media (min-width: 769px){.container-middle[_ngcontent-%COMP%]{height:80vh;overflow-y:auto;overflow-x:hidden;padding-right:15px;background:#f8f8f8}}.bi[_ngcontent-%COMP%]{cursor:pointer}.drop-down-menu[_ngcontent-%COMP%]{box-shadow:0 0 6px!important;border:0;top:7px!important;left:6px!important}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #FFAF13;padding:10px 0;zoom:90%;background:#FFFCF3;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}"]}),o})();const y=function(o){return{"active-size":o}};function Pt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,y,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function yt(o,a){1&o&&(t.TgZ(0,"th",14),t._uU(1,"Action"),t.qZA())}function Et(o,a){if(1&o&&(t.ynx(0),t.YNc(1,yt,2,0,"th",28),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","DELETE"==e)}}function kt(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",30),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",30),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td",30),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.TgZ(12,"td",30),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.TgZ(15,"td",30),t._uU(16),t.ALo(17,"titlecase"),t.qZA(),t.TgZ(18,"td",30),t._uU(19),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"td",30),t._uU(22),t.ALo(23,"titlecase"),t.qZA(),t.TgZ(24,"td",30),t._uU(25),t.ALo(26,"titlecase"),t.qZA(),t._UZ(27,"td"),t.qZA()),2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.getContinuousIndex(n)),t.xp6(2),t.Oqu(t.xi3(5,9,e.created_date_time,"mediumDate")),t.xp6(3),t.Oqu(e.created_by_name?e.created_by_name:t.lcZ(8,12,"NA")),t.xp6(3),t.Oqu(e.id?e.id:t.lcZ(11,14,"NA")),t.xp6(3),t.Oqu(t.lcZ(14,16,e.time_spent)),t.xp6(3),t.Oqu(e.created_by_id?e.created_by_id:t.lcZ(17,18,"NA")),t.xp6(3),t.Oqu(t.xi3(20,20,e.approved_date_time,"mediumDate")),t.xp6(3),t.Oqu(e.approved_by_name?e.approved_by_name:t.lcZ(23,23,"NA")),t.xp6(3),t.Oqu(t.lcZ(26,25,e.approved_state))}}function qt(o,a){1&o&&(t.TgZ(0,"tr",31)(1,"td"),t._uU(2," No records found!"),t.qZA()())}function wt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,kt,28,27,"tr",15),t.ALo(2,"paginate"),t.YNc(3,qt,3,0,"tr",29),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function St(o,a){if(1&o&&(t.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"div",10)(5,"div",38)(6,"h6",39),t._uU(7,"Status"),t.qZA()()(),t.TgZ(8,"div",10)(9,"div",40),t._uU(10),t.ALo(11,"titlecase"),t.qZA()()(),t._UZ(12,"div",41),t.qZA(),t.TgZ(13,"div",42)(14,"div",43)(15,"div",10)(16,"div",44)(17,"div",10)(18,"div",38)(19,"h6",39),t._uU(20,"Created Date"),t.qZA()()(),t.TgZ(21,"div",10)(22,"div",45),t._uU(23),t.ALo(24,"date"),t.qZA()()(),t.TgZ(25,"div",44)(26,"div",10)(27,"div",38)(28,"h6",39),t._uU(29,"Employee"),t.qZA()()(),t.TgZ(30,"div",10)(31,"div",45),t._uU(32),t.ALo(33,"titlecase"),t.qZA()()()(),t.TgZ(34,"div",10)(35,"div",44)(36,"div",10)(37,"div",38)(38,"h6",39),t._uU(39,"Timesheet Id"),t.qZA()()(),t.TgZ(40,"div",10)(41,"div",45),t._uU(42),t.ALo(43,"titlecase"),t.qZA()()(),t.TgZ(44,"div",44)(45,"div",10)(46,"div",38)(47,"h6",39),t._uU(48,"Time"),t.qZA()()(),t.TgZ(49,"div",10)(50,"div",45),t._uU(51),t.ALo(52,"titlecase"),t.qZA()()()(),t.TgZ(53,"div",10)(54,"div",44)(55,"div",10)(56,"div",38)(57,"h6",39),t._uU(58,"Rejected Date"),t.qZA()()(),t.TgZ(59,"div",10)(60,"div",45),t._uU(61),t.ALo(62,"titlecase"),t.ALo(63,"date"),t.qZA()()(),t.TgZ(64,"div",44)(65,"div",10)(66,"div",38)(67,"h6",39),t._uU(68,"Rejected By"),t.qZA()()(),t.TgZ(69,"div",10)(70,"div",45),t._uU(71),t.ALo(72,"titlecase"),t.qZA()()()()()()()()),2&o){const e=a.$implicit;t.xp6(10),t.hij(" ",e.approved_state?e.approved_state:t.lcZ(11,7,"Yet to Approve")," "),t.xp6(13),t.hij(" ",t.xi3(24,9,e.created_date_time,"mediumDate")," "),t.xp6(9),t.hij(" ",e.created_by_name?e.created_by_name:t.lcZ(33,12,"NA")," "),t.xp6(10),t.hij(" ",e.id?e.id:t.lcZ(43,14,"NA")," "),t.xp6(9),t.hij(" ",t.lcZ(52,16,e.time_spent)," "),t.xp6(10),t.hij(" ",t.lcZ(62,18,t.xi3(63,20,e.approved_date_time,"mediumDate"))," "),t.xp6(10),t.hij(" ",e.approved_by_name?e.approved_by_name:t.lcZ(72,23,"NA")," ")}}function Dt(o,a){1&o&&(t.TgZ(0,"div",38)(1,"div",46)(2,"div",43)(3,"p"),t._uU(4,"No records found !"),t.qZA()()()())}function Nt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,St,73,25,"div",32),t.ALo(2,"paginate"),t.YNc(3,Dt,5,0,"div",33),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function It(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,y,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function Ut(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",47)(1,"div",17)(2,"div",48)(3,"pagination-controls",19),t.NdJ("pageChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(i))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,It,2,5,"button",8),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}let Jt=(()=>{class o{constructor(e,n,i,r,c){this._timesheet=e,this.modalService=n,this.api=i,this.cdref=r,this.common_service=c,this.buttonClick=new t.vpe,this.filter=new t.vpe,this.term="",this.declinedAll=[],this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.declinedCount=0,this.accessConfig=[],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=sessionStorage.getItem("user_id"),this.org_id=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(e){e.data.currentValue&&(this.declinedAll=e.data.currentValue),e.totalCount.currentValue&&(this.paginationConfig.totalItems=e.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=e.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=e.totalCount.currentValue.currentPage,this.count=e.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&organization_id=${this.org_id}&pagination=TRUE`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((i,r)=>{i.MONTH_APPROVAL_TIMESHEET&&(this.accessConfig=i.MONTH_APPROVAL_TIMESHEET)})})}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(e){this.page=e,this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}open(e,n){const i="APPROVED"===n?"approve":"decline",r="APPROVED"===n?"Approve":"Decline";if(e){const c=this.modalService.open(b.D,{size:"md",backdrop:!0,centered:!0});c.componentInstance.title=`Are you sure do you want to ${i}`,c.componentInstance.message=`${r} confirmation`,c.componentInstance.status.subscribe(l=>{"ok"==l&&this.updateStatus(e,n),c.close()})}}updateStatus(e,n){let i="DECLINED"===n?"REJECT":"ACCEPT",r=sessionStorage.getItem("manager_id");this._timesheet.updateStatus({time_sheet_ids:null,time_sheet_id:e,status_name:n,reporting_manager_ref:r,module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:i,user_id:this.user_id}).subscribe(l=>{this.buttonClick.emit(this.page),l&&this.api.showSuccess(`${n} updated successfully`)})}getContinuousIndex(e){return(this.page-1)*this.tableSize+e+1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.r),t.Y36(_.FF),t.Y36(m.O),t.Y36(t.sBO),t.Y36(h.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-month-declined"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[t.TTD],decls:49,vars:7,consts:[[1,"container-fluid","webView"],[1,"row","mx-2"],[1,"col-md-7","col-lg-4","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","p-2","sizeinput",3,"ngModel","ngModelChange"],["id","search-icon-tab",1,"bi","bi-search",3,"click"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col"],[1,"table","table-hover"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","py-3","px-4",3,"ngModel","ngModelChange"],["id","search-icon",1,"bi","bi-search",3,"click"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],["scope","col","class","text-center",4,"ngIf"],["class","nodata",4,"ngIf"],[1,"text-center"],[1,"nodata"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],[1,"card"],[1,"row","mobile-pagination"],[1,"mobile-pagination-content"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(4,"i",4),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()(),t._UZ(5,"div",5),t.TgZ(6,"div",6)(7,"div",7),t.YNc(8,Pt,2,5,"button",8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"table",12)(13,"thead")(14,"tr")(15,"th",13),t._uU(16,"S.No"),t.qZA(),t.TgZ(17,"th",14),t._uU(18,"Date "),t.qZA(),t.TgZ(19,"th",14),t._uU(20,"Employee"),t.qZA(),t.TgZ(21,"th",14),t._uU(22,"Time Sheets"),t.qZA(),t.TgZ(23,"th",14),t._uU(24,"Time"),t.qZA(),t.TgZ(25,"th",14),t._uU(26,"Saved On"),t.qZA(),t.TgZ(27,"th",14),t._uU(28,"Rejected On"),t.qZA(),t.TgZ(29,"th",14),t._uU(30,"Rejected By"),t.qZA(),t.TgZ(31,"th",14),t._uU(32,"Status"),t.qZA(),t.YNc(33,Et,2,1,"ng-container",15),t.qZA()(),t.TgZ(34,"tbody"),t.YNc(35,wt,4,5,"ng-container",16),t.qZA()()()()(),t.TgZ(36,"div",10),t._UZ(37,"div",5),t.TgZ(38,"div",17)(39,"div",18)(40,"pagination-controls",19),t.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),t.qZA()()()()(),t.TgZ(41,"div",20)(42,"div",21)(43,"div",22)(44,"input",23),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(45,"i",24),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()()(),t.TgZ(46,"div",25),t.YNc(47,Nt,4,5,"ng-container",16),t.qZA(),t.YNc(48,Ut,6,1,"div",26),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngModel",n.term),t.xp6(5),t.Q6J("ngForOf",n.tableSizes),t.xp6(25),t.Q6J("ngForOf",n.accessConfig),t.xp6(2),t.Q6J("ngIf",n.declinedAll),t.xp6(9),t.Q6J("ngModel",n.term),t.xp6(3),t.Q6J("ngIf",n.declinedAll),t.xp6(1),t.Q6J("ngIf",0!==n.declinedAll.length))},dependencies:[s.mk,s.sg,s.O5,p.Fj,p.JJ,p.On,g.LS,s.rS,s.uU,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:10px;margin:0!important;border-radius:5px}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:33px;width:100%;color:#fff;margin:23px 0 19px}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:40px;margin:2px 1px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.card[_ngcontent-%COMP%]{margin:5px 1px;border:none;box-shadow:0 1px 1px #0000000d;padding:0 10px;font-size:14px}.p-c[_ngcontent-%COMP%]{padding:5px 10px;height:14vh;font-size:13px}.p-c[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px;color:gray}.date-input[_ngcontent-%COMP%]{font-size:13px;border-radius:2px;background:#f6f6f6}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #FF1313;padding:10px 0;zoom:90%;background:#FFF3F3;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const E=function(o){return{"active-size":o}};function zt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,E,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function Yt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i.id,"APPROVED"))}),t._UZ(2,"i",31),t.qZA()()}}function Ft(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i.id,"DECLINED"))}),t._UZ(2,"i",32),t.qZA()()}}function Qt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Yt,3,0,"span",15),t.YNc(2,Ft,3,0,"span",15),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","ACCEPT"==e),t.xp6(1),t.Q6J("ngIf","REJECT"==e)}}function Lt(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",29),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td",29),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.TgZ(12,"td",29),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.TgZ(15,"td",29),t._uU(16),t.ALo(17,"titlecase"),t.qZA(),t.TgZ(18,"td",29),t.YNc(19,Qt,3,2,"ng-container",27),t.qZA()()),2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.getContinuousIndex(n)),t.xp6(2),t.Oqu(t.xi3(5,7,e.created_date_time,"mediumDate")),t.xp6(3),t.Oqu(e.created_by_name?e.created_by_name:t.lcZ(8,10,"NA")),t.xp6(3),t.Oqu(e.id?e.id:t.lcZ(11,12,"NA")),t.xp6(3),t.Oqu(t.lcZ(14,14,e.time_spent)),t.xp6(3),t.Oqu(t.lcZ(17,16,e.approved_state)),t.xp6(3),t.Q6J("ngForOf",i.accessConfig)}}function Rt(o,a){1&o&&(t.TgZ(0,"tr",33)(1,"td"),t._uU(2," No records found!"),t.qZA()())}function Vt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Lt,20,18,"tr",27),t.ALo(2,"paginate"),t.YNc(3,Rt,3,0,"tr",28),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function Ht(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",49)(1,"button",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i.id,"APPROVED"))}),t._UZ(2,"i",31),t.qZA()()}}function $t(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",49)(1,"button",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i.id,"DECLINED"))}),t._UZ(2,"i",32),t.qZA()()}}function jt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Ht,3,0,"span",48),t.YNc(2,$t,3,0,"span",48),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","ACCEPT"==e),t.xp6(1),t.Q6J("ngIf","REJECT"==e)}}function Bt(o,a){if(1&o&&(t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",10)(5,"div",40)(6,"h6",41),t._uU(7,"Status"),t.qZA()()(),t.TgZ(8,"div",10)(9,"div",42),t._uU(10),t.ALo(11,"titlecase"),t.qZA()()(),t.TgZ(12,"div",43),t.YNc(13,jt,3,2,"ng-container",27),t.qZA()(),t.TgZ(14,"div",44)(15,"div",45)(16,"div",10)(17,"div",46)(18,"div",10)(19,"div",40)(20,"h6",41),t._uU(21,"Created Date"),t.qZA()()(),t.TgZ(22,"div",10)(23,"div",47),t._uU(24),t.ALo(25,"date"),t.qZA()()(),t.TgZ(26,"div",46)(27,"div",10)(28,"div",40)(29,"h6",41),t._uU(30,"Employee"),t.qZA()()(),t.TgZ(31,"div",10)(32,"div",47),t._uU(33),t.ALo(34,"titlecase"),t.qZA()()()(),t.TgZ(35,"div",10)(36,"div",46)(37,"div",10)(38,"div",40)(39,"h6",41),t._uU(40,"Timesheet Id"),t.qZA()()(),t.TgZ(41,"div",10)(42,"div",47),t._uU(43),t.ALo(44,"titlecase"),t.qZA()()(),t.TgZ(45,"div",46)(46,"div",10)(47,"div",40)(48,"h6",41),t._uU(49,"Time"),t.qZA()()(),t.TgZ(50,"div",10)(51,"div",47),t._uU(52),t.ALo(53,"titlecase"),t.qZA()()()()()()()()),2&o){const e=a.$implicit,n=t.oxw(2);t.xp6(10),t.hij(" ",e.approved_state?e.approved_state:t.lcZ(11,6,"Yet to Approve")," "),t.xp6(3),t.Q6J("ngForOf",n.accessConfig),t.xp6(11),t.hij(" ",t.xi3(25,8,e.created_date_time,"mediumDate")," "),t.xp6(9),t.hij(" ",e.created_by_name?e.created_by_name:t.lcZ(34,11,"NA")," "),t.xp6(10),t.hij(" ",e.id?e.id:t.lcZ(44,13,"NA")," "),t.xp6(9),t.hij(" ",t.lcZ(53,15,e.time_spent)," ")}}function Gt(o,a){1&o&&(t.TgZ(0,"div",40)(1,"div",51)(2,"div",45)(3,"p"),t._uU(4,"No records found !"),t.qZA()()()())}function Kt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Bt,54,17,"div",34),t.ALo(2,"paginate"),t.YNc(3,Gt,5,0,"div",35),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function Wt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,E,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function Xt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",52)(1,"div",16)(2,"div",53)(3,"pagination-controls",18),t.NdJ("pageChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(i))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,Wt,2,5,"button",8),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}let te=(()=>{class o{constructor(e,n,i,r,c){this._timesheet=e,this.modalService=n,this.cdref=i,this.api=r,this.common_service=c,this.buttonClick=new t.vpe,this.filter=new t.vpe,this.term="",this.yetToApproveAll=[],this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.yetcount=0,this.accessConfig=[],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=sessionStorage.getItem("user_id"),this.org_id=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(e){e.data.currentValue&&(this.yetToApproveAll=e.data.currentValue),e.totalCount.currentValue&&(this.paginationConfig.totalItems=e.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=e.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=e.totalCount.currentValue.currentPage,this.count=e.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&organization_id=${this.org_id}&pagination=TRUE`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((i,r)=>{i.MONTH_APPROVAL_TIMESHEET&&(this.accessConfig=i.MONTH_APPROVAL_TIMESHEET)})})}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(e){this.page=e,this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1);let i={search_key:this.term,page:this.page,tableSize:this.tableSize};console.log(this.page,i),this.buttonClick.emit(i)}open(e,n){const i="APPROVED"===n?"approve":"decline",r="APPROVED"===n?"Approve":"Decline";if(e){const c=this.modalService.open(b.D,{size:"md",backdrop:!0,centered:!0});c.componentInstance.title=`Are you sure do you want to ${i}`,c.componentInstance.message=`${r} confirmation`,c.componentInstance.status.subscribe(l=>{"ok"==l&&this.updateStatus(e,n),c.close()})}}updateStatus(e,n){this._timesheet.updateStatus({user_id:this.user_id,update:"TRUE",approved_by_manager_id:this.user_id,module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"DECLINED"===n?"REJECT":"ACCEPT",time_sheet_id_list:[],time_sheet_id:e,approved_state:n}).subscribe(c=>{this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize}),c&&(this.api.showSuccess(`Timesheet ${"DECLINED"===n?"declined":"approved"} successfully !!`),this.ngOnInit())})}getContinuousIndex(e){return(this.page-1)*this.tableSize+e+1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.r),t.Y36(_.FF),t.Y36(t.sBO),t.Y36(m.O),t.Y36(h.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-month-yet-approve"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[t.TTD],decls:44,vars:6,consts:[[1,"container-fluid","webView"],[1,"row","mx-2"],[1,"col-md-7","col-lg-4","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","p-2","sizeinput",3,"ngModel","ngModelChange"],["id","search-icon-tab",1,"bi","bi-search",3,"click"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col"],[1,"table","table-hover"],["scope","col"],["scope","col",1,"text-center"],[4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","py-3","px-4",3,"ngModel","ngModelChange"],["id","search-icon",1,"bi","bi-search",3,"click"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[1,"text-center"],[2,"border","none","background-color","inherit",3,"click"],["container","body","ngbTooltip","Approve",1,"bi","bi-check-circle",2,"color","green"],["container","body","ngbTooltip","Reject",1,"bi","bi-x-circle",2,"color","red"],[1,"nodata"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],["style","float: right;",4,"ngIf"],[2,"float","right"],["type","button",1,"toolbar-btn",3,"click"],[1,"card"],[1,"row","mobile-pagination"],[1,"mobile-pagination-content"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(4,"i",4),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()(),t._UZ(5,"div",5),t.TgZ(6,"div",6)(7,"div",7),t.YNc(8,zt,2,5,"button",8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"table",12)(13,"thead")(14,"tr")(15,"th",13),t._uU(16,"S.No"),t.qZA(),t.TgZ(17,"th",14),t._uU(18,"Saved On"),t.qZA(),t.TgZ(19,"th",14),t._uU(20,"Employee"),t.qZA(),t.TgZ(21,"th",14),t._uU(22,"Time Sheet Id"),t.qZA(),t.TgZ(23,"th",14),t._uU(24,"Time"),t.qZA(),t.TgZ(25,"th",14),t._uU(26,"Status"),t.qZA(),t.TgZ(27,"th",14),t._uU(28,"Action"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,Vt,4,5,"ng-container",15),t.qZA()()()()(),t.TgZ(31,"div",10),t._UZ(32,"div",5),t.TgZ(33,"div",16)(34,"div",17)(35,"pagination-controls",18),t.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),t.qZA()()()()(),t.TgZ(36,"div",19)(37,"div",20)(38,"div",21)(39,"input",22),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(40,"i",23),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()()(),t.TgZ(41,"div",24),t.YNc(42,Kt,4,5,"ng-container",15),t.qZA(),t.YNc(43,Xt,6,1,"div",25),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngModel",n.term),t.xp6(5),t.Q6J("ngForOf",n.tableSizes),t.xp6(22),t.Q6J("ngIf",n.yetToApproveAll),t.xp6(9),t.Q6J("ngModel",n.term),t.xp6(3),t.Q6J("ngIf",n.yetToApproveAll),t.xp6(1),t.Q6J("ngIf",0!==n.yetToApproveAll.length))},dependencies:[s.mk,s.sg,s.O5,p.Fj,p.JJ,p.On,g.LS,_._L,s.rS,s.uU,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:5px;border-radius:5px;margin:0!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:40px;margin:2px 1px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #FFAF13;padding:10px 0;zoom:90%;background:#FFFCF3;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const k=function(o){return{"active-size":o}};function ee(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,k,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function ne(o,a){1&o&&(t.TgZ(0,"th",14),t._uU(1,"Action"),t.qZA())}function oe(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ne,2,0,"th",28),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","DELETE"==e)}}function ie(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",30),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",30),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td",30),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.TgZ(12,"td",30),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.TgZ(15,"td",30),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"td",30),t._uU(19),t.ALo(20,"titlecase"),t.qZA(),t.TgZ(21,"td",30),t._uU(22),t.ALo(23,"titlecase"),t.qZA(),t._UZ(24,"td"),t.qZA()),2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.getContinuousIndex(n)),t.xp6(2),t.Oqu(t.xi3(5,8,e.created_date_time,"mediumDate")),t.xp6(3),t.Oqu(e.created_by_name?e.created_by_name:t.lcZ(8,11,"NA")),t.xp6(3),t.Oqu(e.id?e.id:t.lcZ(11,13,"NA")),t.xp6(3),t.Oqu(t.lcZ(14,15,e.time_spent)),t.xp6(3),t.Oqu(t.xi3(17,17,e.approved_date_time,"mediumDate")),t.xp6(3),t.Oqu(e.approved_by_name?e.approved_by_name:t.lcZ(20,20,"NA")),t.xp6(3),t.Oqu(t.lcZ(23,22,e.approved_state))}}function ae(o,a){1&o&&(t.TgZ(0,"tr",31)(1,"td"),t._uU(2," No records found!"),t.qZA()())}function re(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ie,25,24,"tr",15),t.ALo(2,"paginate"),t.YNc(3,ae,3,0,"tr",29),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function ce(o,a){if(1&o&&(t.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"div",10)(5,"div",38)(6,"h6",39),t._uU(7,"Status"),t.qZA()()(),t.TgZ(8,"div",10)(9,"div",40),t._uU(10),t.ALo(11,"titlecase"),t.qZA()()(),t._UZ(12,"div",41),t.qZA(),t.TgZ(13,"div",42)(14,"div",43)(15,"div",10)(16,"div",44)(17,"div",10)(18,"div",38)(19,"h6",39),t._uU(20,"Created Date"),t.qZA()()(),t.TgZ(21,"div",10)(22,"div",45),t._uU(23),t.ALo(24,"date"),t.qZA()()(),t.TgZ(25,"div",44)(26,"div",10)(27,"div",38)(28,"h6",39),t._uU(29,"Employee"),t.qZA()()(),t.TgZ(30,"div",10)(31,"div",45),t._uU(32),t.ALo(33,"titlecase"),t.qZA()()()(),t.TgZ(34,"div",10)(35,"div",44)(36,"div",10)(37,"div",38)(38,"h6",39),t._uU(39,"Timesheet Id"),t.qZA()()(),t.TgZ(40,"div",10)(41,"div",45),t._uU(42),t.ALo(43,"titlecase"),t.qZA()()(),t.TgZ(44,"div",44)(45,"div",10)(46,"div",38)(47,"h6",39),t._uU(48,"Time"),t.qZA()()(),t.TgZ(49,"div",10)(50,"div",45),t._uU(51),t.ALo(52,"titlecase"),t.qZA()()()(),t.TgZ(53,"div",10)(54,"div",44)(55,"div",10)(56,"div",38)(57,"h6",39),t._uU(58,"Approved Date"),t.qZA()()(),t.TgZ(59,"div",10)(60,"div",45),t._uU(61),t.ALo(62,"date"),t.qZA()()(),t.TgZ(63,"div",44)(64,"div",10)(65,"div",38)(66,"h6",39),t._uU(67,"Approved By"),t.qZA()()(),t.TgZ(68,"div",10)(69,"div",45),t._uU(70),t.ALo(71,"titlecase"),t.qZA()()()()()()()()),2&o){const e=a.$implicit;t.xp6(10),t.hij(" ",t.lcZ(11,7,e.approved_state)," "),t.xp6(13),t.hij(" ",t.xi3(24,9,e.created_date_time,"mediumDate")," "),t.xp6(9),t.hij(" ",e.created_by_name?e.created_by_name:t.lcZ(33,12,"NA")," "),t.xp6(10),t.hij(" ",e.id?e.id:t.lcZ(43,14,"NA")," "),t.xp6(9),t.hij(" ",t.lcZ(52,16,e.time_spent)," "),t.xp6(10),t.hij(" ",t.xi3(62,18,e.approved_date_time,"mediumDate")," "),t.xp6(9),t.hij(" ",e.approved_by_name?e.approved_by_name:t.lcZ(71,21,"NA")," ")}}function pe(o,a){1&o&&(t.TgZ(0,"div",38)(1,"div",46)(2,"div",43)(3,"p"),t._uU(4,"No records found !"),t.qZA()()()())}function se(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ce,72,23,"div",32),t.ALo(2,"paginate"),t.YNc(3,pe,5,0,"div",33),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function le(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,k,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function de(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",47)(1,"div",17)(2,"div",48)(3,"pagination-controls",19),t.NdJ("pageChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(i))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,le,2,5,"button",8),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}let _e=(()=>{class o{constructor(e,n,i,r,c){this._timesheet=e,this.modalService=n,this.api=i,this.cdref=r,this.common_service=c,this.buttonClick=new t.vpe,this.filter=new t.vpe,this.term="",this.approvedAll=[],this.userId=1,this.page=1,this.approveCount=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.count=0,this.accessConfig=[],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=sessionStorage.getItem("user_id"),this.org_id=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(e){e.data.currentValue&&(this.approvedAll=e.data.currentValue),e.totalCount.currentValue&&(this.paginationConfig.totalItems=e.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=e.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=e.totalCount.currentValue.currentPage,this.count=e.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&organization_id=${this.org_id}&pagination=TRUE`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((i,r)=>{i.MONTH_APPROVAL_TIMESHEET&&(this.accessConfig=i.MONTH_APPROVAL_TIMESHEET)})})}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(e){this.page=e,this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}getContinuousIndex(e){return(this.page-1)*this.tableSize+e+1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.r),t.Y36(_.FF),t.Y36(m.O),t.Y36(t.sBO),t.Y36(h.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-month-approve"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[t.TTD],decls:47,vars:7,consts:[[1,"container-fluid","webView"],[1,"row","mx-2"],[1,"col-md-7","col-lg-4","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","p-2","sizeinput",3,"ngModel","ngModelChange"],["id","search-icon-tab",1,"bi","bi-search",3,"click"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col"],[1,"table","table-hover"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","py-3","px-4",3,"ngModel","ngModelChange"],["id","search-icon",1,"bi","bi-search",3,"click"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],["scope","col","class","text-center",4,"ngIf"],["class","nodata",4,"ngIf"],[1,"text-center"],[1,"nodata"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],[1,"card"],[1,"row","mobile-pagination"],[1,"mobile-pagination-content"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(4,"i",4),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()(),t._UZ(5,"div",5),t.TgZ(6,"div",6)(7,"div",7),t.YNc(8,ee,2,5,"button",8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"table",12)(13,"thead")(14,"tr")(15,"th",13),t._uU(16,"S.No"),t.qZA(),t.TgZ(17,"th",14),t._uU(18,"Date "),t.qZA(),t.TgZ(19,"th",14),t._uU(20,"Employee"),t.qZA(),t.TgZ(21,"th",14),t._uU(22,"Time Sheet Id"),t.qZA(),t.TgZ(23,"th",14),t._uU(24,"Time"),t.qZA(),t.TgZ(25,"th",14),t._uU(26,"Approved On"),t.qZA(),t.TgZ(27,"th",14),t._uU(28,"Approved By"),t.qZA(),t.TgZ(29,"th",14),t._uU(30,"Status"),t.qZA(),t.YNc(31,oe,2,1,"ng-container",15),t.qZA()(),t.TgZ(32,"tbody"),t.YNc(33,re,4,5,"ng-container",16),t.qZA()()()()(),t.TgZ(34,"div",10),t._UZ(35,"div",5),t.TgZ(36,"div",17)(37,"div",18)(38,"pagination-controls",19),t.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),t.qZA()()()()(),t.TgZ(39,"div",20)(40,"div",21)(41,"div",22)(42,"input",23),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(43,"i",24),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()()(),t.TgZ(44,"div",25),t.YNc(45,se,4,5,"ng-container",16),t.qZA(),t.YNc(46,de,6,1,"div",26),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngModel",n.term),t.xp6(5),t.Q6J("ngForOf",n.tableSizes),t.xp6(23),t.Q6J("ngForOf",n.accessConfig),t.xp6(2),t.Q6J("ngIf",n.approvedAll),t.xp6(9),t.Q6J("ngModel",n.term),t.xp6(3),t.Q6J("ngIf",n.approvedAll),t.xp6(1),t.Q6J("ngIf",0!==n.approvedAll.length))},dependencies:[s.mk,s.sg,s.O5,p.Fj,p.JJ,p.On,g.LS,s.rS,s.uU,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:10px;border-radius:5px;margin:0}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:40px;margin:2px 1px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #13FF2B;padding:10px 0;zoom:90%;background:#F3FFF5;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const ge=["tabset"],ue=["tabsets"];function me(o,a){if(1&o&&(t.TgZ(0,"mat-option",35),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function he(o,a){1&o&&(t.TgZ(0,"p",37),t._uU(1,"Month is required"),t.qZA())}function fe(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,he,2,0,"p",36),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.fromMonth.errors.required)}}function be(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"form",28),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.submit())}),t.TgZ(1,"div",4)(2,"div",29)(3,"mat-form-field")(4,"mat-label"),t._uU(5,"Select month"),t.qZA(),t.TgZ(6,"mat-select",30),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onChanges())}),t.YNc(7,me,2,2,"mat-option",31),t.qZA()(),t.YNc(8,fe,2,1,"div",27),t.qZA(),t.TgZ(9,"div",29)(10,"button",32),t._uU(11,"Submit"),t.qZA()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.monthForm),t.xp6(7),t.Q6J("ngForOf",e.monthNames),t.xp6(1),t.Q6J("ngIf",e.f.fromMonth.touched&&e.f.fromMonth.invalid)}}function ve(o,a){1&o&&(t.TgZ(0,"button",38),t._uU(1," Execute timsheets "),t.qZA())}function xe(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-month-yet-approve",39),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function Ce(o,a){1&o&&(t.TgZ(0,"div",40),t._uU(1,"No records found "),t.qZA())}function Te(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-month-approve",39),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function Ae(o,a){1&o&&(t.TgZ(0,"div",40),t._uU(1,"No records found "),t.qZA())}function Ze(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-month-declined",39),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function Me(o,a){1&o&&(t.TgZ(0,"div",40),t._uU(1,"No records found "),t.qZA())}function Oe(o,a){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,e.monthForm.value.to_date,"mediumDate"))}}function Pe(o,a){if(1&o&&(t.TgZ(0,"mat-option",35),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ye(o,a){1&o&&(t.TgZ(0,"p",37),t._uU(1,"Month is required"),t.qZA())}function Ee(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,ye,2,0,"p",36),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.fromMonth.errors.required)}}function ke(o,a){1&o&&(t.TgZ(0,"button",38),t._uU(1," Execute timsheets "),t.qZA())}function qe(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-month-yet-approve",41),t.NdJ("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function we(o,a){1&o&&(t.TgZ(0,"div",40),t._uU(1,"No records found\n"),t.qZA())}function Se(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-month-approve",41),t.NdJ("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function De(o,a){1&o&&(t.TgZ(0,"div",40),t._uU(1,"No records found\n"),t.qZA())}function Ne(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-month-declined",41),t.NdJ("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function Ie(o,a){1&o&&(t.TgZ(0,"div",40),t._uU(1,"No records found\n"),t.qZA())}let Ue=(()=>{class o{constructor(e,n,i,r,c,l){this.fb=e,this.api=n,this.location=i,this._timesheet=r,this.cdref=c,this.common_service=l,this.BreadCrumbsTitle="Month timesheets",this.page=1,this.selectedTab="YET_TO_APPROVED",this.allDetails=[],this.submited=!1,this.openDropdown=!1,this.allListDataids=[],this.accessConfig=[],this.exebtn=!1,this.acceptOption=!1,this.rejectOption=!1,this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.changes=!1}goBack(e){e.preventDefault(),this.location.back()}ngOnInit(){this.common_service.setTitle(this.BreadCrumbsTitle),this.initForm(),this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getByStatus({module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"VIEW",approved_state:"YET_TO_APPROVED",user_id:this.user_id,page_number:1,data_per_page:10,search_key:"",pagination:"TRUE"}),this.getUserControls()}get f(){return this.monthForm.controls}initForm(){this.monthForm=this.fb.group({fromMonth:["",p.kI.required]})}handleMonthSelection(e){const n=(new Date).getFullYear(),r=("0"+(new Date(Date.parse(e+" 1, "+n)).getMonth()+1)).slice(-2);this.formattedDate="01/"+r+"/"+n}onChanges(){this.changes=!0}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&organization_id=${this.orgId}&pagination=TRUE`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{let n=[];n=e,n.length>0&&n.forEach(i=>{if(i.MONTH_APPROVAL_TIMESHEET){let r=i.MONTH_APPROVAL_TIMESHEET.includes("ACCEPT")||i.MONTH_APPROVAL_TIMESHEET.includes("REJECT");this.exebtn=r,this.acceptOption=!!i.MONTH_APPROVAL_TIMESHEET.includes("ACCEPT"),this.rejectOption=!!i.MONTH_APPROVAL_TIMESHEET.includes("REJECT")}})})}submit(){this.monthForm.invalid?(this.monthForm.markAllAsTouched(),this.api.showWarning("Please select month")):(this.allDetails=[],this.submited=!0,this.handleMonthSelection(this.monthForm.value.fromMonth),this.getAllTimeSheet({module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"VIEW",approved_state:"YET_TO_APPROVED",user_id:this.user_id,page_number:1,data_per_page:10,search_key:"",timesheets_from_date:this.formattedDate,pagination:"TRUE"}),this.tabset.tabs[0].active=!0,this.tabsets.tabs[0].active=!0)}getByStatus(e){this.allListDataids=[],this.exebtn=!1,this.api.getData(`${f.N.live_url}/${f.N.time_sheets_monthly}?user_id=${e.user_id}&module=${e.module}&menu=${e.menu}&method=${e.method}&approved_state=${e.approved_state}&search_key=${e.search_key}&page_number=${e.page_number}&data_per_page=${e.data_per_page}&pagination=${e.pagination}&organization_id=${this.orgId}`).subscribe(n=>{n&&n.result.data.length>=1?n.result.data.length>1?(n.result.data.forEach(i=>{this.allListDataids.push(i.id),this.exebtn=!0}),this.allDetails=n.result.data,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10}):1===n.result.data.length&&(this.allListDataids.push(n.result.data[0].id),this.exebtn=!0,this.allDetails=n.result.data,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10}):this.api.showWarning("No records found !")},n=>{this.api.showError(n.error.error.message)})}getAllTimeSheet(e){this.allListDataids=[],this.exebtn=!1,this.api.getData(`${f.N.live_url}/${f.N.time_sheets_monthly}?user_id=${e.user_id}&module=${e.module}&menu=${e.menu}&method=${e.method}&timesheets_from_date=${e.timesheets_from_date}&approved_state=${e.approved_state}&search_key=${e.search_key}&page_number=${e.page_number}&data_per_page=${e.data_per_page}&pagination=${e.pagination}&organization_id=${this.orgId}`).subscribe(n=>{n&&n.result.data.length>=1?n.result.data.length>1?(n.result.data.forEach(i=>{this.allListDataids.push(i.id),this.exebtn=!0}),this.allDetails=n.result.data,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10}):1===n.result.data.length&&(this.allListDataids.push(n.result.data[0].id),this.exebtn=!0,this.allDetails=n.result.data,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10}):this.api.showWarning("No records found !")},n=>{this.api.showError(n.error.error.message)})}tabState(e){if(this.selectedTab="Approved timesheets"==e.heading?"APPROVED":"Yet to be approved"==e.heading?"YET_TO_APPROVED":"Declined timesheets"==e.heading?"DECLINED":"Time Sheets"==e.heading?"TIMESHEET":"YET_TO_APPROVED",this.handleMonthSelection(this.monthForm.value.fromMonth),""!==this.monthForm.value.fromMonth){let n={module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"VIEW",approved_state:this.selectedTab,user_id:this.user_id,page_number:1,data_per_page:10,search_key:"",timesheets_from_date:this.formattedDate,pagination:"TRUE"};this.monthForm.invalid?(this.monthForm.markAllAsTouched(),this.api.showWarning("Please select month")):(this.allDetails=[],this.getAllTimeSheet(n))}else this.getByStatus({module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"VIEW",approved_state:this.selectedTab,user_id:this.user_id,page_number:1,data_per_page:10,search_key:"",pagination:"TRUE"})}buttonClick(e){console.log(e.page),this.handleMonthSelection(this.monthForm.value.fromMonth),e&&(this.cdref.detectChanges(),this.changes?this.getAllTimeSheet({module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"VIEW",approved_state:this.selectedTab,user_id:this.user_id,page_number:e.page,data_per_page:e.tableSize,search_key:e.search_key,timesheets_from_date:this.formattedDate,pagination:"TRUE"}):this.getByStatus({module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"VIEW",approved_state:this.selectedTab,user_id:this.user_id,page_number:e.page,search_key:e.search_key,data_per_page:e.tableSize,pagination:"TRUE"}))}searchFiter(e){this.handleMonthSelection(this.monthForm.value.fromMonth),e&&(this.cdref.detectChanges(),this.changes?this.getAllTimeSheet({module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"VIEW",approved_state:this.selectedTab,user_id:this.user_id,page_number:e.page,data_per_page:e.tableSize,search_key:e.search_key,timesheets_from_date:this.formattedDate,pagination:"TRUE"}):this.getByStatus({module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"VIEW",approved_state:this.selectedTab,user_id:this.user_id,page_number:e.page,search_key:e.search_key,data_per_page:e.tableSize,pagination:"TRUE"}))}exeDropdown(){this.openDropdown=!this.openDropdown}updateStatus(e){this._timesheet.updateStatus({user_id:this.user_id,update:"TRUE",approved_by_manager_id:this.user_id,module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"DECLINED"===e?"REJECT":"ACCEPT",time_sheet_id_list:this.allListDataids,time_sheet_id:null,approved_state:e}).subscribe(r=>{let c={module:"TIMESHEET",menu:"MONTH_APPROVAL_TIMESHEET",method:"VIEW",approved_state:this.selectedTab,user_id:this.user_id,page_number:1,data_per_page:10,search_key:"",timesheets_from_date:this.formattedDate,pagination:"TRUE"};r&&(this.api.showSuccess(`Timesheet ${"DECLINED"===e?"declined":"approved"} updated successfully`),this.handleMonthSelection(this.monthForm.value.fromMonth),this.getAllTimeSheet(c),this.ngOnInit())})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.qu),t.Y36(m.O),t.Y36(s.Ye),t.Y36(u.r),t.Y36(t.sBO),t.Y36(h.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-month-timesheet"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ge,5),t.Gf(ue,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.tabset=i.first),t.iGM(i=t.CRH())&&(n.tabsets=i.first)}},decls:90,vars:23,consts:[[1,"container-fluid","webView"],[1,"container-middle"],[1,"p-20","pt-4"],[1,"card"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-8"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"col-sm-12","col-md-12","col-lg-4","d-flex","align-items-lg-center"],[1,"col-12"],["ngbDropdown","",1,"d-inline-block"],["type","button","class","btn btn-outline-primary","id","dropdownBasic1","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"drop-down-menu"],["ngbDropdownItem","",3,"disabled","click"],[1,"bi","bi-check-circle"],[1,"bi","bi-x-circle"],[1,"col-sm-12"],[1,"container-fluid","p-20"],[1,"col-md-12","mb-4"],["tabset",""],["heading","Yet to approved",3,"selectTab"],[3,"data","totalCount","filter","buttonClick",4,"ngIf"],["class","text-center text-muted no-data py-2",4,"ngIf"],["heading","Approved timesheets",3,"selectTab"],["heading","Declined timesheets",3,"selectTab"],[1,"container-fluid","mobileView"],[1,"row","p-20","mx-1"],[1,"col-sm-8"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"col-sm-12","col-md-12","col-lg-4"],["formControlName","fromMonth",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"proceedbtn","mat-btn-s"],["tabsets",""],[3,"data","totalCount","buttonClick",4,"ngIf"],[3,"value"],["class","feedback",4,"ngIf"],[1,"feedback"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],[3,"data","totalCount","filter","buttonClick"],[1,"text-center","text-muted","no-data","py-2"],[3,"data","totalCount","buttonClick"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,be,12,3,"form",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",4)(9,"div",8)(10,"div",9),t.ynx(11),t.YNc(12,ve,2,0,"button",10),t.BQk(),t.TgZ(13,"div",11)(14,"button",12),t.NdJ("click",function(){return n.updateStatus("APPROVED")}),t._UZ(15,"i",13),t._uU(16," Approve"),t.qZA(),t.TgZ(17,"button",12),t.NdJ("click",function(){return n.updateStatus("DECLINED")}),t._UZ(18,"i",14),t._uU(19," Decline"),t.qZA()()()()()()()()(),t.TgZ(20,"div")(21,"div",4)(22,"div",15)(23,"div",16)(24,"div",4)(25,"div",17)(26,"tabset",null,18)(28,"tab",19),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(29,xe,1,2,"app-month-yet-approve",20),t.YNc(30,Ce,2,0,"div",21),t.qZA(),t.TgZ(31,"tab",22),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(32,Te,1,2,"app-month-approve",20),t.YNc(33,Ae,2,0,"div",21),t.qZA(),t.TgZ(34,"tab",23),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(35,Ze,1,2,"app-month-declined",20),t.YNc(36,Me,2,0,"div",21),t.qZA()()()()()()()()()(),t.TgZ(37,"div",24)(38,"div",25)(39,"div",26)(40,"h1"),t._uU(41,"Month timesheets "),t.YNc(42,Oe,3,4,"span",27),t.qZA()()(),t.TgZ(43,"div",1)(44,"div",2)(45,"div",3)(46,"div",4)(47,"div",5)(48,"form",28),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(49,"div",4)(50,"div",29)(51,"mat-form-field")(52,"mat-label"),t._uU(53,"Select month"),t.qZA(),t.TgZ(54,"mat-select",30),t.NdJ("change",function(){return n.onChanges()}),t.YNc(55,Pe,2,2,"mat-option",31),t.qZA()(),t.YNc(56,Ee,2,1,"div",27),t.qZA(),t.TgZ(57,"div",29)(58,"button",32),t._uU(59,"Submit"),t.qZA()()()()(),t.TgZ(60,"div",7)(61,"div",4)(62,"div",8)(63,"div",9),t.ynx(64),t.YNc(65,ke,2,0,"button",10),t.BQk(),t.TgZ(66,"div",11)(67,"button",12),t.NdJ("click",function(){return n.updateStatus("APPROVED")}),t._UZ(68,"i",13),t._uU(69," Approve"),t.qZA(),t.TgZ(70,"button",12),t.NdJ("click",function(){return n.updateStatus("DECLINED")}),t._UZ(71,"i",14),t._uU(72," Decline"),t.qZA()()()()()()()()(),t.TgZ(73,"div")(74,"div",4)(75,"div",15)(76,"div",16)(77,"div",4)(78,"div",17)(79,"tabset",null,33)(81,"tab",19),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(82,qe,1,2,"app-month-yet-approve",34),t.YNc(83,we,2,0,"div",21),t.qZA(),t.TgZ(84,"tab",22),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(85,Se,1,2,"app-month-approve",34),t.YNc(86,De,2,0,"div",21),t.qZA(),t.TgZ(87,"tab",23),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(88,Ne,1,2,"app-month-declined",34),t.YNc(89,Ie,2,0,"div",21),t.qZA()()()()()()()()()()),2&e&&(t.xp6(6),t.Q6J("ngIf",n.monthForm),t.xp6(6),t.Q6J("ngIf","YET_TO_APPROVED"===n.selectedTab&&0!==n.allListDataids.length&&!0===n.exebtn),t.xp6(2),t.Q6J("disabled",!n.acceptOption),t.xp6(3),t.Q6J("disabled",!n.rejectOption),t.xp6(12),t.Q6J("ngIf","YET_TO_APPROVED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(1),t.Q6J("ngIf","YET_TO_APPROVED"!==(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(2),t.Q6J("ngIf","APPROVED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(1),t.Q6J("ngIf","APPROVED"!==(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(2),t.Q6J("ngIf","DECLINED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(1),t.Q6J("ngIf","DECLINED"!==(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(6),t.Q6J("ngIf",n.submited),t.xp6(6),t.Q6J("formGroup",n.monthForm),t.xp6(7),t.Q6J("ngForOf",n.monthNames),t.xp6(1),t.Q6J("ngIf",n.f.fromMonth.touched&&n.f.fromMonth.invalid),t.xp6(9),t.Q6J("ngIf","YET_TO_APPROVED"===n.selectedTab&&0!==n.allListDataids.length&&!0===n.exebtn),t.xp6(2),t.Q6J("disabled",!n.acceptOption),t.xp6(3),t.Q6J("disabled",!n.rejectOption),t.xp6(12),t.Q6J("ngIf","YET_TO_APPROVED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(1),t.Q6J("ngIf","YET_TO_APPROVED"!==(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(2),t.Q6J("ngIf","APPROVED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(1),t.Q6J("ngIf","APPROVED"!==(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(2),t.Q6J("ngIf","DECLINED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(1),t.Q6J("ngIf","DECLINED"!==(null==n.allDetails[0]?null:n.allDetails[0].approved_state)))},dependencies:[s.sg,s.O5,v.wW,v.AH,p._Y,p.JJ,p.JL,p.sg,p.u,_.jt,_.iD,_.Vi,_.TH,T.KE,T.hX,O.gD,A.ey,Jt,te,_e,s.uU],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%!important;padding:20px;border-radius:5px;overflow-x:auto!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:41px;width:100%;color:#fff;margin:23px 0 19px}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;border:none!important;border-bottom:2px solid gray!important;border-radius:0!important}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%;height:30px}.align-items-lg-center[_ngcontent-%COMP%]{justify-content:end!important}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.card[_ngcontent-%COMP%]{margin:5px 1px;border:none;box-shadow:0 1px 1px #0000000d;padding:0 10px;font-size:14px}.p-c[_ngcontent-%COMP%]{padding:5px 10px;height:16vh;font-size:13px}p[_ngcontent-%COMP%]{margin-bottom:5px;color:#000}.date-input[_ngcontent-%COMP%]{font-size:13px;border-radius:2px;background:#f6f6f6}.feedback[_ngcontent-%COMP%]{color:red!important}mat-card[_ngcontent-%COMP%]{width:100%;position:absolute;top:4.4rem;background-color:#fff;box-shadow:0 1px 1px #0000000d;height:-moz-fit-content;height:fit-content}.set-position[_ngcontent-%COMP%]{position:relative}.myColor[_ngcontent-%COMP%]{background:lightgray}.no-data[_ngcontent-%COMP%]{font-style:italic;font-size:small;font-weight:500}.star-color[_ngcontent-%COMP%]{color:red}.container-middle[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden;background:#f8f8f8;padding-bottom:7rem!important}.bi[_ngcontent-%COMP%]{cursor:pointer}.drop-down-menu[_ngcontent-%COMP%]{box-shadow:0 0 6px!important;border:0;top:7px!important;left:6px!important}@media (max-width: 1023px){.p-20[_ngcontent-%COMP%]{padding:5px 5px 0!important}}@media (min-width: 1024px){.p-20[_ngcontent-%COMP%]{padding:14px 12px 0!important}}"]}),o})();const q=function(o){return{"active-size":o}};function Je(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,q,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function ze(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",29),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td",29),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.TgZ(12,"td",29),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.TgZ(15,"td",29),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"td",29),t._uU(19),t.ALo(20,"titlecase"),t.qZA(),t.TgZ(21,"td",29),t._uU(22),t.ALo(23,"titlecase"),t.qZA(),t._UZ(24,"td"),t.qZA()),2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.getContinuousIndex(n)),t.xp6(2),t.Oqu(t.xi3(5,8,e.created_date_time,"mediumDate")),t.xp6(3),t.Oqu(t.lcZ(8,11,e.created_by_first_name)),t.xp6(3),t.Oqu(e.id?e.id:t.lcZ(11,13,"NA")),t.xp6(3),t.Oqu(t.lcZ(14,15,e.time_spent)),t.xp6(3),t.Oqu(t.xi3(17,17,e.approved_date_time,"mediumDate")),t.xp6(3),t.Oqu(e.approved_by_first_name?e.approved_by_first_name:t.lcZ(20,20,"NA")),t.xp6(3),t.Oqu(e.approved_state?e.approved_state:t.lcZ(23,22,"NA"))}}function Ye(o,a){1&o&&(t.TgZ(0,"tr",30)(1,"td"),t._uU(2," No records found !"),t.qZA()())}function Fe(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ze,25,24,"tr",27),t.ALo(2,"paginate"),t.YNc(3,Ye,3,0,"tr",28),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function Qe(o,a){if(1&o&&(t.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36)(4,"div",10)(5,"div",37)(6,"h6",38),t._uU(7,"Status"),t.qZA()()(),t.TgZ(8,"div",10)(9,"div",39),t._uU(10),t.ALo(11,"titlecase"),t.qZA()()(),t._UZ(12,"div",40),t.qZA(),t.TgZ(13,"div",41)(14,"div",42)(15,"div",10)(16,"div",43)(17,"div",10)(18,"div",37)(19,"h6",38),t._uU(20,"Created Date"),t.qZA()()(),t.TgZ(21,"div",10)(22,"div",44),t._uU(23),t.ALo(24,"date"),t.qZA()()(),t.TgZ(25,"div",43)(26,"div",10)(27,"div",37)(28,"h6",38),t._uU(29,"Employee"),t.qZA()()(),t.TgZ(30,"div",10)(31,"div",44),t._uU(32),t.ALo(33,"titlecase"),t.qZA()()()(),t.TgZ(34,"div",10)(35,"div",43)(36,"div",10)(37,"div",37)(38,"h6",38),t._uU(39,"Timesheet Id"),t.qZA()()(),t.TgZ(40,"div",10)(41,"div",44),t._uU(42),t.ALo(43,"titlecase"),t.qZA()()(),t.TgZ(44,"div",43)(45,"div",10)(46,"div",37)(47,"h6",38),t._uU(48,"Time"),t.qZA()()(),t.TgZ(49,"div",10)(50,"div",44),t._uU(51),t.ALo(52,"titlecase"),t.qZA()()()(),t.TgZ(53,"div",10)(54,"div",43)(55,"div",10)(56,"div",37)(57,"h6",38),t._uU(58,"Approved Date"),t.qZA()()(),t.TgZ(59,"div",10)(60,"div",44),t._uU(61),t.ALo(62,"date"),t.qZA()()(),t.TgZ(63,"div",43)(64,"div",10)(65,"div",37)(66,"h6",38),t._uU(67,"Approved By"),t.qZA()()(),t.TgZ(68,"div",10)(69,"div",44),t._uU(70),t.ALo(71,"titlecase"),t.qZA()()()()()()()()),2&o){const e=a.$implicit;t.xp6(10),t.hij(" ",e.approved_state?e.approved_state:t.lcZ(11,7,"Yet to Approve")," "),t.xp6(13),t.hij(" ",t.xi3(24,9,e.created_date_time,"mediumDate")," "),t.xp6(9),t.hij(" ",e.created_by_first_name?e.created_by_first_name:t.lcZ(33,12,"NA")," "),t.xp6(10),t.hij(" ",e.id?e.id:t.lcZ(43,14,"NA")," "),t.xp6(9),t.hij(" ",t.lcZ(52,16,e.time_spent)," "),t.xp6(10),t.hij(" ",t.xi3(62,18,e.approved_date_time,"mediumDate")," "),t.xp6(9),t.hij(" ",e.approved_by_first_name?e.approved_by_first_name:t.lcZ(71,21,"NA")," ")}}function Le(o,a){1&o&&(t.TgZ(0,"div",37)(1,"div",45)(2,"div",42)(3,"p"),t._uU(4,"No records found !"),t.qZA()()()())}function Re(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Qe,72,23,"div",31),t.ALo(2,"paginate"),t.YNc(3,Le,5,0,"div",32),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function Ve(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,q,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function He(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",46)(1,"div",16)(2,"div",47)(3,"pagination-controls",18),t.NdJ("pageChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(i))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,Ve,2,5,"button",8),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}let $e=(()=>{class o{constructor(e,n,i,r,c){this.api=e,this._timeSheetService=n,this.modalService=i,this.cdref=r,this.common_service=c,this.buttonClick=new t.vpe,this.filter=new t.vpe,this.term="",this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.approvedAll=[],this.list=[],this.accessConfig=[],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.entryPoint=JSON.parse(sessionStorage.getItem("entryPoint")),this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(e){e.data.currentValue&&(this.list=e.data.currentValue),e.totalCount.currentValue&&(this.paginationConfig.totalItems=e.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=e.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=e.totalCount.currentValue.currentPage,this.count=e.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&organization_id=${this.orgId}&pagination=TRUE`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((i,r)=>{i.TODAY_APPROVAL_TIMESHEET&&(this.accessConfig=i.TODAY_APPROVAL_TIMESHEET)})})}delete(e){this._timeSheetService.deleteTodaysApproval(e.id,{module:"TIMESHEET",menu:"TODAY_APPROVAL_TIMESHEET",method:"DELETE",user_id:this.user_id}).subscribe(i=>{this.api.showWarning("Approved TimeSheet Deleted Successfully!")},i=>{})}open(e){if(e){const n=this.modalService.open(b.D,{size:"sm",backdrop:!0,centered:!0});n.componentInstance.status.subscribe(i=>{"ok"==i&&this.delete(e),n.close()})}}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(e){this.page=e,this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}openDialogue(e,n){if(e){const i="APPROVED"===n?"approve":"decline",r="APPROVED"===n?"Approve":"Decline",c=this.modalService.open(b.D,{size:"sm",backdrop:!0,centered:!0});c.componentInstance.title=`Are you sure do you want to ${i}`,c.componentInstance.message=`${r} confirmation`,c.componentInstance.status.subscribe(l=>{"ok"==l&&this.updateStatus(e,n),c.close()})}}updateStatus(e,n){let i="DECLINED"===n?"REJECT":"ACCEPT",r=sessionStorage.getItem("manager_id");this._timeSheetService.updateStatus({time_sheet_ids:null,time_sheet_id:e,status_name:n,reporting_manager_ref:r,module:"TIMESHEET",menu:"TODAY_APPROVAL_TIMESHEET",method:i,user_id:this.user_id}).subscribe(l=>{l&&(this.api.showSuccess(`Timesheet ${"DECLINED"===n?"declined":"approved"} successfully`),this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize}))})}getContinuousIndex(e){return(this.page-1)*this.tableSize+e+1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.O),t.Y36(u.r),t.Y36(_.FF),t.Y36(t.sBO),t.Y36(h.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-approved"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[t.TTD],decls:45,vars:6,consts:[[1,"container-fluid","webView"],[1,"row","row","mx-0","my-2"],[1,"col-md-7","col-lg-4","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","p-2","sizeinput",3,"ngModel","ngModelChange"],["id","search-icon-tab",1,"bi","bi-search",3,"click"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col","px-0"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],[4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","py-3","px-4",3,"ngModel","ngModelChange"],["id","search-icon",1,"bi","bi-search",3,"click"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[1,"text-center"],[1,"nodata"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],[1,"card"],[1,"row","mobile-pagination"],[1,"mobile-pagination-content"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(4,"i",4),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()(),t._UZ(5,"div",5),t.TgZ(6,"div",6)(7,"div",7),t.YNc(8,Je,2,5,"button",8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"table",12)(13,"thead")(14,"tr")(15,"th",13),t._uU(16,"S.No"),t.qZA(),t.TgZ(17,"th",14),t._uU(18,"Date "),t.qZA(),t.TgZ(19,"th",14),t._uU(20,"Employee"),t.qZA(),t.TgZ(21,"th",14),t._uU(22,"Time Sheet Id"),t.qZA(),t.TgZ(23,"th",14),t._uU(24,"Time"),t.qZA(),t.TgZ(25,"th",14),t._uU(26,"Approved On"),t.qZA(),t.TgZ(27,"th",14),t._uU(28,"Approved By"),t.qZA(),t.TgZ(29,"th",14),t._uU(30,"Status"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,Fe,4,5,"ng-container",15),t.qZA()()()()(),t.TgZ(33,"div",10)(34,"div",16)(35,"div",17)(36,"pagination-controls",18),t.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),t.qZA()()()()(),t.TgZ(37,"div",19)(38,"div",20)(39,"div",21)(40,"input",22),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(41,"i",23),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()()(),t.TgZ(42,"div",24),t.YNc(43,Re,4,5,"ng-container",15),t.qZA(),t.YNc(44,He,6,1,"div",25),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngModel",n.term),t.xp6(5),t.Q6J("ngForOf",n.tableSizes),t.xp6(24),t.Q6J("ngIf",n.list),t.xp6(8),t.Q6J("ngModel",n.term),t.xp6(3),t.Q6J("ngIf",n.list),t.xp6(1),t.Q6J("ngIf",0!==n.list.length))},dependencies:[s.mk,s.sg,s.O5,p.Fj,p.JJ,p.On,g.LS,s.rS,s.uU,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}@media (max-width: 768px){.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:10px;border-radius:5px;margin:0}select[_ngcontent-%COMP%]{width:100%!important;margin:5px 0!important}}@media (min-width: 769px){.bg[_ngcontent-%COMP%]{background-color:#fff;height:52vh!important;width:100%!important;padding:10px;border-radius:5px;margin:0}}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%;height:40px;margin:0 1px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #13FF2B;padding:10px 0;zoom:90%;background:#F3FFF5;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const w=function(o){return{"active-size":o}};function je(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,w,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function Be(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",29),t._uU(7),t.qZA(),t.TgZ(8,"td",29),t._uU(9),t.qZA(),t.TgZ(10,"td",29),t._uU(11),t.qZA(),t.TgZ(12,"td",29),t._uU(13),t.qZA(),t.TgZ(14,"td",29),t._uU(15),t.qZA(),t.TgZ(16,"td",29),t._uU(17),t.qZA(),t._UZ(18,"td"),t.qZA()),2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.getContinuousIndex(n)),t.xp6(2),t.Oqu(t.xi3(5,8,e.created_date_time,"mediumDate")),t.xp6(3),t.Oqu(e.created_by_first_name?e.created_by_first_name:"NA"),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.time_spent),t.xp6(2),t.Oqu(e.approved_date?e.approved_date:"NA"),t.xp6(2),t.Oqu(e.approved_by_first_name?e.approved_by_first_name:"NA"),t.xp6(2),t.Oqu(e.approved_state?e.approved_state:"NA")}}function Ge(o,a){1&o&&(t.TgZ(0,"tr",30)(1,"td"),t._uU(2," No records found!"),t.qZA()())}function Ke(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Be,19,11,"tr",27),t.ALo(2,"paginate"),t.YNc(3,Ge,3,0,"tr",28),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function We(o,a){if(1&o&&(t.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36)(4,"div",10)(5,"div",37)(6,"h6",38),t._uU(7,"Status"),t.qZA()()(),t.TgZ(8,"div",10)(9,"div",39),t._uU(10),t.qZA()()(),t._UZ(11,"div",40),t.qZA(),t.TgZ(12,"div",41)(13,"div",42)(14,"div",10)(15,"div",43)(16,"div",10)(17,"div",37)(18,"h6",38),t._uU(19,"Created Date"),t.qZA()()(),t.TgZ(20,"div",10)(21,"div",44),t._uU(22),t.ALo(23,"date"),t.qZA()()(),t.TgZ(24,"div",43)(25,"div",10)(26,"div",37)(27,"h6",38),t._uU(28,"Employee"),t.qZA()()(),t.TgZ(29,"div",10)(30,"div",44),t._uU(31),t.ALo(32,"titlecase"),t.qZA()()()(),t.TgZ(33,"div",10)(34,"div",43)(35,"div",10)(36,"div",37)(37,"h6",38),t._uU(38,"Timesheet Id"),t.qZA()()(),t.TgZ(39,"div",10)(40,"div",44),t._uU(41),t.ALo(42,"titlecase"),t.qZA()()(),t.TgZ(43,"div",43)(44,"div",10)(45,"div",37)(46,"h6",38),t._uU(47,"Time"),t.qZA()()(),t.TgZ(48,"div",10)(49,"div",44),t._uU(50),t.ALo(51,"titlecase"),t.qZA()()()(),t.TgZ(52,"div",10)(53,"div",43)(54,"div",10)(55,"div",37)(56,"h6",38),t._uU(57,"Approved Date"),t.qZA()()(),t.TgZ(58,"div",10)(59,"div",44),t._uU(60),t.ALo(61,"date"),t.qZA()()(),t.TgZ(62,"div",43)(63,"div",10)(64,"div",37)(65,"h6",38),t._uU(66,"Rejected By"),t.qZA()()(),t.TgZ(67,"div",10)(68,"div",44),t._uU(69),t.ALo(70,"titlecase"),t.qZA()()()()()()()()),2&o){const e=a.$implicit;t.xp6(10),t.hij(" ",e.approved_state?e.approved_state:"Yet to Approve"," "),t.xp6(12),t.hij(" ",t.xi3(23,7,e.created_date_time,"mediumDate")," "),t.xp6(9),t.hij(" ",e.created_by_first_name?e.created_by_first_name:t.lcZ(32,10,"NA")," "),t.xp6(10),t.hij(" ",e.id?e.id:t.lcZ(42,12,"NA")," "),t.xp6(9),t.hij(" ",t.lcZ(51,14,e.time_spent)," "),t.xp6(10),t.hij(" ",t.xi3(61,16,e.approved_date_time,"mediumDate")," "),t.xp6(9),t.hij(" ",e.approved_by_first_name?e.approved_by_first_name:t.lcZ(70,19,"NA")," ")}}function Xe(o,a){1&o&&(t.TgZ(0,"div",37)(1,"div",45)(2,"div",42)(3,"p"),t._uU(4,"No records found !"),t.qZA()()()())}function tn(o,a){if(1&o&&(t.ynx(0),t.YNc(1,We,71,21,"div",31),t.ALo(2,"paginate"),t.YNc(3,Xe,5,0,"div",32),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function en(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,w,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function nn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",46)(1,"div",16)(2,"div",47)(3,"pagination-controls",18),t.NdJ("pageChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(i))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,en,2,5,"button",8),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}let on=(()=>{class o{constructor(e,n,i,r,c){this.api=e,this._timeSheetService=n,this.modalService=i,this.cdref=r,this.common_service=c,this.buttonClick=new t.vpe,this.filter=new t.vpe,this.term="",this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.declinedAll=[],this.accessConfig=[],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.entryPoint=JSON.parse(sessionStorage.getItem("entryPoint")),this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(e){e.data.currentValue&&(this.declinedAll=e.data.currentValue),e.totalCount.currentValue&&(this.paginationConfig.totalItems=e.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=e.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=e.totalCount.currentValue.currentPage,this.count=e.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&organization_id=${this.orgId}&pagination=TRUE`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((i,r)=>{i.TODAY_APPROVAL_TIMESHEET&&(this.accessConfig=i.TODAY_APPROVAL_TIMESHEET)})})}delete(e){this._timeSheetService.deleteTodaysApproval(e.id,{module:"LEAVE/HOLIDAY_LIST",menu:"TODAY_APPROVAL_TIMESHEET",method:"DELETE",user_id:this.user_id}).subscribe(i=>{this.api.showWarning("Declined TimeSheet Deleted Successfully")},i=>{})}open(e){if(e){const n=this.modalService.open(b.D,{size:"sm",backdrop:!0,centered:!0});n.componentInstance.status.subscribe(i=>{"ok"==i&&this.delete(e),n.close()})}}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(e){this.page=e,this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}openDialogue(e,n){if(e){const i="APPROVED"===n?"approve":"decline",r="APPROVED"===n?"Approve":"Decline",c=this.modalService.open(b.D,{size:"sm",backdrop:!0,centered:!0});c.componentInstance.title=`Are you sure do you want to ${i}`,c.componentInstance.message=`${r} confirmation`,c.componentInstance.status.subscribe(l=>{"ok"==l&&this.updateStatus(e,n),c.close()})}}updateStatus(e,n){let i="DECLINED"===n?"REJECT":"ACCEPT",r=sessionStorage.getItem("manager_id");this._timeSheetService.updateStatus({time_sheet_ids:null,time_sheet_id:e,status_name:n,reporting_manager_ref:r,module:"TIMESHEET",menu:"TODAY_APPROVAL_TIMESHEET",method:i,user_id:this.user_id}).subscribe(l=>{l&&(this.api.showSuccess(`Timesheet ${"DECLINED"===n?"declined":"approved"} successfully`),this.buttonClick.emit(this.page))})}getContinuousIndex(e){return(this.page-1)*this.tableSize+e+1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.O),t.Y36(u.r),t.Y36(_.FF),t.Y36(t.sBO),t.Y36(h.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-declined"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[t.TTD],decls:45,vars:6,consts:[[1,"container-fluid","webView"],[1,"row","row","mx-0","my-2"],[1,"col-md-7","col-lg-4","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","p-2","sizeinput",3,"ngModel","ngModelChange"],["id","search-icon-tab",1,"bi","bi-search",3,"click"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col","px-0"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],[4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","py-3","px-4",3,"ngModel","ngModelChange"],["id","search-icon",1,"bi","bi-search",3,"click"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[1,"text-center"],[1,"nodata"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],[1,"card"],[1,"row","mobile-pagination"],[1,"mobile-pagination-content"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(4,"i",4),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()(),t._UZ(5,"div",5),t.TgZ(6,"div",6)(7,"div",7),t.YNc(8,je,2,5,"button",8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"table",12)(13,"thead")(14,"tr")(15,"th",13),t._uU(16,"S.No"),t.qZA(),t.TgZ(17,"th",14),t._uU(18,"Date "),t.qZA(),t.TgZ(19,"th",14),t._uU(20,"Employee"),t.qZA(),t.TgZ(21,"th",14),t._uU(22,"Time Sheet Id"),t.qZA(),t.TgZ(23,"th",14),t._uU(24,"Time"),t.qZA(),t.TgZ(25,"th",14),t._uU(26,"Rejected On"),t.qZA(),t.TgZ(27,"th",14),t._uU(28,"Rejected By"),t.qZA(),t.TgZ(29,"th",14),t._uU(30,"Status"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,Ke,4,5,"ng-container",15),t.qZA()()()()(),t.TgZ(33,"div",10)(34,"div",16)(35,"div",17)(36,"pagination-controls",18),t.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),t.qZA()()()()(),t.TgZ(37,"div",19)(38,"div",20)(39,"div",21)(40,"input",22),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(41,"i",23),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()()(),t.TgZ(42,"div",24),t.YNc(43,tn,4,5,"ng-container",15),t.qZA(),t.YNc(44,nn,6,1,"div",25),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngModel",n.term),t.xp6(5),t.Q6J("ngForOf",n.tableSizes),t.xp6(24),t.Q6J("ngIf",n.declinedAll),t.xp6(8),t.Q6J("ngModel",n.term),t.xp6(3),t.Q6J("ngIf",n.declinedAll),t.xp6(1),t.Q6J("ngIf",0!==n.declinedAll.length))},dependencies:[s.mk,s.sg,s.O5,p.Fj,p.JJ,p.On,g.LS,s.rS,s.uU,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}@media (max-width: 768px){.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:10px;border-radius:5px;margin:0}select[_ngcontent-%COMP%]{width:100%!important;margin:5px 0!important}}@media (min-width: 769px){.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:10px;border-radius:5px;margin:0}}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%;height:40px;margin:0 1px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #FF1313;padding:10px 0;zoom:90%;background:#FFF3F3;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const S=function(o){return{"active-size":o}};function an(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,S,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function rn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i))}),t._UZ(2,"i",31),t.qZA()()}}function cn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.openDialogue(i.id,"APPROVED"))}),t._UZ(2,"i",32),t.qZA()()}}function pn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.openDialogue(i.id,"DECLINED"))}),t._UZ(2,"i",33),t.qZA()()}}function sn(o,a){if(1&o&&(t.ynx(0),t.YNc(1,rn,3,0,"span",15),t.YNc(2,cn,3,0,"span",15),t.YNc(3,pn,3,0,"span",15),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","DELETE"==e),t.xp6(1),t.Q6J("ngIf","ACCEPT"==e),t.xp6(1),t.Q6J("ngIf","REJECT"==e)}}function ln(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",29),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td",29),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.TgZ(12,"td",29),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.TgZ(15,"td",29),t._uU(16),t.ALo(17,"titlecase"),t.qZA(),t.TgZ(18,"td",29),t.YNc(19,sn,4,3,"ng-container",27),t.qZA()()),2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.getContinuousIndex(n)),t.xp6(2),t.Oqu(t.xi3(5,7,e.created_date_time,"mediumDate")),t.xp6(3),t.Oqu(e.created_by_first_name?e.created_by_first_name:t.lcZ(8,10,"NA")),t.xp6(3),t.Oqu(e.id?e.id:t.lcZ(11,12,"NA")),t.xp6(3),t.Oqu(t.lcZ(14,14,e.time_spent)),t.xp6(3),t.Oqu(e.approved_state?e.approved_state:t.lcZ(17,16,"NA")),t.xp6(3),t.Q6J("ngForOf",i.accessConfig)}}function dn(o,a){1&o&&(t.TgZ(0,"tr",34)(1,"td"),t._uU(2," No records found!"),t.qZA()())}function _n(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ln,20,18,"tr",27),t.ALo(2,"paginate"),t.YNc(3,dn,3,0,"tr",28),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function gn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",50)(1,"button",51),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i))}),t._UZ(2,"i",52),t.qZA()()}}function un(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",50)(1,"button",51),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.openDialogue(i.id,"APPROVED"))}),t._UZ(2,"i",32),t.qZA()()}}function mn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",50)(1,"button",51),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.openDialogue(i.id,"DECLINED"))}),t._UZ(2,"i",33),t.qZA()()}}function hn(o,a){if(1&o&&(t.ynx(0),t.YNc(1,gn,3,0,"span",49),t.YNc(2,un,3,0,"span",49),t.YNc(3,mn,3,0,"span",49),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","DELETE"==e),t.xp6(1),t.Q6J("ngIf","ACCEPT"==e),t.xp6(1),t.Q6J("ngIf","REJECT"==e)}}function fn(o,a){if(1&o&&(t.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"div",10)(5,"div",41)(6,"h6",42),t._uU(7,"Status"),t.qZA()()(),t.TgZ(8,"div",10)(9,"div",43),t._uU(10),t.ALo(11,"titlecase"),t.qZA()()(),t.TgZ(12,"div",44),t.YNc(13,hn,4,3,"ng-container",27),t.qZA()(),t.TgZ(14,"div",45)(15,"div",46)(16,"div",10)(17,"div",47)(18,"div",10)(19,"div",41)(20,"h6",42),t._uU(21,"Created Date"),t.qZA()()(),t.TgZ(22,"div",10)(23,"div",48),t._uU(24),t.ALo(25,"date"),t.qZA()()(),t.TgZ(26,"div",47)(27,"div",10)(28,"div",41)(29,"h6",42),t._uU(30,"Employee"),t.qZA()()(),t.TgZ(31,"div",10)(32,"div",48),t._uU(33),t.ALo(34,"titlecase"),t.qZA()()()(),t.TgZ(35,"div",10)(36,"div",47)(37,"div",10)(38,"div",41)(39,"h6",42),t._uU(40,"Timesheet Id"),t.qZA()()(),t.TgZ(41,"div",10)(42,"div",48),t._uU(43),t.ALo(44,"titlecase"),t.qZA()()(),t.TgZ(45,"div",47)(46,"div",10)(47,"div",41)(48,"h6",42),t._uU(49,"Time"),t.qZA()()(),t.TgZ(50,"div",10)(51,"div",48),t._uU(52),t.ALo(53,"titlecase"),t.qZA()()()()()()()()),2&o){const e=a.$implicit,n=t.oxw(2);t.xp6(10),t.hij(" ",e.approved_state?e.approved_state:t.lcZ(11,6,"Yet to Approve")," "),t.xp6(3),t.Q6J("ngForOf",n.accessConfig),t.xp6(11),t.hij(" ",t.xi3(25,8,e.created_date_time,"mediumDate")," "),t.xp6(9),t.hij(" ",e.created_by_first_name?e.created_by_first_name:t.lcZ(34,11,"NA")," "),t.xp6(10),t.hij(" ",e.id?e.id:t.lcZ(44,13,"NA")," "),t.xp6(9),t.hij(" ",t.lcZ(53,15,e.time_spent)," ")}}function bn(o,a){1&o&&(t.TgZ(0,"div",41)(1,"div",53)(2,"div",46)(3,"p"),t._uU(4,"No records found !"),t.qZA()()()())}function vn(o,a){if(1&o&&(t.ynx(0),t.YNc(1,fn,54,17,"div",35),t.ALo(2,"paginate"),t.YNc(3,bn,5,0,"div",36),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function xn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,S,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function Cn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",54)(1,"div",16)(2,"div",55)(3,"pagination-controls",18),t.NdJ("pageChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(i))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,xn,2,5,"button",8),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}let Tn=(()=>{class o{constructor(e,n,i,r,c,l){this.api=e,this._timeSheetService=n,this.modalService=i,this._timesheet=r,this.cdref=c,this.common_service=l,this.buttonClick=new t.vpe,this.filter=new t.vpe,this.term="",this.yetToApproveAll=[],this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.accessConfig=[],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=JSON.parse(sessionStorage.getItem("user_id")),this.orgId=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(e){e.data.currentValue&&(this.yetToApproveAll=e.data.currentValue),e.totalCount.currentValue&&(this.paginationConfig.totalItems=e.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=e.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=e.totalCount.currentValue.currentPage,this.count=e.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&organization_id=${this.orgId}&pagination=TRUE`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((i,r)=>{i.TODAY_APPROVAL_TIMESHEET&&(this.accessConfig=i.TODAY_APPROVAL_TIMESHEET)})})}delete(e){this._timeSheetService.deleteTodaysApproval(e.id,{module:"TIMESHEET",menu:"TODAY_APPROVAL_TIMESHEET",method:"DELETE",user_id:this.user_id}).subscribe(i=>{this.api.showWarning("Deleted successfully"),this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})},i=>{})}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(e){this.page=e,this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}open(e){if(e){const n=this.modalService.open(b.D,{size:"sm",backdrop:!0,centered:!0});n.componentInstance.status.subscribe(i=>{"ok"==i&&this.delete(e),n.close()})}}openDialogue(e,n){if(e){const i="APPROVED"===n?"approve":"decline",r="APPROVED"===n?"Approve":"Decline",c=this.modalService.open(b.D,{size:"sm",backdrop:!0,centered:!0});c.componentInstance.title=`Are you sure do you want to ${i}`,c.componentInstance.message=`${r} confirmation`,c.componentInstance.status.subscribe(l=>{"ok"==l&&this.updateStatus(e,n),c.close()})}}updateStatus(e,n){this._timesheet.updateStatus({user_id:this.user_id,update:"TRUE",approved_by_manager_id:this.user_id,module:"TIMESHEET",menu:"TODAY_APPROVAL_TIMESHEET",method:"DECLINED"===n?"REJECT":"ACCEPT",time_sheet_id_list:[],time_sheet_id:e,approved_state:n}).subscribe(c=>{c&&(this.api.showSuccess(`Timesheet ${"DECLINED"===n?"declined":"approved"} successfully`),this.buttonClick.emit({search_key:this.term,page:this.page,tableSize:this.tableSize}))})}getContinuousIndex(e){return console.log((this.page-1)*this.tableSize+e+1),(this.page-1)*this.tableSize+e+1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.O),t.Y36(u.r),t.Y36(_.FF),t.Y36(u.r),t.Y36(t.sBO),t.Y36(h.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-yet-approve"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[t.TTD],decls:43,vars:6,consts:[[1,"container-fluid","webView"],[1,"row","row","mx-0","my-2"],[1,"col-md-7","col-lg-4","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","p-2","sizeinput",3,"ngModel","ngModelChange"],["id","search-icon-tab",1,"bi","bi-search",3,"click"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col","px-0"],[1,"table","table-hover"],["scope","col"],["scope","col",1,"text-center"],[4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],["type","text","placeholder","Search","aria-describedby","emailHelp","autocomplete","off",1,"form-control","py-3","px-4",3,"ngModel","ngModelChange"],["id","search-icon",1,"bi","bi-search",3,"click"],[1,"bg","row","mx-0","my-1","mx-1","my-2"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[1,"text-center"],[2,"border","none","background-color","inherit",3,"click"],["container","body","ngbTooltip","Delete",1,"fas","fa-trash-alt",2,"color","red"],["container","body","ngbTooltip","Approve",1,"bi","bi-check-circle",2,"color","green"],["container","body","ngbTooltip","Reject",1,"bi","bi-x-circle",2,"color","red"],[1,"nodata"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],["style","float: right;",4,"ngIf"],[2,"float","right"],["type","button",1,"toolbar-btn",3,"click"],[1,"bi","bi-trash",2,"color","red","font-size","24px"],[1,"card"],[1,"row","mobile-pagination"],[1,"mobile-pagination-content"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(4,"i",4),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()(),t._UZ(5,"div",5),t.TgZ(6,"div",6)(7,"div",7),t.YNc(8,an,2,5,"button",8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"table",12)(13,"thead")(14,"tr")(15,"th",13),t._uU(16,"S.No"),t.qZA(),t.TgZ(17,"th",14),t._uU(18,"Created Date "),t.qZA(),t.TgZ(19,"th",14),t._uU(20,"Employee"),t.qZA(),t.TgZ(21,"th",14),t._uU(22,"Time Sheet Id"),t.qZA(),t.TgZ(23,"th",14),t._uU(24,"Time"),t.qZA(),t.TgZ(25,"th",14),t._uU(26,"Status"),t.qZA(),t.TgZ(27,"th",14),t._uU(28,"Action"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,_n,4,5,"ng-container",15),t.qZA()()()()(),t.TgZ(31,"div",10)(32,"div",16)(33,"div",17)(34,"pagination-controls",18),t.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),t.qZA()()()()(),t.TgZ(35,"div",19)(36,"div",20)(37,"div",21)(38,"input",22),t.NdJ("ngModelChange",function(r){return n.term=r}),t.qZA(),t.TgZ(39,"i",23),t.NdJ("click",function(){return n.filterSearch()}),t.qZA()()(),t.TgZ(40,"div",24),t.YNc(41,vn,4,5,"ng-container",15),t.qZA(),t.YNc(42,Cn,6,1,"div",25),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngModel",n.term),t.xp6(5),t.Q6J("ngForOf",n.tableSizes),t.xp6(22),t.Q6J("ngIf",n.yetToApproveAll),t.xp6(8),t.Q6J("ngModel",n.term),t.xp6(3),t.Q6J("ngIf",n.yetToApproveAll),t.xp6(1),t.Q6J("ngIf",0!==n.yetToApproveAll.length))},dependencies:[s.mk,s.sg,s.O5,p.Fj,p.JJ,p.On,g.LS,_._L,s.rS,s.uU,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}@media (max-width: 768px){.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:10px;border-radius:5px;margin:0}select[_ngcontent-%COMP%]{width:100%!important;margin:5px 0!important}}@media (min-width: 769px){.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:10px;border-radius:5px;margin:0}}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%;height:40px;margin:0 1px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #FFAF13;padding:10px 0;zoom:90%;background:#FFFCF3;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();function An(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-yet-approve",12),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function Zn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-approved",12),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function Mn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-declined",12),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function On(o,a){1&o&&(t.TgZ(0,"div",13),t._uU(1,"No records found "),t.qZA())}function Pn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-yet-approve",14),t.NdJ("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function yn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-approved",14),t.NdJ("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function En(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-declined",14),t.NdJ("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.allDetails)("totalCount",e.totalCount)}}function kn(o,a){1&o&&(t.TgZ(0,"div",13),t._uU(1,"No records found "),t.qZA())}const qn=[{path:"",component:K,children:[{path:"todayApproval",component:(()=>{class o{constructor(e,n,i,r,c){this.timesheetService=e,this.location=n,this.common_service=i,this.cdr=r,this.api=c,this.BreadCrumbsTitle="Todays approval",this.allDetails=[],this.changes=!1}goBack(e){e.preventDefault(),this.location.back()}ngOnInit(){this.common_service.setTitle(this.BreadCrumbsTitle);let e=new Date;this.user_id=JSON.parse(sessionStorage.getItem("user_id")),this.orgId=sessionStorage.getItem("org_id"),this.currDate=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2),this.getApprovals({user_id:this.user_id,page_number:1,data_per_page:10,status:"YET_TO_APPROVED",organization_id:this.orgId,search_key:""})}getApprovals(e){this.timesheetService.getTodaysApprovalTimesheet(e).subscribe(n=>{n.result.data.length>=1?(this.allDetails=n.result.data,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10}):this.api.showWarning("No records found !")})}buttonClick(e){e&&(this.cdr.detectChanges(),this.getApprovals({user_id:this.user_id,page_number:e.page,data_per_page:e.tableSize,status:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",organization_id:this.orgId,search_key:e.search_key}))}searchFiter(e){e&&(this.cdr.detectChanges(),this.getApprovals({user_id:this.user_id,page_number:e.page,data_per_page:e.tableSize,status:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",organization_id:this.orgId,search_key:e.search_key}))}tabState(e){this.selectedTab="Approved timesheet"==e.heading?"APPROVED":"Yet to be approved"==e.heading?"YET_TO_APPROVED":"Declined timesheet"==e.heading?"DECLINED":"Time sheets"==e.heading?"TIMESHEET":"YET_TO_APPROVED",this.getApprovals({user_id:this.user_id,page_number:1,data_per_page:10,status:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",organization_id:this.orgId,search_key:""})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.r),t.Y36(s.Ye),t.Y36(h.R),t.Y36(t.sBO),t.Y36(m.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-todays-approval"]],decls:26,vars:8,consts:[[1,"container-fluid","webView"],[1,"container-middle"],[1,"row"],[1,"col-sm-12"],["heading","Yet to approved",3,"selectTab"],[3,"data","totalCount","filter","buttonClick",4,"ngIf"],["heading","Approved timesheet",3,"selectTab"],["heading","Declined timesheet",3,"selectTab"],["class","text-center text-muted no-data py-2",4,"ngIf"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[3,"data","totalCount","buttonClick",4,"ngIf"],[3,"data","totalCount","filter","buttonClick"],[1,"text-center","text-muted","no-data","py-2"],[3,"data","totalCount","buttonClick"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"tabset")(5,"tab",4),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(6,An,1,2,"app-yet-approve",5),t.qZA(),t.TgZ(7,"tab",6),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(8,Zn,1,2,"app-approved",5),t.qZA(),t.TgZ(9,"tab",7),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(10,Mn,1,2,"app-declined",5),t.qZA(),t.YNc(11,On,2,0,"div",8),t.qZA()()()()(),t.TgZ(12,"div",9)(13,"div",10),t._UZ(14,"div",3),t.qZA(),t.TgZ(15,"div",1)(16,"div",2)(17,"div",3)(18,"tabset")(19,"tab",4),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(20,Pn,1,2,"app-yet-approve",11),t.qZA(),t.TgZ(21,"tab",6),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(22,yn,1,2,"app-approved",11),t.qZA(),t.TgZ(23,"tab",7),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(24,En,1,2,"app-declined",11),t.qZA(),t.YNc(25,kn,2,0,"div",8),t.qZA()()()()()),2&e&&(t.xp6(6),t.Q6J("ngIf","YET_TO_APPROVED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(2),t.Q6J("ngIf","APPROVED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(2),t.Q6J("ngIf","DECLINED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(1),t.Q6J("ngIf",0===n.allDetails.length),t.xp6(9),t.Q6J("ngIf","YET_TO_APPROVED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(2),t.Q6J("ngIf","APPROVED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(2),t.Q6J("ngIf","DECLINED"===(null==n.allDetails[0]?null:n.allDetails[0].approved_state)),t.xp6(1),t.Q6J("ngIf",0===n.allDetails.length))},dependencies:[s.O5,v.wW,v.AH,$e,on,Tn],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%;padding:20px;border-radius:5px;overflow-x:auto!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%;height:30px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.no-data[_ngcontent-%COMP%]{font-style:italic;font-size:small;font-weight:500}.container-middle[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden;background:#f8f8f8;padding-bottom:7rem!important}@media (max-width: 767px){.custom-scroll[_ngcontent-%COMP%]{height:60vh;overflow:scroll;overflow-x:hidden;padding:0}.s-padd[_ngcontent-%COMP%]{padding:0!important}.date-label[_ngcontent-%COMP%]{margin:10px 0!important}}@media (max-width: 1023px){.p-20[_ngcontent-%COMP%]{padding:5px 5px 0!important}}@media (min-width: 1024px){.p-20[_ngcontent-%COMP%]{padding:14px 12px 0!important}}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})()},{path:"deadlineCrossed",component:Ot},{path:"monthTimesheet",component:Ue},{path:"approvalConfiguration",component:G}]}];let wn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[C.Bz.forChild(qn),C.Bz]}),o})();const Sn=[];let Dn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[C.Bz.forChild(Sn),C.Bz]}),o})(),Nn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,v.P4.forRoot(),Dn,p.UX,p.u5]}),o})();var In=d(529),Un=d(7185),Jn=d(3189),zn=d(2930),Yn=d(101);let Fn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,wn,v.P4.forRoot(),Nn,In.JF,p.UX,p.u5,Un.Rh.forRoot(),Jn.h,g.JX,zn.QW,A.si,_.HK,_.XC,Yn.m]}),o})()}}]);