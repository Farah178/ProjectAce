"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[934],{3934:(Rt,A,d)=>{d.r(A),d.d(A,{AppliedApprovedLeavesModule:()=>Jt});var l=d(6895),x=d(9299),c=d(4006),v=d(2340),t=d(4650),h=d(4165),f=d(1693),b=d(9079),C=d(1377),u=d(3640),_=d(8304),g=d(8567);const T=function(o){return{"active-size":o}};function D(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,T,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function L(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i))}),t._UZ(2,"i",26),t.qZA()()}}function E(o,a){if(1&o&&(t.ynx(0),t.YNc(1,L,3,0,"span",14),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","DELETE"==e)}}function q(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",24),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",24),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"td",24),t._uU(11),t.qZA(),t.TgZ(12,"td",24),t._uU(13),t.qZA(),t.TgZ(14,"td",24),t._uU(15),t.qZA(),t.TgZ(16,"td",24),t._uU(17),t.ALo(18,"titlecase"),t.qZA(),t.TgZ(19,"td",24),t.YNc(20,E,2,1,"ng-container",22),t.qZA()()),2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.getContinuousIndex(n)),t.xp6(2),t.Oqu(e.your_applied_leave_from_date),t.xp6(2),t.Oqu(e.your_applied_leave_to_date),t.xp6(2),t.Oqu(t.lcZ(9,9,e.applied_days)),t.xp6(3),t.Oqu(e.alloted_leaves),t.xp6(2),t.Oqu(e.used_leaves),t.xp6(2),t.Oqu(e.applied_date),t.xp6(2),t.Oqu(t.lcZ(18,11,e.status)),t.xp6(3),t.Q6J("ngForOf",i.accessConfig)}}function y(o,a){1&o&&(t.TgZ(0,"tr",27)(1,"td"),t._uU(2," No records found !"),t.qZA()())}function M(o,a){if(1&o&&(t.ynx(0),t.YNc(1,q,21,13,"tr",22),t.ALo(2,"paginate"),t.YNc(3,y,3,0,"tr",23),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function k(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",43)(1,"button",44),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i))}),t._UZ(2,"i",45),t.qZA()()}}function I(o,a){if(1&o&&(t.ynx(0),t.YNc(1,k,3,0,"span",42),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","DELETE"==e)}}function w(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",8)(5,"div",34)(6,"h6",35),t._uU(7,"Status"),t.qZA()()(),t.TgZ(8,"div",8)(9,"div",36),t._uU(10),t.ALo(11,"titlecase"),t.qZA()()(),t.TgZ(12,"div",37),t.YNc(13,I,2,1,"ng-container",22),t.qZA()(),t.TgZ(14,"div",38)(15,"div",39)(16,"div",8)(17,"div",40)(18,"div",8)(19,"div",34)(20,"h6",35),t._uU(21,"From date"),t.qZA()()(),t.TgZ(22,"div",8)(23,"div",41),t._uU(24),t.qZA()()(),t.TgZ(25,"div",40)(26,"div",8)(27,"div",34)(28,"h6",35),t._uU(29,"To date"),t.qZA()()(),t.TgZ(30,"div",8)(31,"div",41),t._uU(32),t.qZA()()()(),t.TgZ(33,"div",8)(34,"div",40)(35,"div",8)(36,"div",34)(37,"h6",35),t._uU(38,"Applied Days"),t.qZA()()(),t.TgZ(39,"div",8)(40,"div",41),t._uU(41),t.ALo(42,"titlecase"),t.qZA()()(),t.TgZ(43,"div",40)(44,"div",8)(45,"div",34)(46,"h6",35),t._uU(47,"Alloted Days"),t.qZA()()(),t.TgZ(48,"div",8)(49,"div",41),t._uU(50),t.qZA()()()(),t.TgZ(51,"div",8)(52,"div",40)(53,"div",8)(54,"div",34)(55,"h6",35),t._uU(56,"Used Leaves"),t.qZA()()(),t.TgZ(57,"div",8)(58,"div",41),t._uU(59),t.qZA()()(),t.TgZ(60,"div",40)(61,"div",8)(62,"div",34)(63,"h6",35),t._uU(64,"Applied Date"),t.qZA()()(),t.TgZ(65,"div",8)(66,"div",41),t._uU(67),t.qZA()()()()()()()()),2&o){const e=a.$implicit,n=t.oxw(2);t.xp6(10),t.hij(" ",e.approved_state?e.approved_state:t.lcZ(11,8,"Yet to Approve")," "),t.xp6(3),t.Q6J("ngForOf",n.accessConfig),t.xp6(11),t.hij(" ",e.your_applied_leave_from_date," "),t.xp6(8),t.hij(" ",e.your_applied_leave_to_date," "),t.xp6(9),t.hij(" ",t.lcZ(42,10,e.applied_days)," "),t.xp6(9),t.hij(" ",e.alloted_leaves," "),t.xp6(9),t.hij(" ",e.used_leaves," "),t.xp6(8),t.hij(" ",e.applied_date," ")}}function U(o,a){1&o&&(t.TgZ(0,"div",34)(1,"div",46)(2,"div",39)(3,"p"),t._uU(4,"No records found"),t.qZA()()()())}function S(o,a){if(1&o&&(t.ynx(0),t.YNc(1,w,68,12,"div",28),t.ALo(2,"paginate"),t.YNc(3,U,5,0,"div",29),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function z(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,T,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function N(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",47)(1,"div",15)(2,"div",48)(3,"pagination-controls",17),t.NdJ("pageChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(i))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,z,2,5,"button",6),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}let Y=(()=>{class o{constructor(e,n,i,r,p,s){this.builder=e,this.api=n,this.modalService=i,this.cdr=r,this.common_service=p,this.cdref=s,this.buttonClick=new t.vpe,this.filter=new t.vpe,this.list=[],this.term="",this.page=1,this.tableSize=10,this.tableSizes=[10,25,50,100],this.count=0,this.permissions=[],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(e){e.data.currentValue&&(this.data=e.data.currentValue),e.totalCount.currentValue&&(this.paginationConfig.totalItems=e.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=e.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=e.totalCount.currentValue.currentPage,this.count=e.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&pagination=TRUE&organization_id=${this.orgId}`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((i,r)=>{i["APPLIED/APPROVIED_LEAVES"]&&(this.accessConfig=i["APPLIED/APPROVIED_LEAVES"])})})}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(e){this.page=e,this.buttonClick.emit({page:e,tableSize:this.tableSize,search_key:this.term})}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})}delete(e){this.api.deletePeopleLeaves(e.id,{module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"DELETE",user_id:this.user_id}).subscribe(i=>{this.api.showWarning("Yet to approve leave deleted successfully!"),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})},i=>{this.api.showError(i.error.error.message)})}open(e){if(e){const n=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});n.componentInstance.status.subscribe(i=>{"ok"==i&&this.delete(e),n.close()})}}openDialogue(e,n){if(e){const i="DECLINED"===n?"decline":"approve",r="APPROVED"===n?"Approve":"Decline",p=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});p.componentInstance.title=`Are you sure do you want to ${i}`,p.componentInstance.message=`${r} confirmation`,p.componentInstance.status.subscribe(s=>{"ok"==s&&this.updateStatus(e,n),p.close()})}}updateStatus(e,n){this.user_id=JSON.parse(sessionStorage.getItem("user_id"));let i=new Date,r=("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear();this.api.leaveApplicationState({user_id:this.user_id,module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"APPROVED"===n?"APPROVE":"REJECT",id:e,approved_state:n,approved_by_id:this.user_id,approved_date:r}).subscribe(O=>{this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})})}getContinuousIndex(e){return(this.page-1)*this.tableSize+e+1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(h.O),t.Y36(_.FF),t.Y36(t.sBO),t.Y36(f.R),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-yet-to-approve"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[t.TTD],decls:41,vars:4,consts:[[1,"container-fluid","webView","pt-2"],[1,"row","p-20"],[1,"col-sm-4","search-div","px-0"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],["id","i-cr"],[4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[1,"text-center"],[2,"border","none","background-color","inherit",3,"click"],["container","body","ngbTooltip","Delete",1,"fas","fa-trash-alt",2,"color","red"],[1,"nodata"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],["style","float: right;",4,"ngIf"],[2,"float","right"],["type","button",1,"toolbar-btn",3,"click"],[1,"bi","bi-trash",2,"color","red","font-size","24px"],[1,"card"],[1,"row","mobile-pagination"],[1,"mobile-pagination-content"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2)(3,"div",3),t.TgZ(4,"div",4)(5,"div",5),t.YNc(6,D,2,5,"button",6),t.qZA()()(),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"table",10)(11,"thead")(12,"tr")(13,"th",11),t._uU(14,"S.No"),t.qZA(),t.TgZ(15,"th",12),t._uU(16,"From Date"),t.qZA(),t.TgZ(17,"th",12),t._uU(18,"To Date"),t.qZA(),t.TgZ(19,"th",12),t._uU(20,"Applied Days"),t.qZA(),t.TgZ(21,"th",12),t._uU(22,"Alloted Leaves"),t.qZA(),t.TgZ(23,"th",12),t._uU(24,"Used Leaves"),t.qZA(),t.TgZ(25,"th",12),t._uU(26,"Applied Date"),t.qZA(),t.TgZ(27,"th",12),t._uU(28,"Status"),t.qZA(),t.TgZ(29,"th",12),t._uU(30,"Action"),t.qZA()()(),t.TgZ(31,"tbody",13),t.YNc(32,M,4,5,"ng-container",14),t.qZA()()()()(),t.TgZ(33,"div",8)(34,"div",15)(35,"div",16)(36,"pagination-controls",17),t.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),t.qZA()()()()(),t.TgZ(37,"div",18)(38,"div",19),t.YNc(39,S,4,5,"ng-container",14),t.qZA(),t.YNc(40,N,6,1,"div",20),t.qZA()),2&e&&(t.xp6(6),t.Q6J("ngForOf",n.tableSizes),t.xp6(26),t.Q6J("ngIf",n.data),t.xp6(7),t.Q6J("ngIf",n.data),t.xp6(1),t.Q6J("ngIf",0!==n.data.length))},dependencies:[l.mk,l.sg,l.O5,g.LS,_._L,l.rS,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}#search-icon-tab[_ngcontent-%COMP%]{top:10px!important}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:5px;border-radius:5px;margin:0!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:40px;margin-bottom:4px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}#i-cr[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 2px!important;margin:0!important}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #FFAF13;padding:10px 0;zoom:90%;background:#FFFCF3;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const Z=function(o){return{"active-size":o}};function F(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,Z,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function V(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i))}),t._UZ(2,"i",25),t.qZA()()}}function J(o,a){if(1&o&&(t.ynx(0),t.YNc(1,V,3,0,"span",14),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","DELETE"==e)}}function R(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",23),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t._uU(6),t.qZA(),t.TgZ(7,"td",23),t._uU(8),t.qZA(),t.TgZ(9,"td",23),t._uU(10),t.qZA(),t.TgZ(11,"td",23),t._uU(12),t.qZA(),t.TgZ(13,"td",23),t._uU(14),t.ALo(15,"titlecase"),t.qZA(),t.TgZ(16,"td",23),t._uU(17),t.qZA(),t.TgZ(18,"td",23),t._uU(19),t.ALo(20,"titlecase"),t.qZA(),t.TgZ(21,"td",23),t.YNc(22,J,2,1,"ng-container",21),t.qZA()()),2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.getContinuousIndex(n)),t.xp6(2),t.Oqu(e.your_applied_leave_from_date),t.xp6(2),t.Oqu(e.your_applied_leave_to_date),t.xp6(2),t.Oqu(e.applied_days),t.xp6(2),t.Oqu(e.used_leaves),t.xp6(2),t.Oqu(e.applied_date),t.xp6(2),t.Oqu(t.lcZ(15,10,e.approved_by_name)),t.xp6(3),t.Oqu(e.approved_date),t.xp6(2),t.Oqu(t.lcZ(20,12,e.status)),t.xp6(3),t.Q6J("ngForOf",i.accessConfig)}}function Q(o,a){1&o&&(t.TgZ(0,"tr",26)(1,"td"),t._uU(2," No records found!"),t.qZA()())}function $(o,a){if(1&o&&(t.ynx(0),t.YNc(1,R,23,14,"tr",21),t.ALo(2,"paginate"),t.YNc(3,Q,3,0,"tr",22),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function H(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",42)(1,"button",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i))}),t._UZ(2,"i",44),t.qZA()()}}function j(o,a){if(1&o&&(t.ynx(0),t.YNc(1,H,3,0,"span",41),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","DELETE"==e)}}function B(o,a){if(1&o&&(t.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"div",32)(4,"div",8)(5,"div",33)(6,"h6",34),t._uU(7,"Status"),t.qZA()()(),t.TgZ(8,"div",8)(9,"div",35),t._uU(10),t.qZA()()(),t.TgZ(11,"div",36),t.YNc(12,j,2,1,"ng-container",21),t.qZA()(),t.TgZ(13,"div",37)(14,"div",38)(15,"div",8)(16,"div",39)(17,"div",8)(18,"div",33)(19,"h6",34),t._uU(20,"From date"),t.qZA()()(),t.TgZ(21,"div",8)(22,"div",40),t._uU(23),t.qZA()()(),t.TgZ(24,"div",39)(25,"div",8)(26,"div",33)(27,"h6",34),t._uU(28,"To date"),t.qZA()()(),t.TgZ(29,"div",8)(30,"div",40),t._uU(31),t.qZA()()()(),t.TgZ(32,"div",8)(33,"div",39)(34,"div",8)(35,"div",33)(36,"h6",34),t._uU(37,"Applied Days"),t.qZA()()(),t.TgZ(38,"div",8)(39,"div",40),t._uU(40),t.ALo(41,"titlecase"),t.qZA()()(),t.TgZ(42,"div",39)(43,"div",8)(44,"div",33)(45,"h6",34),t._uU(46,"Alloted Days"),t.qZA()()(),t.TgZ(47,"div",8)(48,"div",40),t._uU(49),t.qZA()()()(),t.TgZ(50,"div",8)(51,"div",39)(52,"div",8)(53,"div",33)(54,"h6",34),t._uU(55,"Used Leaves"),t.qZA()()(),t.TgZ(56,"div",8)(57,"div",40),t._uU(58),t.qZA()()(),t.TgZ(59,"div",39)(60,"div",8)(61,"div",33)(62,"h6",34),t._uU(63,"Applied Date"),t.qZA()()(),t.TgZ(64,"div",8)(65,"div",40),t._uU(66),t.qZA()()()(),t.TgZ(67,"div",8)(68,"div",39)(69,"div",8)(70,"div",33)(71,"h6",34),t._uU(72,"Approved By"),t.qZA()()(),t.TgZ(73,"div",8)(74,"div",40),t._uU(75),t.ALo(76,"titlecase"),t.qZA()()(),t.TgZ(77,"div",39)(78,"div",8)(79,"div",33)(80,"h6",34),t._uU(81,"Approved Date"),t.qZA()()(),t.TgZ(82,"div",8)(83,"div",40),t._uU(84),t.qZA()()()()()()()()),2&o){const e=a.$implicit,n=t.oxw(2);t.xp6(10),t.hij(" ",e.status?e.status:"NA"," "),t.xp6(2),t.Q6J("ngForOf",n.accessConfig),t.xp6(11),t.hij(" ",e.your_applied_leave_from_date," "),t.xp6(8),t.hij(" ",e.your_applied_leave_to_date," "),t.xp6(9),t.hij(" ",t.lcZ(41,10,e.applied_days)," "),t.xp6(9),t.hij(" ",e.alloted_leaves," "),t.xp6(9),t.hij(" ",e.used_leaves," "),t.xp6(8),t.hij(" ",e.applied_date," "),t.xp6(9),t.hij(" ",t.lcZ(76,12,e.approved_by_name)," "),t.xp6(9),t.hij(" ",e.approved_date," ")}}function K(o,a){1&o&&(t.TgZ(0,"div",33)(1,"div",45)(2,"div",38)(3,"p"),t._uU(4,"No records found !"),t.qZA()()()())}function G(o,a){if(1&o&&(t.ynx(0),t.YNc(1,B,85,14,"div",27),t.ALo(2,"paginate"),t.YNc(3,K,5,0,"div",28),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function W(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,Z,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function X(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",46)(1,"div",47)(2,"div",48)(3,"pagination-controls",16),t.NdJ("pageChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(i))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,W,2,5,"button",6),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}let tt=(()=>{class o{constructor(e,n,i,r,p){this.builder=e,this.api=n,this.modalService=i,this.common_service=r,this.cdref=p,this.buttonClick=new t.vpe,this.filter=new t.vpe,this.list=[],this.term="",this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(e){e.data.currentValue&&(this.data=e.data.currentValue),e.totalCount.currentValue&&(this.paginationConfig.totalItems=e.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=e.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=e.totalCount.currentValue.currentPage,this.count=e.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&pagination=TRUE&organization_id=${this.orgId}`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((i,r)=>{i["APPLIED/APPROVIED_LEAVES"]&&(this.accessConfig=i["APPLIED/APPROVIED_LEAVES"])})})}delete(e){this.api.deletePeopleLeaves(e.id,{module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"DELETE",user_id:this.user_id}).subscribe(i=>{this.api.showWarning("Approved leave deleted successfully!"),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})},i=>{this.api.showError(i.error.error.message)})}openDialogue(e,n){if(e){const i="APPROVED"===n?"approve":"decline",r="APPROVED"===n?"Approve":"Decline",p=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});p.componentInstance.title=`Are you sure do you want to ${i}`,p.componentInstance.message=`${r} confirmation`,p.componentInstance.status.subscribe(s=>{"ok"==s&&this.updateStatus(e,n),p.close()})}}updateStatus(e,n){this.user_id=JSON.parse(sessionStorage.getItem("user_id"));let i=new Date,r=("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear();this.api.leaveApplicationState({user_id:this.user_id,module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"APPROVED"===n?"APPROVE":"REJECT",id:e,approved_state:n,approved_by_id:this.user_id,approved_date:r}).subscribe(O=>{this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})})}open(e){if(e){const n=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});n.componentInstance.status.subscribe(i=>{"ok"==i&&this.delete(e),n.close()})}}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(e){this.page=e,this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})}getContinuousIndex(e){return(this.page-1)*this.tableSize+e+1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(h.O),t.Y36(_.FF),t.Y36(f.R),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-approved"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[t.TTD],decls:43,vars:4,consts:[[1,"container-fluid","webView","pt-2"],[1,"row","p-20"],[1,"col-sm-4","search-div","px-0"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col"],[1,"table","table-hover"],["scope","col"],["scope","col",1,"text-center"],["id","i-cr"],[4,"ngIf"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[1,"text-center"],[2,"border","none","background-color","inherit",3,"click"],["container","body","ngbTooltip","Delete",1,"fas","fa-trash-alt",2,"color","red"],[1,"nodata"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],["style","float: right;",4,"ngIf"],[2,"float","right"],["type","button",1,"toolbar-btn",3,"click"],[1,"bi","bi-trash",2,"color","red","font-size","24px"],[1,"card"],[1,"row","mobile-pagination"],[1,"col-sm-12"],[1,"mobile-pagination-content"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2)(3,"div",3),t.TgZ(4,"div",4)(5,"div",5),t.YNc(6,F,2,5,"button",6),t.qZA()()(),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"table",10)(11,"thead")(12,"tr")(13,"th",11),t._uU(14,"S.No"),t.qZA(),t.TgZ(15,"th",12),t._uU(16,"From Date"),t.qZA(),t.TgZ(17,"th",12),t._uU(18,"To Date"),t.qZA(),t.TgZ(19,"th",12),t._uU(20,"Applied Days"),t.qZA(),t.TgZ(21,"th",12),t._uU(22,"Used Leaves"),t.qZA(),t.TgZ(23,"th",12),t._uU(24,"Applied Date"),t.qZA(),t.TgZ(25,"th",12),t._uU(26,"Approved By"),t.qZA(),t.TgZ(27,"th",12),t._uU(28,"Approved Date"),t.qZA(),t.TgZ(29,"th",12),t._uU(30,"Status"),t.qZA(),t.TgZ(31,"th",12),t._uU(32,"Action"),t.qZA()()(),t.TgZ(33,"tbody",13),t.YNc(34,$,4,5,"ng-container",14),t.qZA()()()()(),t.TgZ(35,"div",8)(36,"div",3)(37,"div",15)(38,"pagination-controls",16),t.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),t.qZA()()()()(),t.TgZ(39,"div",17)(40,"div",18),t.YNc(41,G,4,5,"ng-container",14),t.qZA(),t.YNc(42,X,6,1,"div",19),t.qZA()),2&e&&(t.xp6(6),t.Q6J("ngForOf",n.tableSizes),t.xp6(28),t.Q6J("ngIf",n.data),t.xp6(7),t.Q6J("ngIf",n.data),t.xp6(1),t.Q6J("ngIf",0!==n.data.length))},dependencies:[l.mk,l.sg,l.O5,g.LS,_._L,l.rS,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}#search-icon-tab[_ngcontent-%COMP%]{top:10px!important}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:5px;border-radius:5px;margin:0!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:40px;margin-bottom:4px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}#i-cr[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 2px!important;margin:0!important}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #13FF2B;padding:10px 0;zoom:90%;background:#F3FFF5;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const P=function(o){return{"active-size":o}};function et(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,P,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function nt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i))}),t._UZ(2,"i",25),t.qZA()()}}function ot(o,a){if(1&o&&(t.ynx(0),t.YNc(1,nt,3,0,"span",14),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","DELETE"==e)}}function it(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",23),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t._uU(6),t.qZA(),t.TgZ(7,"td",23),t._uU(8),t.qZA(),t.TgZ(9,"td",23),t._uU(10),t.qZA(),t.TgZ(11,"td",23),t._uU(12),t.qZA(),t.TgZ(13,"td",23),t._uU(14),t.qZA(),t.TgZ(15,"td",23),t._uU(16),t.qZA(),t.TgZ(17,"td",23),t._uU(18),t.ALo(19,"titlecase"),t.qZA(),t.TgZ(20,"td",23),t.YNc(21,ot,2,1,"ng-container",21),t.qZA()()),2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.getContinuousIndex(n)),t.xp6(2),t.Oqu(e.your_applied_leave_from_date),t.xp6(2),t.Oqu(e.your_applied_leave_to_date),t.xp6(2),t.Oqu(e.applied_days),t.xp6(2),t.Oqu(e.alloted_leaves),t.xp6(2),t.Oqu(e.used_leaves),t.xp6(2),t.Oqu(e.applied_date),t.xp6(2),t.Oqu(e.modified_date),t.xp6(2),t.Oqu(t.lcZ(19,10,e.status)),t.xp6(3),t.Q6J("ngForOf",i.accessConfig)}}function at(o,a){1&o&&(t.TgZ(0,"tr",26)(1,"td"),t._uU(2," No records found !"),t.qZA()())}function rt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,it,22,12,"tr",21),t.ALo(2,"paginate"),t.YNc(3,at,3,0,"tr",22),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function pt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",42)(1,"button",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.open(i))}),t._UZ(2,"i",44),t.qZA()()}}function dt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,pt,3,0,"span",41),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","DELETE"==e)}}function lt(o,a){if(1&o&&(t.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"div",32)(4,"div",8)(5,"div",33)(6,"h6",34),t._uU(7,"Status"),t.qZA()()(),t.TgZ(8,"div",8)(9,"div",35),t._uU(10),t.ALo(11,"titlecase"),t.qZA()()(),t.TgZ(12,"div",36),t.YNc(13,dt,2,1,"ng-container",21),t.qZA()(),t.TgZ(14,"div",37)(15,"div",38)(16,"div",8)(17,"div",39)(18,"div",8)(19,"div",33)(20,"h6",34),t._uU(21,"From date"),t.qZA()()(),t.TgZ(22,"div",8)(23,"div",40),t._uU(24),t.qZA()()(),t.TgZ(25,"div",39)(26,"div",8)(27,"div",33)(28,"h6",34),t._uU(29,"To date"),t.qZA()()(),t.TgZ(30,"div",8)(31,"div",40),t._uU(32),t.qZA()()()(),t.TgZ(33,"div",8)(34,"div",39)(35,"div",8)(36,"div",33)(37,"h6",34),t._uU(38,"Applied Days"),t.qZA()()(),t.TgZ(39,"div",8)(40,"div",40),t._uU(41),t.ALo(42,"titlecase"),t.qZA()()(),t.TgZ(43,"div",39)(44,"div",8)(45,"div",33)(46,"h6",34),t._uU(47,"Alloted Days"),t.qZA()()(),t.TgZ(48,"div",8)(49,"div",40),t._uU(50),t.qZA()()()(),t.TgZ(51,"div",8)(52,"div",39)(53,"div",8)(54,"div",33)(55,"h6",34),t._uU(56,"Used Leaves"),t.qZA()()(),t.TgZ(57,"div",8)(58,"div",40),t._uU(59),t.qZA()()(),t.TgZ(60,"div",39)(61,"div",8)(62,"div",33)(63,"h6",34),t._uU(64,"Applied Date"),t.qZA()()(),t.TgZ(65,"div",8)(66,"div",40),t._uU(67),t.qZA()()()(),t.TgZ(68,"div",8)(69,"div",39)(70,"div",8)(71,"div",33)(72,"h6",34),t._uU(73,"Approved By"),t.qZA()()(),t.TgZ(74,"div",8)(75,"div",40),t._uU(76),t.qZA()()(),t.TgZ(77,"div",39)(78,"div",8)(79,"div",33)(80,"h6",34),t._uU(81,"Rejected Date"),t.qZA()()(),t.TgZ(82,"div",8)(83,"div",40),t._uU(84),t.qZA()()()()()()()()),2&o){const e=a.$implicit,n=t.oxw(2);t.xp6(10),t.hij(" ",e.status?e.status:t.lcZ(11,10,"NA")," "),t.xp6(3),t.Q6J("ngForOf",n.accessConfig),t.xp6(11),t.hij(" ",e.your_applied_leave_from_date," "),t.xp6(8),t.hij(" ",e.your_applied_leave_to_date," "),t.xp6(9),t.hij(" ",t.lcZ(42,12,e.applied_days)," "),t.xp6(9),t.hij(" ",e.alloted_leaves," "),t.xp6(9),t.hij(" ",e.used_leaves," "),t.xp6(8),t.hij(" ",e.applied_date," "),t.xp6(9),t.hij(" ",e.approved_by_name," "),t.xp6(8),t.hij(" ",e.approved_date," ")}}function st(o,a){1&o&&(t.TgZ(0,"div",33)(1,"div",45)(2,"div",38)(3,"p"),t._uU(4,"No records found !"),t.qZA()()()())}function ct(o,a){if(1&o&&(t.ynx(0),t.YNc(1,lt,85,14,"div",27),t.ALo(2,"paginate"),t.YNc(3,st,5,0,"div",28),t.BQk()),2&o){const e=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,n.paginationConfig)),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function _t(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onTableSizeChange(i))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,P,n.tableSize===e)),t.xp6(1),t.Oqu(e)}}function gt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",46)(1,"div",47)(2,"div",48)(3,"pagination-controls",16),t.NdJ("pageChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(i))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,_t,2,5,"button",6),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}let ut=(()=>{class o{constructor(e,n,i,r,p){this.builder=e,this.api=n,this.modalService=i,this.common_service=r,this.cdref=p,this.buttonClick=new t.vpe,this.filter=new t.vpe,this.list=[],this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.term="",this.paginationConfig={itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.user_id=sessionStorage.getItem("user_id"),this.orgId=sessionStorage.getItem("org_id"),this.getUserControls()}ngOnChanges(e){e.data.currentValue&&(this.data=e.data.currentValue),e.totalCount.currentValue&&(this.paginationConfig.totalItems=e.totalCount.currentValue.pageCount*this.tableSize,this.paginationConfig.currentPage=e.totalCount.currentValue.currentPage,this.paginationConfig.itemsPerPage=this.tableSize,this.page=e.totalCount.currentValue.currentPage,this.count=e.totalCount.currentValue.pageCount*this.tableSize),this.cdref.detectChanges()}getUserControls(){this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&pagination=TRUE&organization_id=${this.orgId}`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((i,r)=>{i["APPLIED/APPROVIED_LEAVES"]&&(this.accessConfig=i["APPLIED/APPROVIED_LEAVES"])})})}delete(e){this.api.deletePeopleLeaves(e.id,{module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"DELETE",user_id:this.user_id}).subscribe(i=>{this.api.showWarning("Declined leave deleted successfully!"),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})},i=>{this.api.showError(i.error.error.message)})}open(e){if(e){const n=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});n.componentInstance.status.subscribe(i=>{"ok"==i&&this.delete(e),n.close()})}}filterSearch(){this.filter.emit({search_key:this.term,page:this.page,tableSize:this.tableSize})}onTableDataChange(e){this.page=e,this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})}openDialogue(e,n){if(e){const i="APPROVED"===n?"approve":"decline",r="APPROVED"===n?"Approve":"Decline",p=this.modalService.open(u.D,{size:"sm",backdrop:!0,centered:!0});p.componentInstance.title=`Are you sure do you want to ${i}`,p.componentInstance.message=`${r} confirmation`,p.componentInstance.status.subscribe(s=>{"ok"==s&&this.updateStatus(e,n),p.close()})}}updateStatus(e,n){this.user_id=JSON.parse(sessionStorage.getItem("user_id"));let i=new Date,r=("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear();this.api.leaveApplicationState({user_id:this.user_id,module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"APPROVED"===n?"APPROVE":"REJECT",id:e,approved_state:n,approved_by_id:this.user_id,approved_date:r}).subscribe(O=>{this.buttonClick.emit({page:this.page,tableSize:this.tableSize,search_key:this.term})})}getContinuousIndex(e){return(this.page-1)*this.tableSize+e+1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(h.O),t.Y36(_.FF),t.Y36(f.R),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-declined"]],inputs:{data:"data",totalCount:"totalCount"},outputs:{buttonClick:"buttonClick",filter:"filter"},features:[t.TTD],decls:43,vars:4,consts:[[1,"container-fluid","webView","pt-2"],[1,"row","p-20"],[1,"col-sm-4","search-div","px-0"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],["id","i-cr"],[4,"ngIf"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"container-fluid","mobileView"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"page-size-btn",3,"value","ngClass","click"],[4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],[1,"text-center"],[2,"border","none","background-color","inherit",3,"click"],["container","body","ngbTooltip","Delete",1,"fas","fa-trash-alt",2,"color","red"],[1,"nodata"],["class","col-sm-12 col-md-6 p-0",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-sm-12","col-md-6","p-0"],[1,"card","outer-card"],[1,"row","rc-p"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-12","status-text"],[1,"col-5"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","val-r"],["style","float: right;",4,"ngIf"],[2,"float","right"],["mat-raised-button","","type","button",1,"toolbar-btn",3,"click"],[1,"bi","bi-trash",2,"color","red","font-size","24px"],[1,"card"],[1,"row","mobile-pagination"],[1,"col-sm-12"],[1,"mobile-pagination-content"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2)(3,"div",3),t.TgZ(4,"div",4)(5,"div",5),t.YNc(6,et,2,5,"button",6),t.qZA()()(),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"table",10)(11,"thead")(12,"tr")(13,"th",11),t._uU(14,"S.No"),t.qZA(),t.TgZ(15,"th",12),t._uU(16,"From Date"),t.qZA(),t.TgZ(17,"th",12),t._uU(18,"To Date"),t.qZA(),t.TgZ(19,"th",12),t._uU(20,"Applied Days"),t.qZA(),t.TgZ(21,"th",12),t._uU(22,"Alloted Leaves"),t.qZA(),t.TgZ(23,"th",12),t._uU(24,"Used Leaves"),t.qZA(),t.TgZ(25,"th",12),t._uU(26,"Applied Date"),t.qZA(),t.TgZ(27,"th",12),t._uU(28,"Rejected Date"),t.qZA(),t.TgZ(29,"th",12),t._uU(30,"Status"),t.qZA(),t.TgZ(31,"th",12),t._uU(32,"Action"),t.qZA()()(),t.TgZ(33,"tbody",13),t.YNc(34,rt,4,5,"ng-container",14),t.qZA()()()()(),t.TgZ(35,"div",8)(36,"div",3)(37,"div",15)(38,"pagination-controls",16),t.NdJ("pageChange",function(r){return n.onTableDataChange(r)}),t.qZA()()()()(),t.TgZ(39,"div",17)(40,"div",18),t.YNc(41,ct,4,5,"ng-container",14),t.qZA(),t.YNc(42,gt,6,1,"div",19),t.qZA()),2&e&&(t.xp6(6),t.Q6J("ngForOf",n.tableSizes),t.xp6(28),t.Q6J("ngIf",n.data),t.xp6(7),t.Q6J("ngIf",n.data),t.xp6(1),t.Q6J("ngIf",0!==n.data.length))},dependencies:[l.mk,l.sg,l.O5,g.LS,_._L,C.lW,l.rS,g._s],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}#search-icon-tab[_ngcontent-%COMP%]{top:10px!important}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:-moz-fit-content!important;height:fit-content!important;width:100%!important;padding:5px;border-radius:5px;margin:0!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:40px;margin-bottom:4px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}#i-cr[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 2px!important;margin:0!important}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000014,0 6px 20px #0000000a;margin:5px 15px;border-radius:10px;background:rgba(255,255,255,.6)!important;position:relative}.outer-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;padding-right:2px}.card-subtitle[_ngcontent-%COMP%]{color:#0a69b1!important}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #FF1313;padding:10px 0;zoom:90%;background:#FFF3F3;color:#fff;line-height:15px!important}.inner-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:3px!important}.rc-p[_ngcontent-%COMP%]{padding:20px 20px 10px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.font-s[_ngcontent-%COMP%]{font-size:8px;width:200px;word-break:break-all;color:#000;margin:0!important}.no-data[_ngcontent-%COMP%]{width:60%;border-radius:10px;background:rgba(246,246,246,.9647058824);margin-top:3vh;margin:auto;margin-top:3vh!important}.no-data[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{background:#e9e9e9;font-size:small}.val-r[_ngcontent-%COMP%]{color:#000;font-weight:700;margin-top:5px}.r-1[_ngcontent-%COMP%]{color:#0c79e6}#access-icon[_ngcontent-%COMP%]{color:#fff}.status-text[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),o})();const mt=["tabset"];function vt(o,a){1&o&&(t.TgZ(0,"p"),t._uU(1,"From date is required"),t.qZA())}function ht(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,vt,2,0,"p",35),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.from_date.errors.required)}}function ft(o,a){1&o&&(t.TgZ(0,"p"),t._uU(1,"To date is required"),t.qZA())}function bt(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,ft,2,0,"p",35),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.to_date.errors.required)}}function At(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-yet-to-approve",37),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.AllListData)("totalCount",e.totalCount)}}function xt(o,a){1&o&&(t.TgZ(0,"div",38),t._uU(1,"No records found "),t.qZA())}function Ct(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-approved",37),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.AllListData)("totalCount",e.totalCount)}}function Tt(o,a){1&o&&(t.TgZ(0,"div",38),t._uU(1,"No records found "),t.qZA())}function Zt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-declined",37),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.AllListData)("totalCount",e.totalCount)}}function Pt(o,a){1&o&&(t.TgZ(0,"div",38),t._uU(1,"No records found "),t.qZA())}function Ot(o,a){1&o&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"-"),t.qZA()())}function Dt(o,a){1&o&&(t.TgZ(0,"p"),t._uU(1,"From date is required"),t.qZA())}function Lt(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,Dt,2,0,"p",35),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.from_date.errors.required)}}function Et(o,a){1&o&&(t.TgZ(0,"p"),t._uU(1,"To date is required"),t.qZA())}function qt(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,Et,2,0,"p",35),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.to_date.errors.required)}}function yt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-yet-to-approve",37),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.AllListData)("totalCount",e.totalCount)}}function Mt(o,a){1&o&&(t.TgZ(0,"div",38),t._uU(1,"No records found "),t.qZA())}function kt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-approved",37),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.AllListData)("totalCount",e.totalCount)}}function It(o,a){1&o&&(t.TgZ(0,"div",38),t._uU(1,"No records found "),t.qZA())}function wt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-declined",37),t.NdJ("filter",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchFiter(i))})("buttonClick",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.buttonClick(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.AllListData)("totalCount",e.totalCount)}}function Ut(o,a){1&o&&(t.TgZ(0,"div",38),t._uU(1,"No records found "),t.qZA())}const St=[{path:"",component:(()=>{class o{constructor(e,n,i,r,p,s){this.api=e,this.datepipe=n,this._fb=i,this.location=r,this.common_service=p,this.cdref=s,this.BreadCrumbsTitle="Applied approved leaves",this.AllCardData=[],this.selectedTab="",this.AllListData=[],this.changes=!1,this.yetToApprove=[],this.approved=[],this.declined={},this.user_id=sessionStorage.getItem("user_id")}goBack(e){e.preventDefault(),this.location.back()}initForm(){this.appliedLeaveForm=this._fb.group({from_date:["",c.kI.required],to_date:["",c.kI.required]})}ngOnInit(){this.common_service.setTitle(this.BreadCrumbsTitle),this.orgId=sessionStorage.getItem("org_id"),this.initForm(),this.getByStatus({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:1,data_per_page:10,user_id:this.user_id,pagination:"TRUE",search_key:"",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED"})}searchFiter(e){e&&(this.cdref.detectChanges(),this.changes?this.getAppliedLeaves({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:e.page,data_per_page:e.tableSize,search_key:e.search_key,user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",leaveApplication_from_date:this.fromDate,leaveApplication_to_date:this.toDate}):this.getByStatus({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:e.page,data_per_page:e.tableSize,search_key:e.search_key,user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED"}))}buttonClick(e){e&&(this.cdref.detectChanges(),this.changes?this.getAppliedLeaves({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:e.page,data_per_page:e.tableSize,search_key:e.search_key,user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",leaveApplication_from_date:this.fromDate,leaveApplication_to_date:this.toDate}):this.getByStatus({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:e.page,data_per_page:e.tableSize,search_key:e.search_key,user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED"}))}get f(){return this.appliedLeaveForm.controls}getByStatus(e){this.api.getData(`${v.N.live_url}/${v.N.leave_application}?module=${e.module}&menu=${e.menu}&method=${e.method}&user_id=${e.user_id}&search_key=${e.search_key}&page_number=${e.page_number}&data_per_page=${e.data_per_page}&pagination=${e.pagination}&organization_id=${this.orgId}&approved_state=${e.approved_state}`).subscribe(n=>{n?(this.AllListData=n.result.data,this.AllCardData=n.result.leave_dashboard,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10},this.AllListData.length<=0&&this.api.showWarning("No records found")):this.AllListData.length<0&&this.api.showWarning("No records found")},n=>{this.api.showError(n.error.error.message)})}getAppliedLeaves(e){this.api.getData(`${v.N.live_url}/${v.N.leave_application}?module=${e.module}&menu=${e.menu}&method=${e.method}&user_id=${e.user_id}&search_key=${e.search_key}&page_number=${e.page_number}&data_per_page=${e.data_per_page}&pagination=${e.pagination}&organization_id=${this.orgId}&approved_state=${e.approved_state}&leaveApplication_from_date=${e.leaveApplication_from_date}&leaveApplication_to_date=${e.leaveApplication_to_date}`).subscribe(n=>{n&&(this.AllCardData=n.result.leave_dashboard,this.AllListData=n.result.data,this.totalCount={pageCount:n.result.pagination.number_of_pages,currentPage:n.result.pagination.current_page,itemsPerPage:10},this.AllListData.length<=0&&this.api.showWarning("No records found"),this.month=n.result.data[0].your_applied_leave_to_date)},n=>{this.api.showError(n.error.error.message)})}changeFormat(){this.fromDate=this.datepipe.transform(this.appliedLeaveForm.value.from_date,"dd/MM/yyyy"),this.toDate=this.datepipe.transform(this.appliedLeaveForm.value.to_date,"dd/MM/yyyy"),this.changes=!0,this.appliedLeaveForm.value.to_date&&(this.month=this.appliedLeaveForm.value.to_date)}submit(){if(this.changes){let e={module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:1,data_per_page:10,user_id:this.user_id,search_key:"",pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",leaveApplication_from_date:this.fromDate,leaveApplication_to_date:this.toDate};this.appliedLeaveForm.invalid?this.appliedLeaveForm.markAllAsTouched():(this.getAppliedLeaves(e),this.tabset.tabs[0].active=!0)}else this.appliedLeaveForm.invalid&&this.appliedLeaveForm.markAllAsTouched()}tabState(e){if(this.selectedTab="Approved leaves"==e.heading?"APPROVED":"Yet to be approved"==e.heading?"YET_TO_APPROVED":"Declined leaves"==e.heading?"DECLINED":"YET_TO_APPROVED",this.changes){let n={module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:1,data_per_page:10,search_key:"",user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED",leaveApplication_from_date:this.fromDate,leaveApplication_to_date:this.toDate};this.appliedLeaveForm.invalid?this.appliedLeaveForm.markAllAsTouched():this.getAppliedLeaves(n)}else this.getByStatus({module:"LEAVE/HOLIDAY_LIST",menu:"APPLIED/APPROVIED_LEAVES",method:"VIEW",page_number:1,data_per_page:10,search_key:"",user_id:this.user_id,pagination:"TRUE",approved_state:this.selectedTab?this.selectedTab:"YET_TO_APPROVED"})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.O),t.Y36(l.uU),t.Y36(c.qu),t.Y36(l.Ye),t.Y36(f.R),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-applied-approved-leaves"]],viewQuery:function(e,n){if(1&e&&t.Gf(mt,5),2&e){let i;t.iGM(i=t.CRH())&&(n.tabset=i.first)}},decls:153,vars:27,consts:[[1,"container-fluid","webView"],[1,"container-middle"],[1,"row","p-20"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-8"],[1,"bi","bi-check"],[1,"col-4","text-end"],[1,"v-align",2,"color","green"],[1,"bi","bi-lightning"],[1,"v-align",2,"color","#e6b539"],[1,"bi","bi-x"],[1,"v-align",2,"color","red"],[1,"col-12"],[1,"card","dt-card"],[3,"formGroup","ngSubmit"],[1,"col-sm-4","col-md-6","col-lg-4"],[1,"date-label"],["type","date","formControlName","from_date","placeholder","date",1,"form-control","date-input",3,"change"],["class","error-msg",4,"ngIf"],["type","date","formControlName","to_date","placeholder","date",1,"form-control","date-input",3,"min","change"],[1,"col-sm-2","col-md-6","col-lg-2","py-3","d-flex","align-items-center"],["mat-raised-button","",1,"proceedbtn","mat-btn-s"],[1,"animated","fadeIn","p-20"],[1,"col-md-12","mb-4"],["heading","Yet to approved",3,"selectTab"],[3,"data","totalCount","filter","buttonClick",4,"ngIf"],["class","text-center text-muted no-data py-2",4,"ngIf"],["heading","Approved leaves","aria-selected","true",3,"selectTab"],["heading","Declined leaves",3,"selectTab"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-1"],[1,"col-sm-7"],[4,"ngIf"],[1,"error-msg"],[3,"data","totalCount","filter","buttonClick"],[1,"text-center","text-muted","no-data","py-2"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",6)(8,"div",7)(9,"h6"),t._UZ(10,"i",8),t._uU(11," Approved "),t.qZA()(),t.TgZ(12,"div",9)(13,"h4",10),t._uU(14),t.qZA()()()()()()(),t.TgZ(15,"div",3)(16,"div",4)(17,"div",5)(18,"div",6)(19,"div",6)(20,"div",7)(21,"h6"),t._UZ(22,"i",11),t._uU(23," Request "),t.qZA()(),t.TgZ(24,"div",9)(25,"h4",12),t._uU(26),t.qZA()()()()()()(),t.TgZ(27,"div",3)(28,"div",4)(29,"div",5)(30,"div",6)(31,"div",6)(32,"div",7)(33,"h6"),t._UZ(34,"i",13),t._uU(35," Declined "),t.qZA()(),t.TgZ(36,"div",9)(37,"h4",14),t._uU(38),t.qZA()()()()()()()(),t.TgZ(39,"div",2)(40,"div",15)(41,"div",16)(42,"form",17),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(43,"div",6)(44,"div",18)(45,"label",19),t._uU(46,"From date "),t.TgZ(47,"span"),t._uU(48,"*"),t.qZA()(),t.TgZ(49,"input",20),t.NdJ("change",function(){return n.changeFormat()}),t.qZA(),t.YNc(50,ht,2,1,"div",21),t.qZA(),t.TgZ(51,"div",18)(52,"label",19),t._uU(53,"To date "),t.TgZ(54,"span"),t._uU(55,"*"),t.qZA()(),t.TgZ(56,"input",22),t.NdJ("change",function(){return n.changeFormat()}),t.qZA(),t.YNc(57,bt,2,1,"div",21),t.qZA(),t.TgZ(58,"div",23)(59,"button",24),t._uU(60,"Submit"),t.qZA()()()()()()(),t.TgZ(61,"div",25)(62,"div",6)(63,"div",26)(64,"tabset")(65,"tab",27),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(66,At,1,2,"app-yet-to-approve",28),t.YNc(67,xt,2,0,"div",29),t.qZA(),t.TgZ(68,"tab",30),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(69,Ct,1,2,"app-approved",28),t.YNc(70,Tt,2,0,"div",29),t.qZA(),t.TgZ(71,"tab",31),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(72,Zt,1,2,"app-declined",28),t.YNc(73,Pt,2,0,"div",29),t.qZA()()()()()()(),t.TgZ(74,"div",32)(75,"div",33)(76,"div",34)(77,"h1"),t._uU(78,"Applied approved leaves "),t.YNc(79,Ot,3,0,"span",35),t.qZA()()(),t.TgZ(80,"div",1)(81,"div",2)(82,"div",3)(83,"div",4)(84,"div",5)(85,"div",6)(86,"div",6)(87,"div",7)(88,"h6"),t._UZ(89,"i",8),t._uU(90," Approved "),t.qZA()(),t.TgZ(91,"div",9)(92,"h4",10),t._uU(93),t.qZA()()()()()()(),t.TgZ(94,"div",3)(95,"div",4)(96,"div",5)(97,"div",6)(98,"div",6)(99,"div",7)(100,"h6"),t._UZ(101,"i",11),t._uU(102," Request "),t.qZA()(),t.TgZ(103,"div",9)(104,"h4",12),t._uU(105),t.qZA()()()()()()(),t.TgZ(106,"div",3)(107,"div",4)(108,"div",5)(109,"div",6)(110,"div",6)(111,"div",7)(112,"h6"),t._UZ(113,"i",13),t._uU(114," Declined "),t.qZA()(),t.TgZ(115,"div",9)(116,"h4",14),t._uU(117),t.qZA()()()()()()()(),t.TgZ(118,"div",2)(119,"div",15)(120,"div",16)(121,"form",17),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(122,"div",6)(123,"div",18)(124,"label",19),t._uU(125,"From date "),t.TgZ(126,"span"),t._uU(127,"*"),t.qZA()(),t.TgZ(128,"input",20),t.NdJ("change",function(){return n.changeFormat()}),t.qZA(),t.YNc(129,Lt,2,1,"div",21),t.qZA(),t.TgZ(130,"div",18)(131,"label",19),t._uU(132,"To date "),t.TgZ(133,"span"),t._uU(134,"*"),t.qZA()(),t.TgZ(135,"input",22),t.NdJ("change",function(){return n.changeFormat()}),t.qZA(),t.YNc(136,qt,2,1,"div",21),t.qZA(),t.TgZ(137,"div",23)(138,"button",24),t._uU(139,"Submit"),t.qZA()()()()()()(),t.TgZ(140,"div",25)(141,"div",6)(142,"div",26)(143,"tabset")(144,"tab",27),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(145,yt,1,2,"app-yet-to-approve",28),t.YNc(146,Mt,2,0,"div",29),t.qZA(),t.TgZ(147,"tab",30),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(148,kt,1,2,"app-approved",28),t.YNc(149,It,2,0,"div",29),t.qZA(),t.TgZ(150,"tab",31),t.NdJ("selectTab",function(r){return n.tabState(r)}),t.YNc(151,wt,1,2,"app-declined",28),t.YNc(152,Ut,2,0,"div",29),t.qZA()()()()()()()),2&e&&(t.xp6(14),t.Oqu(null==n.AllCardData?null:n.AllCardData.approved_count),t.xp6(12),t.Oqu(null==n.AllCardData?null:n.AllCardData.request_count),t.xp6(12),t.Oqu(null==n.AllCardData?null:n.AllCardData.declined_count),t.xp6(4),t.Q6J("formGroup",n.appliedLeaveForm),t.xp6(8),t.Q6J("ngIf",n.f.from_date.touched&&n.f.from_date.invalid),t.xp6(6),t.Q6J("min",n.appliedLeaveForm.value.from_date),t.xp6(1),t.Q6J("ngIf",n.f.to_date.touched&&n.f.to_date.invalid),t.xp6(9),t.Q6J("ngIf",n.AllListData&&"YET_TO_APPROVED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(1),t.Q6J("ngIf",n.AllListData&&"YET_TO_APPROVED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(2),t.Q6J("ngIf",n.AllListData&&"APPROVED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(1),t.Q6J("ngIf",n.AllListData&&"APPROVED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(2),t.Q6J("ngIf",n.AllListData&&"DECLINED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(1),t.Q6J("ngIf",n.AllListData&&"DECLINED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(6),t.Q6J("ngIf",n.month),t.xp6(14),t.Oqu(null==n.AllCardData?null:n.AllCardData.approved_count),t.xp6(12),t.Oqu(null==n.AllCardData?null:n.AllCardData.request_count),t.xp6(12),t.Oqu(null==n.AllCardData?null:n.AllCardData.declined_count),t.xp6(4),t.Q6J("formGroup",n.appliedLeaveForm),t.xp6(8),t.Q6J("ngIf",n.f.from_date.touched&&n.f.from_date.invalid),t.xp6(6),t.Q6J("min",n.appliedLeaveForm.value.from_date),t.xp6(1),t.Q6J("ngIf",n.f.to_date.touched&&n.f.to_date.invalid),t.xp6(9),t.Q6J("ngIf",n.AllListData&&"YET_TO_APPROVED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(1),t.Q6J("ngIf",n.AllListData&&"YET_TO_APPROVED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(2),t.Q6J("ngIf",n.AllListData&&"APPROVED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(1),t.Q6J("ngIf",n.AllListData&&"APPROVED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(2),t.Q6J("ngIf",n.AllListData&&"DECLINED"===(null==n.AllListData[0]?null:n.AllListData[0].status)),t.xp6(1),t.Q6J("ngIf",n.AllListData&&"DECLINED"!==(null==n.AllListData[0]?null:n.AllListData[0].status)))},dependencies:[l.O5,b.wW,b.AH,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,C.lW,Y,tt,ut],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%;padding:20px;border-radius:5px;overflow-x:auto!important}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%!important;height:30px;margin-bottom:4px}p[_ngcontent-%COMP%]{color:gray;margin-bottom:5px}html[_ngcontent-%COMP%]{position:relative}h4[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{margin:5px 1px;border:none;box-shadow:0 1px 1px #0000000d}.card-body[_ngcontent-%COMP%]{padding:7px 15px}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:small;margin-bottom:5px}.card-body[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:gray}.card-body[_ngcontent-%COMP%]   .bi-bar-chart[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%]   .bi-lightning[_ngcontent-%COMP%]{font-size:12px!important}.v-align[_ngcontent-%COMP%]{line-height:1}.date-input[_ngcontent-%COMP%]{font-size:14px;background:#f6f6f6;border-radius:2px}.dt-card[_ngcontent-%COMP%]{padding:5px 17px 2px;font-size:14px}.container-middle[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden;background:#f8f8f8;padding-bottom:7rem!important}.no-data[_ngcontent-%COMP%]{font-style:italic;font-size:small;font-weight:500}.error-msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red!important}@media (max-width: 767px){.custom-scroll[_ngcontent-%COMP%]{height:60vh;overflow:scroll;overflow-x:hidden;padding:0}.s-padd[_ngcontent-%COMP%]{padding:0!important}.date-label[_ngcontent-%COMP%]{margin:10px 0!important}}@media (max-width: 1023px){.p-20[_ngcontent-%COMP%]{padding:5px 5px 0!important}}@media (min-width: 1024px){.p-20[_ngcontent-%COMP%]{padding:14px 12px 0!important}}"]}),o})()}];let zt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[x.Bz.forChild(St),x.Bz]}),o})();var Nt=d(529),Yt=d(7185),Ft=d(3189),Vt=d(101);let Jt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,zt,b.P4.forRoot(),Nt.JF,c.UX,c.u5,Yt.Rh.forRoot(),g.JX,Ft.h,_.HK,Vt.m]}),o})()}}]);