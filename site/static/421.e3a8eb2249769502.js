"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[421],{8170:(qt,h,s)=>{s.r(h),s.d(h,{DepartmentModule:()=>Dt});var p=s(6895),d=s(9299),a=s(4006),t=s(4650),m=s(4165),l=s(1693),u=s(1377);function T(n,o){1&n&&(t.TgZ(0,"div")(1,"p",18),t._uU(2,"Department name is required"),t.qZA()())}function x(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,T,3,0,"div",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.od_name.errors.required)}}function D(n,o){1&n&&(t.TgZ(0,"div")(1,"p",18),t._uU(2,"Cannot start with a space."),t.qZA()())}function A(n,o){1&n&&(t.TgZ(0,"div")(1,"p",18),t._uU(2,"Status is required"),t.qZA()())}function q(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,A,3,0,"div",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.od_status.errors.required)}}function U(n,o){1&n&&(t.TgZ(0,"div")(1,"p",18),t._uU(2,"Department name is required"),t.qZA()())}function w(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,U,3,0,"div",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.od_name.errors.required)}}function k(n,o){1&n&&(t.TgZ(0,"div")(1,"p",18),t._uU(2,"Cannot start with a space."),t.qZA()())}function M(n,o){1&n&&(t.TgZ(0,"div")(1,"p",18),t._uU(2,"Status is required"),t.qZA()())}function O(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,M,3,0,"div",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.od_status.errors.required)}}let J=(()=>{class n{constructor(e,i,r,c){this.builder=e,this.api=i,this.location=r,this.common_service=c,this.BreadCrumbsTitle="Create department",this.allDepartment=[]}ngOnInit(){this.common_service.setTitle(this.BreadCrumbsTitle),this.org_id=sessionStorage.getItem("org_id"),this.initForm()}goBack(e){e.preventDefault(),this.location.back()}initForm(){this.departmentForm=this.builder.group({od_name:["",[a.kI.pattern(/^\S.*$/),a.kI.required]],od_status:["",a.kI.required],organization_id:this.org_id})}get f(){return this.departmentForm.controls}addDepartment(){this.departmentForm.invalid?(this.api.showError("Invalid!"),this.departmentForm.markAllAsTouched()):this.api.addDepartmentDetails(this.departmentForm.value).subscribe(e=>{e?(this.api.showSuccess("Department added successfully!"),this.departmentForm.reset(),this.initForm()):this.api.showError("Error!")},e=>{this.api.showError(e.error.error.message?e.error.error.message:e.error.error.detail)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(m.O),t.Y36(p.Ye),t.Y36(l.R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-department"]],decls:73,vars:8,consts:[[1,"container-fluid","webView"],[1,"generic-form","bg","mx-1"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6"],["type","text","formControlName","od_name","placeholder","Enter department name","aria-describedby","emailHelp","autocomplete","off",1,"form-control","p-3","sizeinput"],[4,"ngIf"],[1,"col-sm-12","col-md-6","col-lg-6"],["formControlName","od_status",1,"form-select","p-3","sizeinput"],["value","","selected","","disabled",""],["value","Active"],["value","Inactive"],[1,"col-sm-2"],["mat-raised-button","","type","submit",1,"proceedbtn"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-12"],[1,"bi","bi-arrow-left",3,"click"],[1,"error-msg"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return i.addDepartment()}),t.TgZ(3,"div",3)(4,"div",4)(5,"h4"),t._uU(6,"Department details"),t.qZA()()(),t.TgZ(7,"div",3)(8,"div",4)(9,"p"),t._uU(10,"Department name "),t.TgZ(11,"span"),t._uU(12,"*"),t.qZA()(),t._UZ(13,"input",5),t.YNc(14,x,2,1,"div",6),t.YNc(15,D,3,0,"div",6),t.qZA()(),t.TgZ(16,"div",3)(17,"div",7)(18,"p"),t._uU(19,"Status "),t.TgZ(20,"span"),t._uU(21,"*"),t.qZA()(),t.TgZ(22,"select",8)(23,"option",9),t._uU(24,"Select status"),t.qZA(),t.TgZ(25,"option",10),t._uU(26,"Active"),t.qZA(),t.TgZ(27,"option",11),t._uU(28,"Inactive"),t.qZA()(),t.YNc(29,q,2,1,"div",6),t.qZA()(),t.TgZ(30,"div",3)(31,"div",12)(32,"button",13),t._uU(33,"Submit"),t.qZA()()()()()(),t.TgZ(34,"div",14)(35,"div",15)(36,"div",16)(37,"h1")(38,"i",17),t.NdJ("click",function(c){return i.goBack(c)}),t.qZA(),t._uU(39," Add department"),t.qZA()()(),t.TgZ(40,"div",1)(41,"form",2),t.NdJ("ngSubmit",function(){return i.addDepartment()}),t.TgZ(42,"div",3)(43,"div",4)(44,"h4"),t._uU(45,"Department details"),t.qZA()()(),t.TgZ(46,"div",3)(47,"div",4)(48,"p"),t._uU(49,"Department name "),t.TgZ(50,"span"),t._uU(51,"*"),t.qZA()(),t._UZ(52,"input",5),t.YNc(53,w,2,1,"div",6),t.YNc(54,k,3,0,"div",6),t.qZA()(),t.TgZ(55,"div",3)(56,"div",7)(57,"p"),t._uU(58,"Status "),t.TgZ(59,"span"),t._uU(60,"*"),t.qZA()(),t.TgZ(61,"select",8)(62,"option",9),t._uU(63,"Select status"),t.qZA(),t.TgZ(64,"option",10),t._uU(65,"Active"),t.qZA(),t.TgZ(66,"option",11),t._uU(67,"Inactive"),t.qZA()(),t.YNc(68,O,2,1,"div",6),t.qZA()(),t.TgZ(69,"div",3)(70,"div",12)(71,"button",13),t._uU(72,"Submit"),t.qZA()()()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",i.departmentForm),t.xp6(12),t.Q6J("ngIf",i.f.od_name.touched&&i.f.od_name.invalid),t.xp6(1),t.Q6J("ngIf",i.f.od_name.touched&&i.f.od_name.hasError("pattern")),t.xp6(14),t.Q6J("ngIf",i.f.od_status.touched&&i.f.od_status.invalid),t.xp6(12),t.Q6J("formGroup",i.departmentForm),t.xp6(12),t.Q6J("ngIf",i.f.od_name.touched&&i.f.od_name.invalid),t.xp6(1),t.Q6J("ngIf",i.f.od_name.touched&&i.f.od_name.hasError("pattern")),t.xp6(14),t.Q6J("ngIf",i.f.od_status.touched&&i.f.od_status.invalid))},dependencies:[p.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,u.lW],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%;padding:20px;border-radius:5px}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%;height:50px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}"]}),n})();var N=s(3640),b=s(6003),v=s(2340),g=s(8304),f=s(8567),y=s(5501);const Z=function(n){return{"active-size":n}};function I(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(r){t.CHM(e);const c=t.oxw();return t.KtG(c.onTableSizeChange(r))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw();t.Q6J("value",e)("ngClass",t.VKq(3,Z,i.tableSize===e)),t.xp6(1),t.Oqu(e)}}function L(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"i",30),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.sort("asc","od_name"))}),t.qZA()}}function S(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"i",31),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.sort("desc","od_name"))}),t.qZA()}}function P(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"i",30),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.sort("asc","od_c_date"))}),t.qZA()}}function Y(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"i",31),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.sort("desc","od_c_date"))}),t.qZA()}}function E(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"i",30),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.sort("asc","od_status"))}),t.qZA()}}function F(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"i",31),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.sort("desc","od_status"))}),t.qZA()}}function Q(n,o){if(1&n&&(t.TgZ(0,"button",36),t._UZ(1,"i",37),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(2);t.cQ8("routerLink","/department/update/",e.id,"/",i.page,"/",i.tableSize,"")}}function z(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,c=t.oxw(2);return t.KtG(c.open(r.id))}),t._UZ(1,"i",39),t.qZA()}}function $(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Q,2,3,"button",34),t.YNc(2,z,2,0,"button",35),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","UPDATE"===e),t.xp6(1),t.Q6J("ngIf","DELETE"===e)}}function B(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.TgZ(12,"td"),t.YNc(13,$,3,2,"ng-container",19),t.qZA()()),2&n){const e=o.$implicit,i=o.index,r=t.oxw(2);t.ekj("active",i==r.currentIndex),t.xp6(2),t.Oqu(r.getContinuousIndex(i)),t.xp6(2),t.Oqu(t.lcZ(5,7,e.od_name)),t.xp6(3),t.Oqu(t.xi3(8,9,e.od_c_date,"mediumDate")),t.xp6(3),t.Oqu(t.lcZ(11,12,e.od_status)),t.xp6(3),t.Q6J("ngForOf",r.permissions)}}function R(n,o){1&n&&(t.TgZ(0,"tr",40)(1,"td"),t._uU(2," No records found !"),t.qZA()())}const C=function(n,o,e){return{itemsPerPage:n,currentPage:o,totalItems:e}};function G(n,o){if(1&n&&(t.ynx(0),t.YNc(1,B,14,14,"tr",32),t.ALo(2,"paginate"),t.ALo(3,"customSort"),t.YNc(4,R,3,0,"tr",33),t.BQk()),2&n){const e=o.ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,t.Dn7(3,5,e,i.directionValue,i.sortValue),t.kEZ(9,C,i.tableSize,i.page,i.count))),t.xp6(3),t.Q6J("ngIf",0===e.length)}}function H(n,o){1&n&&(t.TgZ(0,"button",42),t._UZ(1,"i",43),t.qZA())}function K(n,o){if(1&n&&(t.ynx(0),t.YNc(1,H,2,0,"button",41),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","CREATE"==e)}}function V(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"a")(1,"button",56),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,c=t.oxw(2);return t.KtG(c.editCard(r.id))}),t._UZ(2,"i",57),t.qZA()()}}function j(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"a")(1,"button",56),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,c=t.oxw(2);return t.KtG(c.open(r.id))}),t._UZ(2,"i",58),t.qZA()()}}function X(n,o){if(1&n&&(t.ynx(0),t.YNc(1,V,3,0,"a",16),t.YNc(2,j,3,0,"a",16),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","UPDATE"==e),t.xp6(1),t.Q6J("ngIf","DELETE"==e)}}function W(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",45)(1,"div",46),t.NdJ("click",function(){const c=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.cardId(c))}),t.TgZ(2,"div",47)(3,"div",48)(4,"div",10)(5,"div",49)(6,"h6",50),t._uU(7," Status"),t.qZA()()(),t.TgZ(8,"div",10)(9,"div",49),t._uU(10),t.ALo(11,"titlecase"),t.qZA()()(),t.TgZ(12,"div",51),t.YNc(13,X,3,2,"ng-container",19),t.qZA()(),t.TgZ(14,"div",52)(15,"div",53)(16,"div",10)(17,"div",54)(18,"div",10)(19,"div",49)(20,"h6",50),t._uU(21,"Department Name"),t.qZA()()(),t.TgZ(22,"div",10)(23,"div",55),t._uU(24),t.ALo(25,"titlecase"),t.qZA()()(),t.TgZ(26,"div",54)(27,"div",10)(28,"div",49)(29,"h6",50),t._uU(30,"Added Date"),t.qZA()()(),t.TgZ(31,"div",10)(32,"div",55),t._uU(33),t.ALo(34,"date"),t.qZA()()()()()()()()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(10),t.hij(" ",t.lcZ(11,4,e.od_status)," "),t.xp6(3),t.Q6J("ngForOf",i.permissions),t.xp6(11),t.hij(" ",t.lcZ(25,6,e.od_name)," "),t.xp6(9),t.hij(" ",t.xi3(34,8,e.od_c_date,"mediumDate")," ")}}function tt(n,o){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-generic-norecards"),t.qZA())}function et(n,o){if(1&n&&(t.ynx(0),t.YNc(1,W,35,11,"div",44),t.ALo(2,"paginate"),t.YNc(3,tt,2,0,"div",16),t.BQk()),2&n){const e=o.ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,t.kEZ(5,C,i.tableSize,i.page,i.count))),t.xp6(2),t.Q6J("ngIf",0===e.length)}}function nt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(r){t.CHM(e);const c=t.oxw(2);return t.KtG(c.onTableSizeChange(r))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("value",e)("ngClass",t.VKq(3,Z,i.tableSize===e)),t.xp6(1),t.Oqu(e)}}function it(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",59)(1,"div",60)(2,"div",61)(3,"pagination-controls",18),t.NdJ("pageChange",function(r){t.CHM(e);const c=t.oxw();return t.KtG(c.onTableDataChange(r))}),t.qZA(),t.TgZ(4,"div"),t.YNc(5,nt,2,5,"button",8),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.tableSizes)}}function ot(n,o){1&n&&(t.TgZ(0,"button",63),t._UZ(1,"i",43),t.qZA())}function rt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ot,2,0,"button",62),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","CREATE"===e)}}let at=(()=>{class n{constructor(e,i,r,c,_){this.api=e,this.router=i,this.modalService=r,this.location=c,this.common_service=_,this.BreadCrumbsTitle="Department list",this.currentIndex=1,this.allDepartmentList=[],this.page=1,this.count=0,this.tableSize=10,this.tableSizes=[10,25,50,100],this.term="",this.enabled=!0,this.directionValue="desc",this.sortValue="od_name",this.permissions=[],this.arrow=!1}goBack(e){e.preventDefault(),this.location.back()}ngOnInit(){this.common_service.setTitle(this.BreadCrumbsTitle),this.org_id=sessionStorage.getItem("org_id"),this.getDepartment(`search_key=${this.term}&page_number=${this.page}&data_per_page=${this.tableSize}&pagination=TRUE&org_ref_id=${this.org_id}`),this.enabled=!0,this.getUserControls()}getUserControls(){this.user_id=sessionStorage.getItem("user_id"),this.api.getUserRoleById(`user_id=${this.user_id}&page_number=1&data_per_page=10&pagination=FALSE&organization_id=${this.org_id}`).subscribe(e=>{"401"!==e.status_code?this.common_service.permission.next(e.data[0].permissions):this.api.showError("ERROR !")}),this.common_service.permission.subscribe(e=>{e.length>0&&e.forEach((r,c)=>{r.DEPARTMENT&&(this.permissions=r.DEPARTMENT)})})}filterSearch(){this.api.getData(`${v.N.live_url}/${v.N.org_department}?search_key=${this.term}&page_number=${this.page}&data_per_page=${this.tableSize}&pagination=TRUE&org_ref_id=${this.org_id}`).subscribe(e=>{e?(this.allDepartmentList=e.result.data,this.count=e.result.pagination.number_of_pages*this.tableSize,this.page=e.result.pagination.current_page):this.api.showError("Error!")},e=>{this.api.showError(e.error.error.message)})}getDepartment(e){this.api.getDepartmentDetailsPage(e).subscribe(i=>{i?(this.allDepartmentList=i.result.data,this.count=i.result.pagination.number_of_pages*this.tableSize,this.page=i.result.pagination.current_page):this.api.showError("Error!")},i=>{this.api.showError(i.error.error.message)})}delete(e){this.api.deleteDepartmentDetails(e).subscribe(i=>{this.ngOnInit(),this.api.showWarning("Department deleted successfully!"),this.ngOnInit()},i=>{this.api.showError(i.error.error.message)})}cardId(e){this.selectedId=e.id}deleteCard(e){this.delete(e)}editCard(e){this.router.navigate([`/department/update/${e}/${this.page}/${this.tableSize}`])}onTableDataChange(e){this.page=e,this.getDepartment(`search_key=${this.term}&page_number=${this.page}&data_per_page=${this.tableSize}&pagination=TRUE&org_ref_id=${this.org_id}`)}onTableSizeChange(e){this.tableSize=Number(e.target.value),this.count=0,this.count/this.tableSize<this.page&&(this.page=1),this.getDepartment(`search_key=${this.term}&page_number=${this.page}&data_per_page=${this.tableSize}&pagination=TRUE&org_ref_id=${this.org_id}`)}sort(e,i){"asc"==e?(this.arrow=!0,this.directionValue=e,this.sortValue=i):(this.arrow=!1,this.directionValue=e,this.sortValue=i)}open(e){if(e){const i=this.modalService.open(N.D,{size:"sm",backdrop:!0,centered:!0});i.componentInstance.status.subscribe(r=>{"ok"==r&&this.delete(e),i.close()})}}getContinuousIndex(e){return(this.page-1)*this.tableSize+e+1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.O),t.Y36(d.F0),t.Y36(g.FF),t.Y36(p.Ye),t.Y36(l.R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-department-list"]],features:[t._Bn([b.U])],decls:49,vars:14,consts:[[1,"container-wrapper","webView"],[1,"row","p-20"],[1,"col-md-7","col-lg-4","search-div","px-0"],["type","text","placeholder","Search by department name/status","aria-describedby","emailHelp","autocomplete","off",1,"form-control","p-2","sizeinput",3,"ngModel","ngModelChange"],["id","search-icon-tab",1,"bi","bi-search",3,"click"],[1,"col-sm"],[1,"col-md-4","col-lg-3","text-center","align-self-center"],[1,"d-flex","justify-content-center","pg-bg"],["class","page-size-btn",3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"bg"],[1,"row"],[1,"col","px-0"],[1,"table","table","table-hover"],["scope","col"],["class","bi bi-arrow-up",3,"click",4,"ngIf"],["class","bi bi-arrow-down",3,"click",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center","p-nav"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[4,"ngFor","ngForOf"],[1,"mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-6"],[1,"col-sm-6","col-md-6","mb-1","search-div","px-0"],["type","text","placeholder","Search by department name/status","aria-describedby","emailHelp","autocomplete","off",1,"form-control","py-3","px-4",3,"ngModel","ngModelChange"],["id","search-icon",1,"bi","bi-search",3,"click"],[1,"bg","row","mx-0","my-1"],["class","row mobile-pagination",4,"ngIf"],[1,"s-position"],[1,"page-size-btn",3,"value","ngClass","click"],[1,"bi","bi-arrow-up",3,"click"],[1,"bi","bi-arrow-down",3,"click"],[3,"active",4,"ngFor","ngForOf"],["class","nodata",4,"ngIf"],["mat-raised-button","","mat-mini-fab","",3,"routerLink",4,"ngIf"],["mat-raised-button","","mat-mini-fab","","aria-label","Example icon button with a filter list icon",3,"click",4,"ngIf"],["mat-raised-button","","mat-mini-fab","",3,"routerLink"],["container","body","ngbTooltip","Edit",1,"bi","bi-pencil-square",2,"color","#000","font-size","24px"],["mat-raised-button","","mat-mini-fab","","aria-label","Example icon button with a filter list icon",3,"click"],["container","body","ngbTooltip","Delete",1,"bi","bi-trash",2,"color","red"],[1,"nodata"],["mat-fab","","color","primary","routerLink","/department/create","class","createbtn","placement","top","container","body","ngbTooltip","Add department",4,"ngIf"],["mat-fab","","color","primary","routerLink","/department/create","placement","top","container","body","ngbTooltip","Add department",1,"createbtn"],[1,"fa","fa-plus"],["class","col-sm-12 col-md-6 main-col",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","main-col"],[1,"card","outer-card",3,"click"],[1,"row","p-c"],[1,"col-7"],[1,"col-12"],[1,"card-subtitle"],[1,"col-5","p-0","text-end"],[1,"card","inner-card"],[1,"card-body"],[1,"col-6"],[1,"col-12","value-container"],["type","button",1,"toolbar-btn",3,"click"],["container","body","ngbTooltip","Edit",1,"bi","bi-pencil-square",2,"color","#000"],[1,"bi","bi-trash",2,"color","red"],[1,"row","mobile-pagination"],[1,"col-sm-12"],[1,"mobile-pagination-content"],["mat-fab","","type","button","routerLink","/department/create","class","createbtn-new","placement","top","container","body","ngbTooltip","Add",4,"ngIf"],["mat-fab","","type","button","routerLink","/department/create","placement","top","container","body","ngbTooltip","Add",1,"createbtn-new"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(c){return i.term=c}),t.qZA(),t.TgZ(4,"i",4),t.NdJ("click",function(){return i.filterSearch()}),t.qZA()(),t._UZ(5,"div",5),t.TgZ(6,"div",6)(7,"div",7),t.YNc(8,I,2,5,"button",8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"table",12)(13,"thead")(14,"tr")(15,"th",13),t._uU(16," S.No"),t.qZA(),t.TgZ(17,"th",13),t._uU(18,"Department Name "),t.YNc(19,L,1,0,"i",14),t.YNc(20,S,1,0,"i",15),t.qZA(),t.TgZ(21,"th",13),t._uU(22,"Added Date "),t.YNc(23,P,1,0,"i",14),t.YNc(24,Y,1,0,"i",15),t.qZA(),t.TgZ(25,"th",13),t._uU(26,"Status "),t.YNc(27,E,1,0,"i",14),t.YNc(28,F,1,0,"i",15),t.qZA(),t.TgZ(29,"th",13),t._uU(30,"Action "),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,G,5,13,"ng-container",16),t.qZA()()()()(),t.TgZ(33,"div",10)(34,"div",5)(35,"div",17)(36,"pagination-controls",18),t.NdJ("pageChange",function(c){return i.onTableDataChange(c)}),t.qZA()()()(),t.YNc(37,K,2,1,"ng-container",19),t.qZA(),t.TgZ(38,"div",20)(39,"div",21),t._UZ(40,"div",22),t.TgZ(41,"div",23)(42,"input",24),t.NdJ("ngModelChange",function(c){return i.term=c}),t.qZA(),t.TgZ(43,"i",25),t.NdJ("click",function(){return i.filterSearch()}),t.qZA()()(),t.TgZ(44,"div",26),t.YNc(45,et,4,9,"ng-container",16),t.YNc(46,it,6,1,"div",27),t.TgZ(47,"div",28),t.YNc(48,rt,2,1,"ng-container",19),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("ngModel",i.term),t.xp6(5),t.Q6J("ngForOf",i.tableSizes),t.xp6(11),t.Q6J("ngIf",!i.arrow),t.xp6(1),t.Q6J("ngIf",i.arrow),t.xp6(3),t.Q6J("ngIf",!i.arrow),t.xp6(1),t.Q6J("ngIf",i.arrow),t.xp6(3),t.Q6J("ngIf",!i.arrow),t.xp6(1),t.Q6J("ngIf",i.arrow),t.xp6(4),t.Q6J("ngIf",i.allDepartmentList),t.xp6(5),t.Q6J("ngForOf",i.permissions),t.xp6(5),t.Q6J("ngModel",i.term),t.xp6(3),t.Q6J("ngIf",i.allDepartmentList),t.xp6(1),t.Q6J("ngIf",0!==i.allDepartmentList.length),t.xp6(2),t.Q6J("ngForOf",i.permissions))},dependencies:[p.mk,p.sg,p.O5,d.rH,a.Fj,a.JJ,a.On,f.LS,g._L,y.k,u.lW,p.rS,p.uU,f._s,b.U],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%;padding:10px;border-radius:5px}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}.toolbar-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%;height:40px;margin:1px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}html[_ngcontent-%COMP%]{position:relative}.search-color[_ngcontent-%COMP%]{background-color:#f6f6f6}.outer-card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #0003,0 6px 20px #0000000a;margin:10px 15px;border-radius:10px;zoom:90%;background:rgba(255,255,255,.6)!important}.card-subtitle[_ngcontent-%COMP%]{font-weight:700;color:#454545}.inner-card[_ngcontent-%COMP%]{margin:10px 20px 20px;border-radius:18px;border:1px solid #126EB4;background:rgba(255,255,255,.6980392157);color:#fff!important}.p-c[_ngcontent-%COMP%]{padding:20px 20px 10px}.value-container[_ngcontent-%COMP%]{color:gray;font-weight:700;font-size:16px;margin-top:5px}.card[_ngcontent-%COMP%]   .value-container[_ngcontent-%COMP%]{color:#000}.main-col[_ngcontent-%COMP%]{padding:5px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:-15px;z-index:1}"]}),n})();function st(n,o){1&n&&(t.TgZ(0,"div")(1,"p",19),t._uU(2,"Department name is required"),t.qZA()())}function pt(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,st,3,0,"div",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.od_name.errors&&e.f.od_name.errors.required)}}function dt(n,o){1&n&&(t.TgZ(0,"div")(1,"p",19),t._uU(2,"Cannot start with a space."),t.qZA()())}function _t(n,o){1&n&&(t.TgZ(0,"div")(1,"p",19),t._uU(2,"Status is required"),t.qZA()())}function mt(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,_t,3,0,"div",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.od_status.errors.required)}}function lt(n,o){1&n&&(t.TgZ(0,"div")(1,"p",19),t._uU(2,"Department name is required"),t.qZA()())}function ut(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,lt,3,0,"div",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.od_name.errors&&e.f.od_name.errors.required)}}function gt(n,o){1&n&&(t.TgZ(0,"div")(1,"p",19),t._uU(2,"Cannot start with a space."),t.qZA()())}function ft(n,o){1&n&&(t.TgZ(0,"div")(1,"p",19),t._uU(2,"Status is required"),t.qZA()())}function ht(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ft,3,0,"div",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.od_status.errors.required)}}const bt=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-department"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[d.lC]}),n})(),children:[{path:"create",component:J},{path:"list",component:at},{path:"update/:id/:page/:tableSize",component:(()=>{class n{constructor(e,i,r,c,_,At){this.builder=e,this.api=i,this.route=r,this.router=c,this.location=_,this.common_service=At,this.BreadCrumbsTitle="Update department",this.id=this.route.snapshot.paramMap.get("id"),this.page=this.route.snapshot.paramMap.get("page"),this.tableSize=this.route.snapshot.paramMap.get("tableSize"),this.org_id=sessionStorage.getItem("org_id")}goBack(e){e.preventDefault(),this.location.back()}initForm(){this.updateForm=this.builder.group({od_name:["",[a.kI.pattern(/^\S.*$/),a.kI.required]],od_status:["",a.kI.required],organization_id:this.org_id})}ngOnInit(){this.common_service.setTitle(this.BreadCrumbsTitle),this.initForm(),this.edit()}get f(){return this.updateForm.controls}edit(){this.org_id&&this.api.getCurrentDepartmentDetails(this.id,{page_number:this.page,data_per_page:this.tableSize,org_ref_id:this.org_id}).subscribe(i=>{this.updateForm.patchValue({od_name:i.result.data[0].od_name,od_status:i.result.data[0].od_status})})}update(){this.updateForm.invalid?this.updateForm.markAllAsTouched():this.api.updateDepartmant(this.id,this.updateForm.value).subscribe(e=>{e?(this.api.showSuccess("Department updated successfully!"),this.updateForm.reset(),this.router.navigate(["/department/list"])):this.api.showError("Error!")},e=>{this.api.showError(e.error.error.message)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(m.O),t.Y36(d.gz),t.Y36(d.F0),t.Y36(p.Ye),t.Y36(l.R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-update-department"]],decls:73,vars:8,consts:[[1,"container-fluid","webView"],[1,"generic-form","bg","mx-1"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6"],["type","text","formControlName","od_name","placeholder","Enter department name","aria-describedby","emailHelp","autocomplete","off",1,"form-control","p-3","sizeinput"],[4,"ngIf"],[1,"col-6"],["formControlName","od_status",1,"form-select","p-3","sizeinput"],["value","","selected","","disabled",""],["value","Active"],["value","Inactive"],[1,"col-sm-2"],["mat-raised-button","","type","submit",1,"proceedbtn","mat-btn-s"],[1,"container-fluid","mobileView"],[1,"row","mx-1","my-2"],[1,"col-sm-12"],[1,"bi","bi-arrow-left",3,"click"],[1,"col-sm-12","col-md-6","col-lg-6"],[1,"error-msg"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return i.update()}),t.TgZ(3,"div",3)(4,"div",4)(5,"h4"),t._uU(6,"Department details"),t.qZA()()(),t.TgZ(7,"div",3)(8,"div",4)(9,"p"),t._uU(10,"Department name "),t.TgZ(11,"span"),t._uU(12,"*"),t.qZA()(),t._UZ(13,"input",5),t.YNc(14,pt,2,1,"div",6),t.YNc(15,dt,3,0,"div",6),t.qZA()(),t.TgZ(16,"div",3)(17,"div",7)(18,"p"),t._uU(19,"Status "),t.TgZ(20,"span"),t._uU(21,"*"),t.qZA()(),t.TgZ(22,"select",8)(23,"option",9),t._uU(24,"Select status"),t.qZA(),t.TgZ(25,"option",10),t._uU(26,"Active"),t.qZA(),t.TgZ(27,"option",11),t._uU(28,"Inactive"),t.qZA()(),t.YNc(29,mt,2,1,"div",6),t.qZA()(),t.TgZ(30,"div",3)(31,"div",12)(32,"button",13),t._uU(33,"Update"),t.qZA()()()()()(),t.TgZ(34,"div",14)(35,"div",15)(36,"div",16)(37,"h1")(38,"i",17),t.NdJ("click",function(c){return i.goBack(c)}),t.qZA(),t._uU(39," Update department"),t.qZA()()(),t.TgZ(40,"div",1)(41,"form",2),t.NdJ("ngSubmit",function(){return i.update()}),t.TgZ(42,"div",3)(43,"div",4)(44,"h4"),t._uU(45,"Department details"),t.qZA()()(),t.TgZ(46,"div",3)(47,"div",4)(48,"p"),t._uU(49,"Department name "),t.TgZ(50,"span"),t._uU(51,"*"),t.qZA()(),t._UZ(52,"input",5),t.YNc(53,ut,2,1,"div",6),t.YNc(54,gt,3,0,"div",6),t.qZA()(),t.TgZ(55,"div",3)(56,"div",18)(57,"p"),t._uU(58,"Status "),t.TgZ(59,"span"),t._uU(60,"*"),t.qZA()(),t.TgZ(61,"select",8)(62,"option",9),t._uU(63,"Select status"),t.qZA(),t.TgZ(64,"option",10),t._uU(65,"Active"),t.qZA(),t.TgZ(66,"option",11),t._uU(67,"Inactive"),t.qZA()(),t.YNc(68,ht,2,1,"div",6),t.qZA()(),t.TgZ(69,"div",3)(70,"div",12)(71,"button",13),t._uU(72,"Update"),t.qZA()()()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",i.updateForm),t.xp6(12),t.Q6J("ngIf",i.f.od_name.touched&&i.f.od_name.invalid),t.xp6(1),t.Q6J("ngIf",i.f.od_name.touched&&i.f.od_name.hasError("pattern")),t.xp6(14),t.Q6J("ngIf",i.f.od_status.touched&&i.f.od_status.invalid),t.xp6(12),t.Q6J("formGroup",i.updateForm),t.xp6(12),t.Q6J("ngIf",i.f.od_name.touched&&i.f.od_name.invalid),t.xp6(1),t.Q6J("ngIf",i.f.od_name.touched&&i.f.od_name.hasError("pattern")),t.xp6(14),t.Q6J("ngIf",i.f.od_status.touched&&i.f.od_status.invalid))},dependencies:[p.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,u.lW],styles:["ol[_ngcontent-%COMP%]{background-color:inherit}a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}li[_ngcontent-%COMP%]{list-style:none;color:gray}ul[_ngcontent-%COMP%]{padding:0}.bg[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%;padding:20px;border-radius:5px}.proceedbtn[_ngcontent-%COMP%]{background-color:#3f51b5;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.printbtn[_ngcontent-%COMP%]{background-color:#00bcd4;border-radius:5px;border:none;height:40px;width:100%;color:#fff;margin:10px 0}.row[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{padding:0 5px 0 0}.btnicon[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]:hover   .btnicon[_ngcontent-%COMP%]{display:block}  .mat-form-field{height:55px;width:95%!important;background-color:#fff;border-radius:50px;border:solid gray}  .mat-form-field-underline{display:none}select[_ngcontent-%COMP%]{width:100%;height:50px}span[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{color:gray}"]}),n})()}]}];let vt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(bt),d.Bz]}),n})();var Zt=s(529),Ct=s(7185),Tt=s(3189),xt=s(101);let Dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,vt,Zt.JF,a.UX,a.u5,Ct.Rh.forRoot(),f.JX,Tt.h,g.HK,xt.m]}),n})()}}]);